@import '../../theme/tokens/facade';

@keyframes rotate {
	100% {
		transform: rotate(360deg);
	}
}

@keyframes dash {
	0% {
		stroke-dasharray: 1, 200;
		stroke-dashoffset: 0;
	}

	50% {
		stroke-dasharray: 89, 200;
		stroke-dashoffset: -35px;
	}

	100% {
		stroke-dasharray: 89, 200;
		stroke-dashoffset: -124px;
	}
}

:root {
	--progress--spinner--size-smal: 12px;
	--progress--spinner--size-medium: 16px;
	--progress--spinner--size-large: 24px;
	--progress--spinner--stroke--size-small: 4px;
	--progress--spinner--stroke--size-medium: 5px;
	--progress--spinner--stroke--size-large: 6px;
}

.root {
	display: grid;
	grid-template-columns: 1fr;
	align-content: center;
	justify-content: center;
	align-items: center;
}

.circular {
	animation: rotate 2s linear infinite;
	transform-origin: center center;
	margin: 0 auto;
	overflow: hidden;
}

.path {
	stroke-dasharray: 1, 200;
	stroke-dashoffset: 0;
	stroke-linecap: round;
	animation: dash 1.5s ease-in-out infinite;
	stroke: currentColor;

	.variant-light & {
		stroke: white;
	}

	.variant-primary & {
		stroke: getColour(green, 600);
	}

	.variant-secondary & {
		stroke: getColour(gray, 300);
	}

	.variant-warning & {
		stroke: getColour(yellow, 900);
	}

	.variant-danger & {
		stroke: getColour(red, 600);
	}
}

.size {
	&-small {
		.circular {
			width: var(--progress--spinner--size-smal);
			height: var(--progress--spinner--size-smal);
		}

		.path {
			stroke-width: var(--progress--spinner--stroke--size-small);
		}
	}

	&-medium {
		.circular {
			width: var(--progress--spinner--size-medium);
			height: var(--progress--spinner--size-medium);
		}

		.path {
			stroke-width: var(--progress--spinner--stroke--size-medium);
		}
	}

	&-large {
		.circular {
			width: var(--progress--spinner--size-large);
			height: var(--progress--spinner--size);
		}

		.path {
			stroke-width: var(--progress--spinner--stroke--size-large);
		}
	}
}
