@import '../../theme/tokens/facade';

@mixin isDisabledState() {
	&[disabled],
	&[aria-disabled='true'] {
		cursor: not-allowed;

		&:not(.loading) {
			@content;
		}
	}
}

$handleSize: 24px;
$handleOffset: 2px;
$borderSize: 1px;

.root {
	font-size: var(--global--fontSize--5);
	line-height: var(--global--fontSize--5);
	background-color: getColour(gray, 100);
	border-radius: $handleSize + $handleOffset;
	border: #{$borderSize} solid getColour(gray, 300);
	width: (2 * $handleSize) + $handleOffset - 2 * ($borderSize);
	height: $handleSize + ($handleOffset * 2);
	position: relative;
	cursor: pointer;
	transition: background-color 0.2s cubic-bezier(0, 0, 0.2, 1) 0s;

	@include isDisabledState() {
		background-color: getColour(gray, 10);
		border-color: getColour(gray, 200);

		&.toggled {
			background-color: getColour(green, 200);
			border-color: getColour(green, 200);
		}

		.handle {
			border-color: getColour(gray, 200);
		}
	}

	&.toggled {
		background-color: getColour(green, 700);
	}
}

.handle {
	width: $handleSize;
	height: $handleSize;
	background-color: white;
	box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.03), 0 2px 2px 0 rgba(0, 0, 0, 0.03),
		0 3px 1px -2px rgba(0, 0, 0, 0.05);
	border: #{$borderSize} solid getColour(gray, 300);
	border-radius: 50%;
	-webkit-tap-highlight-color: rgba(0, 0, 0, 0);
	outline: none;
	fill: white;
	padding: 0;
	position: absolute;
	left: $handleOffset - $borderSize;
	top: $handleOffset - $borderSize;
	transition: transform 0.2s cubic-bezier(0, 0, 0.2, 1) 0s;
	will-change: transform;

	.toggled & {
		transform: translateX($handleSize - (2 * $handleOffset));
	}
}
