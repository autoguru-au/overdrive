@import '../../theme/tokens/facade';

@mixin isDisabledState() {
	.disabled &,
	&[aria-disabled='true'] {
		cursor: not-allowed;

		&:not(.loading) {
			@content;
		}
	}
}

$handleSize: 24px;
$handleOffset: 2px;
$borderSize: 1px;

.root {
	font-size: var(--global--fontSize--5);
	line-height: var(--global--fontSize--5);
	position: relative;
	width: (2 * $handleSize) + $handleOffset - 2 * ($borderSize);
	height: $handleSize + ($handleOffset * 2);
	cursor: pointer;
	transition: background-color 0.2s cubic-bezier(0, 0, 0.2, 1) 0s;
	border: #{$borderSize} solid getColour(gray, 300);
	border-radius: $handleSize + $handleOffset;
	background-color: getColour(gray, 100);

	@include isDisabledState() {
		border-color: getColour(gray, 200);
		background-color: getColour(gray, 10);

		&.toggled {
			border-color: getColour(green, 200);
			background-color: getColour(green, 200);
		}

		.handle {
			border-color: getColour(gray, 200);
		}
	}

	&.toggled {
		border-color: getColour(green, 700);
		background-color: getColour(green, 600);
	}
}

.handle {
	position: absolute;
	top: $handleOffset - $borderSize;
	left: $handleOffset - $borderSize;
	width: $handleSize;
	height: $handleSize;
	padding: 0;
	transition: transform 0.2s cubic-bezier(0, 0, 0.2, 1) 0s;
	color: white;
	border: #{$borderSize} solid getColour(gray, 300);
	border-radius: 50%;
	outline: none;
	background-color: white;
	box-shadow: var(--global--elevationBoxShadow--2);
	will-change: transform;

	.toggled & {
		transform: translateX($handleSize - (2 * $handleOffset));
	}
}
