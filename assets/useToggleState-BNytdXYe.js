import{u as E,v as u,w as A}from"./useFocusable-MSVfTgJj.js";import{$ as g,a as U}from"./usePress-CvQAGAto.js";import{$ as V}from"./useFormReset-CL-Hr0OA.js";import{r as j}from"./iframe-B-UydsVC.js";function G(e,a,l){let{isDisabled:t=!1,isReadOnly:i=!1,value:s,name:c,form:r,children:n,"aria-label":x,"aria-labelledby":y,validationState:b="valid",isInvalid:$,onPressStart:v,onPressEnd:S,onPressChange:p,onPress:o,onPressUp:P,onClick:m}=e,h=d=>{d.stopPropagation(),a.setSelected(d.target.checked)},C=n!=null,k=x!=null||y!=null,{pressProps:L,isPressed:_}=g({onPressStart:v,onPressEnd:S,onPressChange:p,onPress:o,onPressUp:P,onClick:m,isDisabled:t}),{pressProps:D,isPressed:I}=g({onPressStart:v,onPressEnd:S,onPressChange:p,onPressUp:P,onClick:m,onPress(d){var f;o?.(d),a.toggle(),(f=l.current)===null||f===void 0||f.focus()},isDisabled:t||i}),{focusableProps:O}=E(e,l),R=u(L,O),w=U(e,{labelable:!0});return V(l,a.defaultSelected,a.setSelected),{labelProps:u(D,{onClick:d=>d.preventDefault()}),inputProps:u(w,{"aria-invalid":$||b==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":i||void 0,onChange:h,disabled:t,...s==null?{}:{value:s},name:c,form:r,type:"checkbox",...R}),isSelected:a.isSelected,isPressed:_||I,isDisabled:t,isReadOnly:i,isInvalid:$||b==="invalid"}}function H(e={}){let{isReadOnly:a}=e,[l,t]=A(e.isSelected,e.defaultSelected||!1,e.onChange),[i]=j.useState(l);function s(n){a||t(n)}function c(){a||t(!l)}var r;return{isSelected:l,defaultSelected:(r=e.defaultSelected)!==null&&r!==void 0?r:i,setSelected:s,toggle:c}}export{G as $,H as a};
