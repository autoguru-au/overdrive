import{r as o,i as me,h as F,e as a,z as fe,B as w,c as ie,s as W}from"./iframe-C_bA5shj.js";import{a as G}from"./argTypes-BP225n8_.js";import{u as ge}from"./useMedia-5yuCFQWq.js";import{B as ve}from"./Button-DlNVolKd.js";import{I as C}from"./Icon-BzD9lmaF.js";import{_ as he}from"./Portal-7HoW5O0S.js";import{E as ye,P as xe}from"./Positioner-CdH1K1vJ.js";import{T as Ee}from"./Text-Bu_KMAJq.js";import{I as se}from"./CloseIcon-D3dP3Vq3.js";import{w as Ie}from"./withEnhancedInput-FWbbQekk.js";import{I as be}from"./ChevronDownIcon-BSJ34Kn8.js";import{a as we}from"./PhoneIcon-goxhFJR4.js";import"./CheckIcon-DG8KXA_G.js";import"./StarIcon-BZvV_97V.js";import"./PlusIcon-DwYKUHJl.js";import"./CurrencyUsdIcon-Bx6-hRi2.js";import"./AlertCircleIcon-O9qrVIEl.js";import"./MagnifyIcon-t1kH3BJ3.js";import"./ProgressSpinner-DKoyI-KV.js";import"./resolveResponsiveProps-CWlS2Mbp.js";import"./index-CibneER-.js";import"./index-CZMRv72L.js";import"./withEnhancedInput.css-B9hBnbGB.js";const Te=()=>o.useEffect(()=>{const e=window.scrollY;return document.documentElement.style.position="fixed",document.documentElement.style.overflow="hidden",document.documentElement.style.maxHeight="100%",document.documentElement.style.width="100%",()=>{document.documentElement.style.position="",document.documentElement.style.overflow="",document.documentElement.style.maxHeight="",document.documentElement.style.width="",window.scrollTo(0,e)}},[]);var qe="xqmg0q0",H={defaults:"xqmg0q1",blockOptions:"xqmg0q2",inlineOptions:"xqmg0q3",inlineOptionsNoScroll:"xqmg0q4"},Oe="xqmg0q5",Se="xqmg0q6",ke="xqmg0q7",Re="xqmg0q8",$="xqmg0q9",Ne="xqmg0qa",K={default:"xqmg0qb",skipped:"xqmg0qc"},Ve="xqmg0qd";const Fe=(e,t,u)=>{me&&o.useLayoutEffect(()=>{if(t.current&&u.current&&e>-1){const l=t.current,n=u.current,i=l.offsetParent===n?l.offsetTop:l.offsetTop-n.offsetTop;let{scrollTop:r}=n;const{offsetHeight:d}=n;i<r?r=i:i+l.offsetHeight>r+d&&(r=i+l.offsetHeight-d),r!==r&&(n.scrollTop=r)}},[e,t,u])},Le=e=>(t,u)=>{switch(u.type){default:case 0:return{isFlyoutOpen:!0,highlightIndex:-1,previewText:null};case 7:case 9:case 1:case 4:return{isFlyoutOpen:!1,highlightIndex:-1,previewText:null};case 3:return{...t,isFlyoutOpen:e.length>-1};case 5:{const l=P(1,t.highlightIndex,e);return{isFlyoutOpen:!0,highlightIndex:l,previewText:l>-1?e[l].text:null}}case 6:{const l=P(1,-1,e);if(t.highlightIndex===l)return{isFlyoutOpen:!0,highlightIndex:-1,previewText:null};const n=P(-1,t.highlightIndex,e);return{isFlyoutOpen:!0,highlightIndex:n,previewText:n>-1?e[n].text:null}}case 8:return{...t,highlightIndex:u.index};case 2:return t.highlightIndex>-1?{highlightIndex:-1,previewText:null,isFlyoutOpen:!1}:t}},D=o.forwardRef(function({autoFocus:t=!1,autoWidth:u=!1,inlineOptions:l=!1,fieldIcon:n,suggestions:i,value:r,onChange:d,onEnter:f,itemRenderer:g=pe,onBlur:s,onFocus:p,onKeyDown:v,onClick:x,...k},q){const O=o.useRef(null),T=o.useRef(r);o.useImperativeHandle(q,()=>O.current);const[y]=ge(["desktop"],!1),[S,m]=o.useState(!1),[R,E]=o.useState(!1),I=o.useCallback(()=>{E(!1),m(!1)},[E]);r&&r!==T.current&&(T.current=r,r.payload&&I());const L={suggestions:i,value:T.current,onChange:c=>{c.payload!==void 0&&c.payload!==null&&(E(!1),y||m(!1)),typeof d=="function"&&d(c)},onKeyUp:c=>{var h;c.key==="Enter"&&typeof f=="function"&&(E(!1),m(!1),(h=O.current)==null||h.blur(),f(T.current))},itemRenderer:g,onKeyDown:v,onClick:x,onFocus:F.wrapEvent(()=>{m(!0),E(!0)},p),onBlur:F.wrapEvent(()=>m(!1),s),...k};return!l&&!y&&R?a.createElement(Ae,{...L,attach:"NONE",borderMerged:"NONE",isFocused:S,inlineOptions:!0,fieldIcon:n,autoFocus:t,closeModal:I}):a.createElement(ce,{ref:O,...L,isFocused:S,inlineOptions:l,fieldIcon:n,autoFocus:t,autoWidth:u})}),Ae=o.forwardRef(function({closeModal:t,...u},l){const[n,i]=o.useState(!1);return Te(),o.useEffect(()=>{const r=requestAnimationFrame(()=>i(!0));return()=>{cancelAnimationFrame(r)}},[i]),n?a.createElement(he,null,a.createElement("div",{className:qe},a.createElement(ce,{ref:l,...u,className:ke,inlineOptions:!0,noScroll:!0}),a.createElement(ve,{minimal:!0,rounded:!0,className:Re,size:"medium",onClick:t},a.createElement(C,{icon:se})))):null}),ce=o.forwardRef(function({inlineOptions:t=!1,noScroll:u=!1,isFocused:l=!1,size:n,fieldIcon:i,isLoading:r,autoFocus:d,autoWidth:f,suggestions:g,value:s,onChange:p,itemRenderer:v=pe,onBlur:x,onFocus:k,onKeyDown:q,onClick:O,className:T,...y},S){const m=o.useRef(null),R=o.useRef(null),E=o.useRef(null),I=fe(),L=o.useMemo(()=>Le(g),[g]),[c,h]=o.useReducer(L,{highlightIndex:-1,previewText:null,isFlyoutOpen:!1}),z=g.length>0&&c.isFlyoutOpen;return Fe(c.highlightIndex,R,E),a.createElement(w,{role:"combobox","aria-label":y.placeholder,"aria-expanded":z,"aria-owns":I,"aria-haspopup":"listbox",width:"full"},a.createElement(w,{backgroundColour:"white",borderRadius:"sm",className:Se},a.createElement(Me,{className:T,size:n,isFocused:l,isLoading:r,autoFocus:d,fieldIcon:i,wrapperRef:m,...y,ref:S,"aria-autocomplete":"list","aria-controls":I,"aria-activedescendant":c.highlightIndex>-1?de(I,c.highlightIndex):void 0,value:c.previewText??(s==null?void 0:s.text),onReset:()=>{h({type:0}),typeof p=="function"&&p({text:"",payload:void 0})},onChange:b=>{h({type:0}),typeof p=="function"&&p({text:b.target.value,payload:void 0})},onFocus:F.wrapEvent(()=>h({type:3}),k),onBlur:F.wrapEvent(()=>{var b;c.highlightIndex>-1&&c.highlightIndex&&c.previewText===((b=g[c.highlightIndex])==null?void 0:b.text)&&typeof p=="function"&&p(g[c.highlightIndex]),h({type:4})},x),onKeyDown:F.wrapEvent(b=>{switch(b.key){case"ArrowUp":case"ArrowDown":{b.preventDefault(),h({type:b.key==="ArrowDown"?5:6});return}case"Enter":{c.highlightIndex>-1&&(b.preventDefault(),typeof p=="function"&&p(g[c.highlightIndex])),h({type:2});return}case"Escape":h({type:1})}},q)})),t?a.createElement(Y,{suggestionListRef:E,suggestionListId:I,placeholder:y.placeholder,highlightIndex:c.highlightIndex,suggestions:g,highlightRef:R,itemRenderer:v,className:u?H.inlineOptionsNoScroll:H.inlineOptions,dispatch:h,onChange:p}):a.createElement(Be,{id:I,autoWidth:f,triggerRef:m,alignment:ye.BOTTOM_LEFT,isOpen:z,triggerOffset:1},a.createElement(Y,{className:H.blockOptions,suggestionListRef:E,suggestionListId:I,placeholder:y.placeholder,highlightIndex:c.highlightIndex,suggestions:g,highlightRef:R,itemRenderer:v,dispatch:h,onChange:p})))}),Y=({className:e="",suggestionListId:t,placeholder:u,highlightIndex:l,suggestions:n,highlightRef:i,itemRenderer:r,onChange:d,dispatch:f,suggestionListRef:g})=>a.createElement(w,{as:"ul",ref:g,backgroundColour:"white",className:[H.defaults,e],id:t,"aria-label":u,role:"listbox"},a.createElement("div",{className:$}),n.map((s,p)=>{const v=l===p;return a.createElement(w,{as:"li",key:s.text.concat(String(p)),ref:v?i:void 0,id:de(t,p),role:"option","aria-selected":v,"aria-label":s.text,className:ie(K.default,{[K.skipped]:s.skip}),onMouseDown:x=>x.preventDefault(),onMouseMove:()=>{s.skip||f({type:8,index:p})},onClick:()=>{s.skip||(typeof d=="function"&&d(s),f({type:9}))}},typeof r=="function"&&r({suggestions:n,highlight:v,value:s}))}),a.createElement("div",{className:$})),Me=Ie(({field:{className:e,...t},eventHandlers:u,validation:l,suffixed:n,prefixed:i,isLoading:r,fieldIcon:d=be,isFocused:f,className:g,size:s,...p})=>{let v;const x=o.useRef(null),k=o.useCallback(()=>{var m;(m=x.current)==null||m.focus()},[]),{onReset:q,...O}=u,T=o.useCallback(m=>{t.ref&&W(t.ref,m),W(x,m)},[t]),y=o.useCallback(()=>{typeof q=="function"&&q(),v=setTimeout(()=>{var m;return(m=x.current)==null?void 0:m.focus()},100)},[q,v]),S=o.useMemo(()=>r?null:t.value&&f?a.createElement(w,{as:"button",paddingY:s==="small"?"1":"3",paddingRight:s==="small"?"2":"3",flexShrink:"0",onMouseDown:y},a.createElement(C,{size:s==="large"?s:"medium",icon:se})):d?a.createElement(w,{flexShrink:"0",paddingY:s==="medium"?"3":"2",paddingRight:s==="medium"?"3":"2",onClick:k},a.createElement(C,{size:s==="large"?s:"medium",icon:d})):null,[t.value,r,d,f,y]);return o.useEffect(()=>()=>v?clearTimeout(v):void 0,[]),a.createElement(w,{display:"flex",flexWrap:"nowrap",alignItems:"center",justifyContent:"center",className:g},a.createElement(w,{as:"input",flexGrow:"1",...O,...t,ref:T,autoCapitalize:"none",spellCheck:"false",autoComplete:"off",className:[e,Oe],...p,type:"search"}),S)},{primitiveType:"text",withPrefixIcon:!0,withSuffixIcon:!1}),de=(e,t)=>`${e}-option-${t}`,Be=({id:e,alignment:t,isOpen:u,triggerOffset:l,triggerRef:n,autoWidth:i,children:r})=>a.createElement(xe,{id:e,triggerRef:n,alignment:t,isOpen:u,triggerOffset:l,role:"listbox"},a.createElement(w,{borderWidth:"1",borderColour:"gray",borderRadius:"md",backgroundColour:"white",boxShadow:"4",style:{width:n.current&&!i?n.current.clientWidth:void 0},onMouseDown:d=>d.preventDefault()},r)),pe=({value:e,highlight:t})=>a.createElement(He,{highlight:t,text:e.text}),He=({text:e,highlight:t})=>a.createElement("div",{className:ie(Ne,{[Ve]:t})},a.createElement(Ee,{as:"span"},e)),P=(e,t,u)=>{var d;if(!Array.isArray(u)||u.length===0)return-1;const l=u.length-1;let n=-1,i=-1,r;do{++n;const f=Math.trunc((i===-1?t:i)+e);f<0?i=f>l?0:l:i=f>l?0:f,r=((d=u[i])==null?void 0:d.skip)??!1}while(r&&n<=l);return n>l?-1:i};try{D.displayName="AutoSuggest",D.__docgenInfo={description:"",displayName:"AutoSuggest",props:{autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},autoWidth:{defaultValue:null,description:"",name:"autoWidth",required:!1,type:{name:"boolean"}},inlineOptions:{defaultValue:null,description:"",name:"inlineOptions",required:!1,type:{name:"boolean"}},fieldIcon:{defaultValue:null,description:"",name:"fieldIcon",required:!1,type:{name:"IconType"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"AutoSuggestValue<PayloadType> | null"}},suggestions:{defaultValue:null,description:"",name:"suggestions",required:!0,type:{name:"Suggestions<PayloadType>"}},itemRenderer:{defaultValue:null,description:"",name:"itemRenderer",required:!1,type:{name:"AutoSuggestItemRenderer<PayloadType>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: AutoSuggestValue<PayloadType>) => void)"}},onEnter:{defaultValue:null,description:"",name:"onEnter",required:!1,type:{name:"((value: AutoSuggestValue<PayloadType>) => void)"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"large"'},{value:'"medium"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},backgroundColour:{defaultValue:null,description:"",name:"backgroundColour",required:!1,type:{name:"enum",value:[{value:'"transparent"'},{value:'"white"'},{value:'"black900"'},{value:'"black800"'},{value:'"black700"'},{value:'"black600"'},{value:'"black500"'},{value:'"black400"'},{value:'"black300"'},{value:'"black200"'},{value:'"black100"'},{value:'"blue900"'},{value:'"blue800"'},{value:'"blue700"'},{value:'"blue600"'},{value:'"blue500"'},{value:'"blue400"'},{value:'"blue300"'},{value:'"blue200"'},{value:'"blue100"'},{value:'"gray900"'},{value:'"gray800"'},{value:'"gray700"'},{value:'"gray600"'},{value:'"gray500"'},{value:'"gray400"'},{value:'"gray300"'},{value:'"gray200"'},{value:'"gray100"'},{value:'"green900"'},{value:'"green800"'},{value:'"green700"'},{value:'"green600"'},{value:'"green500"'},{value:'"green400"'},{value:'"green300"'},{value:'"green200"'},{value:'"green100"'},{value:'"red900"'},{value:'"red800"'},{value:'"red700"'},{value:'"red600"'},{value:'"red500"'},{value:'"red400"'},{value:'"red300"'},{value:'"red200"'},{value:'"red100"'},{value:'"yellow900"'},{value:'"yellow800"'},{value:'"yellow700"'},{value:'"yellow600"'},{value:'"yellow500"'},{value:'"yellow400"'},{value:'"yellow300"'},{value:'"yellow200"'},{value:'"yellow100"'},{value:'"success"'},{value:'"danger"'},{value:'"warning"'},{value:'"neutral"'},{value:'"primary"'},{value:'"brand"'},{value:'"secondary"'},{value:'"shine"'},{value:'"information"'}]}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},attach:{defaultValue:null,description:"",name:"attach",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"LEFT"'},{value:'"TOP"'},{value:'"RIGHT"'},{value:'"BOTTOM"'},{value:'"ALL"'}]}},borderMerged:{defaultValue:null,description:"",name:"borderMerged",required:!1,type:{name:"enum",value:[{value:'"NONE"'},{value:'"LEFT"'},{value:'"TOP"'},{value:'"RIGHT"'},{value:'"BOTTOM"'},{value:'"ALL"'}]}},isFocused:{defaultValue:null,description:"",name:"isFocused",required:!1,type:{name:"boolean"}},hintText:{defaultValue:null,description:"",name:"hintText",required:!1,type:{name:"ReactNode"}},notch:{defaultValue:null,description:"",name:"notch",required:!1,type:{name:"boolean"}},reserveHintSpace:{defaultValue:null,description:"",name:"reserveHintSpace",required:!1,type:{name:"boolean"}},prefixIcon:{defaultValue:null,description:"",name:"prefixIcon",required:!1,type:{name:"IconType"}},wrapperRef:{defaultValue:null,description:"",name:"wrapperRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},isTouched:{defaultValue:null,description:"",name:"isTouched",required:!1,type:{name:"boolean"}},isValid:{defaultValue:null,description:"",name:"isValid",required:!1,type:{name:"boolean"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLInputElement>"}}}}}catch{}const{action:N}=__STORYBOOK_MODULE_ACTIONS__,_=["Alfa Romeo","Aston Martin","Bentley","BMW","Bugatti","Ferrari","Jaguar","Koenigsegg","Lamborghini","Lotus","Maserati","McLaren","Pontiac","Porsche"].map(e=>({text:e,payload:e})),Pe={NONE:"NONE",TOP:"TOP",RIGHT:"RIGHT",LEFT:"LEFT",BOTTOM:"BOTTOM",ALL:"ALL"},it={title:"Forms & Input Fields/Auto Suggest",component:D,decorators:[e=>a.createElement("div",{style:{minHeight:"420px"}},a.createElement(e,null))],args:{value:_[3],suggestions:_,disabled:void 0,name:"text",placeholder:"Pick an exotic car brand",isValid:void 0,isTouched:void 0,isLoading:void 0,isFocused:void 0,reserveHintSpace:void 0,hintText:"",notch:!0,prefixIcon:we,onReset:()=>N("onReset")(),onChange:e=>N("onChange")(e),onEnter:e=>N("onEnter")(e),onFocus:e=>N("onFocus")(e),onBlur:e=>N("onBlur")(e)},argTypes:{value:{options:{unselected:null,...Object.fromEntries(_.map(e=>[e.text,e]))},defaultValue:null,control:{type:"select"}},attach:{defaultValue:"NONE",description:"Input attach",options:Object.values(Pe),control:{type:"select"}},fieldIcon:{defaultValue:null,description:"Input field Icon",...G},prefixIcon:{defaultValue:null,description:"Input prefix Icon",...G},wrapperRef:{control:{disable:!0}},ref:{control:{disable:!0}}}},V={},A={args:{size:"large"}},M={args:{size:"small"}},B={args:{isLoading:!0}};var j,U,J,Q,X;V.parameters={...V.parameters,docs:{...(j=V.parameters)==null?void 0:j.docs,source:{originalSource:"{}",...(J=(U=V.parameters)==null?void 0:U.docs)==null?void 0:J.source},description:{story:`Additional examples of shared input field states and variants can be seen in
[Text Input](/docs/forms-input-fields-text-input--docs)`,...(X=(Q=V.parameters)==null?void 0:Q.docs)==null?void 0:X.description}}};var Z,ee,te;A.parameters={...A.parameters,docs:{...(Z=A.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  args: {
    size: 'large'
  }
}`,...(te=(ee=A.parameters)==null?void 0:ee.docs)==null?void 0:te.source}}};var ae,le,ne;M.parameters={...M.parameters,docs:{...(ae=M.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  args: {
    size: 'small'
  }
}`,...(ne=(le=M.parameters)==null?void 0:le.docs)==null?void 0:ne.source}}};var re,oe,ue;B.parameters={...B.parameters,docs:{...(re=B.parameters)==null?void 0:re.docs,source:{originalSource:`{
  args: {
    isLoading: true
  }
}`,...(ue=(oe=B.parameters)==null?void 0:oe.docs)==null?void 0:ue.source}}};const st=["Standard","LargeSize","SmallSize","Loading"];export{A as LargeSize,B as Loading,M as SmallSize,V as Standard,st as __namedExportsOrder,it as default};
