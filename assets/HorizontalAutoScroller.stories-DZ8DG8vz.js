import{r as s,f as se,B as j,c as oe,S as ie,e as P}from"./iframe-PpC19URd.js";import{b as ue,s as le}from"./argTypes-box-tr8bUx5o.js";import{B as J}from"./Button-DcSLC2Gb.js";import{a as L,C as ce}from"./Column-CL5_gDfT.js";import{I as Q}from"./Icon-e9Gz_vr0.js";import{S as de}from"./Section-BmBZCVUQ.js";import{S as fe}from"./SliderProgress-BRw1hHT6.js";import{I as ge}from"./ChevronLeftIcon-7HHboZj4.js";import{I as he}from"./ChevronRightIcon-Cqm7t94X.js";import"./preload-helper-D9Z9MdNV.js";import"./ProgressSpinner-74m37pYw.js";import"./resolveResponsiveProps-BoEvDski.js";class z{static _xfnv1a(t){let r=2166136261;for(let o=0;o<t.length;o++)r=Math.imul(r^t.charCodeAt(o),16777619);return()=>(r+=r<<13,r^=r>>>7,r+=r<<3,r^=r>>>17,(r+=r<<5)>>>0)}}class H extends z{constructor(t){super(),Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=H._xfnv1a(t)()}next(){let t=this.a+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}}class $ extends z{constructor(t){super(),Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const r=$._xfnv1a(t);this.a=r(),this.b=r(),this.c=r(),this.d=r()}next(){this.a>>>=0,this.b>>>=0,this.c>>>=0,this.d>>>=0;const t=(this.a+this.b|0)+this.d|0;return this.a=this.b^this.b>>>9,this.b=this.c+(this.c<<3)|0,this.c=(this.c<<21|this.c>>>11)+t|0,this.d=this.d+1|0,(t>>>0)/4294967296}}class Y extends z{constructor(t){super(),Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const r=Y._xfnv1a(t);this.a=r(),this.b=r(),this.c=r(),this.d=r()}next(){const t=this.b<<9;let r=5*this.b;return r=9*(r<<7|r>>>25),this.c^=this.a,this.d^=this.b,this.b^=this.c,this.a^=this.d,this.c^=t,this.d=this.d<<11|this.d>>>21,(r>>>0)/4294967296}}var W;(function(e){e.sfc32="sfc32",e.mulberry32="mulberry32",e.xoshiro128ss="xoshiro128ss"})(W||(W={}));class pe{constructor(t,r=W.sfc32){Object.defineProperty(this,"str",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"prng",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.str=t,this.prng=r,this.generator=this._initializeGenerator()}next(){return this.generator.next()}_initializeGenerator(){if((r=>r===null)(t=this.str)||(r=>r===void 0)(t))return this.wrap();var t;switch(this.prng){case"sfc32":return new $(this.str);case"mulberry32":return new H(this.str);case"xoshiro128ss":return new Y(this.str);default:return this.wrap()}}wrap(){return{next:()=>Math.random()}}}const ve="Left",me="Right",be="Up",ye="Down",T={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},B={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Z="mousemove",ee="mouseup",we="touchend",Ee="touchmove",Se="touchstart";function Oe(e,t,r,o){return e>t?r>0?me:ve:o>0?ye:be}function te(e,t){if(t===0)return e;const r=Math.PI/180*t,o=e[0]*Math.cos(r)+e[1]*Math.sin(r),g=e[1]*Math.cos(r)-e[0]*Math.sin(r);return[o,g]}function Pe(e,t){const r=n=>{const a="touches"in n;a&&n.touches.length>1||e((i,u)=>{u.trackMouse&&!a&&(document.addEventListener(Z,o),document.addEventListener(ee,l));const{clientX:h,clientY:v}=a?n.touches[0]:n,m=te([h,v],u.rotationAngle);return u.onTouchStartOrOnMouseDown&&u.onTouchStartOrOnMouseDown({event:n}),Object.assign(Object.assign(Object.assign({},i),B),{initial:m.slice(),xy:m,start:n.timeStamp||0})})},o=n=>{e((a,i)=>{const u="touches"in n;if(u&&n.touches.length>1)return a;if(n.timeStamp-a.start>i.swipeDuration)return a.swiping?Object.assign(Object.assign({},a),{swiping:!1}):a;const{clientX:h,clientY:v}=u?n.touches[0]:n,[m,O]=te([h,v],i.rotationAngle),b=m-a.xy[0],p=O-a.xy[1],E=Math.abs(b),S=Math.abs(p),x=(n.timeStamp||0)-a.start,q=Math.sqrt(E*E+S*S)/(x||1),G=[b/(x||1),p/(x||1)],M=Oe(E,S,b,p),y=typeof i.delta=="number"?i.delta:i.delta[M.toLowerCase()]||T.delta;if(E<y&&S<y&&!a.swiping)return a;const C={absX:E,absY:S,deltaX:b,deltaY:p,dir:M,event:n,first:a.first,initial:a.initial,velocity:q,vxvy:G};C.first&&i.onSwipeStart&&i.onSwipeStart(C),i.onSwiping&&i.onSwiping(C);let k=!1;return(i.onSwiping||i.onSwiped||i[`onSwiped${M}`])&&(k=!0),k&&i.preventScrollOnSwipe&&i.trackTouch&&n.cancelable&&n.preventDefault(),Object.assign(Object.assign({},a),{first:!1,eventData:C,swiping:!0})})},g=n=>{e((a,i)=>{let u;if(a.swiping&&a.eventData){if(n.timeStamp-a.start<i.swipeDuration){u=Object.assign(Object.assign({},a.eventData),{event:n}),i.onSwiped&&i.onSwiped(u);const h=i[`onSwiped${u.dir}`];h&&h(u)}}else i.onTap&&i.onTap({event:n});return i.onTouchEndOrOnMouseUp&&i.onTouchEndOrOnMouseUp({event:n}),Object.assign(Object.assign(Object.assign({},a),B),{eventData:u})})},f=()=>{document.removeEventListener(Z,o),document.removeEventListener(ee,l)},l=n=>{f(),g(n)},c=(n,a)=>{let i=()=>{};if(n&&n.addEventListener){const u=Object.assign(Object.assign({},T.touchEventOptions),a.touchEventOptions),h=[[Se,r,u],[Ee,o,Object.assign(Object.assign({},u),a.preventScrollOnSwipe?{passive:!1}:{})],[we,g,u]];h.forEach(([v,m,O])=>n.addEventListener(v,m,O)),i=()=>h.forEach(([v,m])=>n.removeEventListener(v,m))}return i},w={ref:n=>{n!==null&&e((a,i)=>{if(a.el===n)return a;const u={};return a.el&&a.el!==n&&a.cleanUpTouch&&(a.cleanUpTouch(),u.cleanUpTouch=void 0),i.trackTouch&&n&&(u.cleanUpTouch=c(n,i)),Object.assign(Object.assign(Object.assign({},a),{el:n}),u)})}};return t.trackMouse&&(w.onMouseDown=r),[w,c]}function Ce(e,t,r,o){return!t.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?t.preventScrollOnSwipe!==r.preventScrollOnSwipe||t.touchEventOptions.passive!==r.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:o(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:o(e.el,t)})}function je(e){const{trackMouse:t}=e,r=s.useRef(Object.assign({},B)),o=s.useRef(Object.assign({},T)),g=s.useRef(Object.assign({},o.current));g.current=Object.assign({},o.current),o.current=Object.assign(Object.assign({},T),e);let f;for(f in T)o.current[f]===void 0&&(o.current[f]=T[f]);const[l,c]=s.useMemo(()=>Pe(d=>r.current=d(r.current,o.current),{trackMouse:t}),[t]);return r.current=Ce(r.current,o.current,g.current,c),l}var re="_2i92q00",ne="_2i92q01",Te="_2i92q02",xe="_2i92q03",Me="_2i92q04",_e="_2i92q05",X=new Map,A=new WeakMap,ae=0,ke=void 0;function Ae(e){return e?(A.has(e)||(ae+=1,A.set(e,ae.toString())),A.get(e)):"0"}function Re(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?Ae(e.root):e[t]}`).toString()}function Ne(e){const t=Re(e);let r=X.get(t);if(!r){const o=new Map;let g;const f=new IntersectionObserver(l=>{l.forEach(c=>{var d;const w=c.isIntersecting&&g.some(n=>c.intersectionRatio>=n);e.trackVisibility&&typeof c.isVisible>"u"&&(c.isVisible=w),(d=o.get(c.target))==null||d.forEach(n=>{n(w,c)})})},e);g=f.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:f,elements:o},X.set(t,r)}return r}function Ie(e,t,r={},o=ke){if(typeof window.IntersectionObserver>"u"&&o!==void 0){const d=e.getBoundingClientRect();return t(o,{isIntersecting:o,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:d,intersectionRect:d,rootBounds:d}),()=>{}}const{id:g,observer:f,elements:l}=Ne(r),c=l.get(e)||[];return l.has(e)||l.set(e,c),c.push(t),f.observe(e),function(){c.splice(c.indexOf(t),1),c.length===0&&(l.delete(e),f.unobserve(e)),l.size===0&&(f.disconnect(),X.delete(g))}}function Ue({threshold:e,delay:t,trackVisibility:r,rootMargin:o,root:g,triggerOnce:f,skip:l,initialInView:c,fallbackInView:d,onChange:w}={}){var n;const[a,i]=s.useState(null),u=s.useRef(w),[h,v]=s.useState({inView:!!c,entry:void 0});u.current=w,s.useEffect(()=>{if(l||!a)return;let p;return p=Ie(a,(E,S)=>{v({inView:E,entry:S}),u.current&&u.current(E,S),S.isIntersecting&&f&&p&&(p(),p=void 0)},{root:g,rootMargin:o,threshold:e,trackVisibility:r,delay:t},d),()=>{p&&p()}},[Array.isArray(e)?e.toString():e,a,g,o,f,l,r,d,t]);const m=(n=h.entry)==null?void 0:n.target,O=s.useRef(void 0);!a&&m&&!f&&!l&&O.current!==m&&(O.current=m,v({inView:!!c,entry:void 0}));const b=[i,h.inView,h.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}const De=e=>typeof e.activePage=="number"&&e.activePage+1<e.pageCount?e.activePage+1:0,Ve=e=>typeof e.activePage=="number"&&e.activePage-1>=0?e.activePage-1:e.pageCount-1,qe=(e,t)=>{switch(t.type){case"GO_TO_PAGE":return{...e,activePage:t.payload};case"SET_PAGE_COUNT":return{...e,pageCount:t.payload};case"NEXT_PAGE":case"CLICK_NEXT":return{...e,paused:!1,activePage:De(e)};case"PREV_PAGE":return{...e,paused:!1,activePage:Ve(e)};case"PAUSE":return{...e,paused:!0};case"RESUME":return{...e,paused:!1};default:return e}},Ge=({itemsRef:e,itemsPerPage:t=1,paused:r=!1,activePage:o=null,onChange:g=()=>{}})=>{const[{pageCount:f,activePage:l,paused:c},d]=s.useReducer(qe,{paused:r,activePage:void 0,pageCount:e?.length?Math.ceil(e.length/t):1});s.useEffect(()=>{d({type:"SET_PAGE_COUNT",payload:e?.length?Math.ceil(e.length/t):1})},[e?.length,t]);const w=s.useCallback(p=>{p&&typeof l!="number"&&d({type:"GO_TO_PAGE",payload:typeof o=="number"?o:0})},[o,l]),[n,a,i]=Ue({triggerOnce:!1,rootMargin:"0px",onChange:w}),u=s.useCallback(()=>{d({type:"NEXT_PAGE"})},[]),h=s.useCallback(()=>{d({type:"PREV_PAGE"})},[]),v=s.useCallback(p=>{d({type:"GO_TO_PAGE",payload:p})},[]),m=s.useCallback(()=>{d({type:"CLICK_NEXT"})},[]),O=s.useCallback(()=>{d({type:"PAUSE"})},[]),b=s.useCallback(()=>{d({type:"RESUME"})},[]);return s.useEffect(()=>{typeof l!="number"||!e?.length||(g(l),s.startTransition(()=>{i?.target.scrollTo({top:0,left:e[l].getBoundingClientRect().left-e[0].getBoundingClientRect().left,behavior:"smooth"})}))},[e,l,i?.target,g]),s.useMemo(()=>({containerRef:n,paused:c||!a,pageCount:f,activePage:l,next:u,prev:h,goToPage:v,onClick:m,pause:O,resume:b}),[n,f,l,c,a])},V=({sliderProgressColour:e="primary",noControls:t=!1,space:r="5",durationSeconds:o=10,children:g,itemsPerPage:f,paused:l,activePage:c,columnWidth:d="1/2",className:w})=>{const n=s.useMemo(()=>se(g),[g]),[a,i]=s.useState(c),[u,h]=s.useState(),v=s.useMemo(()=>{const y=[],C=n.map((k,K)=>s.createElement(L,{ref:F=>{F&&y.push(F)},key:K,noShrink:!0,width:d,justifyContent:"stretch",alignSelf:"stretch"},s.createElement(j,{width:"full",className:oe(Me,{[_e]:K===a})},k)));return h(y),C},[n,a,d]),{containerRef:m,pageCount:O,activePage:b,paused:p,next:E,prev:S,onClick:x,pause:q,resume:G}=Ge({itemsRef:u,itemsPerPage:f,paused:l,activePage:c,onChange:i}),M=je({onSwiped:y=>{y.dir==="Left"?E():S()}});return v.length<2?s.createElement(s.Fragment,null,v):s.createElement(ie,{className:w,space:"5"},s.createElement(j,{overflow:"hidden",position:"relative",...M,onContextMenu:y=>{y.preventDefault(),y.stopPropagation()},onTouchStart:q,onTouchEnd:G,onClick:x},t?null:s.createElement(j,{className:[re,Te],display:"flex",alignItems:"center",justifyContent:"start",position:"absolute"},s.createElement(J,{rounded:!0,onClick:y=>{y.stopPropagation(),y.preventDefault(),S()},variant:"secondary"},s.createElement(Q,{icon:ge}))),s.createElement(ce,{ref:m,overflow:"hidden",noWrap:!0,width:"full",space:r},t?null:s.createElement(L,{noShrink:!0,className:ne},s.createElement("span",null)),v,t?null:s.createElement(L,{noShrink:!0,className:ne},s.createElement("span",null))),t?null:s.createElement(j,{className:[re,xe],display:"flex",alignItems:"center",justifyContent:"flexEnd",position:"absolute"},s.createElement(J,{rounded:!0,onClick:y=>{y.stopPropagation(),y.preventDefault(),E()},variant:"secondary"},s.createElement(Q,{icon:he})))),s.createElement(de,{width:"small"},s.createElement(fe,{backgroundColour:e,duration:`${o}s`,paused:p,onRequestNext:E,totalCount:O,activeIndex:b||0})))};try{V.displayName="HorizontalAutoScroller",V.__docgenInfo={description:"",displayName:"HorizontalAutoScroller",props:{durationSeconds:{defaultValue:{value:"10"},description:"",name:"durationSeconds",required:!1,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},columnWidth:{defaultValue:{value:"1/2"},description:"",name:"columnWidth",required:!1,type:{name:`ConditionalStyleWithResponsiveArray<Values<{ '1/2': string; '1/3': string; '2/3': string; '1/4': string; '3/4': string; '1/5': string; '2/5': string; '3/5': string; '4/5': string; full: string; auto: "auto"; }, { defaultClass: string; conditions: { mobile: string; tablet: string; desktop: string; largeDesktop: strin...`}},sliderProgressColour:{defaultValue:{value:"primary"},description:"",name:"sliderProgressColour",required:!1,type:{name:"enum",value:[{value:'"transparent"'},{value:'"white"'},{value:'"black900"'},{value:'"black800"'},{value:'"black700"'},{value:'"black600"'},{value:'"black500"'},{value:'"black400"'},{value:'"black300"'},{value:'"black200"'},{value:'"black100"'},{value:'"blue900"'},{value:'"blue800"'},{value:'"blue700"'},{value:'"blue600"'},{value:'"blue500"'},{value:'"blue400"'},{value:'"blue300"'},{value:'"blue200"'},{value:'"blue100"'},{value:'"gray900"'},{value:'"gray800"'},{value:'"gray700"'},{value:'"gray600"'},{value:'"gray500"'},{value:'"gray400"'},{value:'"gray300"'},{value:'"gray200"'},{value:'"gray100"'},{value:'"green900"'},{value:'"green800"'},{value:'"green700"'},{value:'"green600"'},{value:'"green500"'},{value:'"green400"'},{value:'"green300"'},{value:'"green200"'},{value:'"green100"'},{value:'"red900"'},{value:'"red800"'},{value:'"red700"'},{value:'"red600"'},{value:'"red500"'},{value:'"red400"'},{value:'"red300"'},{value:'"red200"'},{value:'"red100"'},{value:'"yellow900"'},{value:'"yellow800"'},{value:'"yellow700"'},{value:'"yellow600"'},{value:'"yellow500"'},{value:'"yellow400"'},{value:'"yellow300"'},{value:'"yellow200"'},{value:'"yellow100"'},{value:'"success"'},{value:'"danger"'},{value:'"warning"'},{value:'"neutral"'},{value:'"primary"'},{value:'"brand"'},{value:'"secondary"'},{value:'"shine"'},{value:'"information"'}]}},noControls:{defaultValue:{value:"false"},description:"",name:"noControls",required:!1,type:{name:"boolean"}},space:{defaultValue:{value:"5"},description:"Shorthand for applying the X & Y spacing. Can be a responsive array.",name:"space",required:!1,type:{name:'ResponsiveProp<"none" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9">'}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((page: number) => void)"}},paused:{defaultValue:null,description:"",name:"paused",required:!1,type:{name:"boolean"}},activePage:{defaultValue:null,description:"",name:"activePage",required:!1,type:{name:"number | null"}},itemsPerPage:{defaultValue:null,description:"",name:"itemsPerPage",required:!1,type:{name:"number"}}}}}catch{}const et={title:"Components/Horizontal Auto Scroller",component:V,argTypes:{sliderProgressColour:ue.backgroundColour,space:{options:le,control:{type:"select"}},paused:{control:{type:"boolean"}},noControls:{control:{type:"boolean"}}}},Le=new pe("storybook"),_=e=>P.createElement(V,{...e},Array.from({length:e.childrenNum}).map((t,r)=>P.createElement(j,{key:r,backgroundColour:"gray200",padding:"3",display:"flex",width:"full",height:"full",alignItems:"center",justifyContent:"center"},P.createElement(j,{style:{width:"100%",height:20+Math.ceil(Le.next()*300)},backgroundColour:"gray900"})))),R={render:()=>P.createElement(_,{paused:!1,activePage:0,childrenNum:9})},N={render:()=>P.createElement(_,{paused:!1,activePage:3,childrenNum:9})},I={render:()=>P.createElement(_,{paused:!1,activePage:0,childrenNum:9,durationSeconds:1})},U={render:()=>P.createElement(_,{paused:!1,activePage:0,childrenNum:9,sliderProgressColour:"yellow500"})},D={render:()=>P.createElement(_,{paused:!1,activePage:0,childrenNum:50})};R.parameters={...R.parameters,docs:{...R.parameters?.docs,source:{originalSource:`{
  render: () => <RenderAutoScroller paused={false} activePage={0} childrenNum={9} />
}`,...R.parameters?.docs?.source}}};N.parameters={...N.parameters,docs:{...N.parameters?.docs,source:{originalSource:`{
  render: () => <RenderAutoScroller paused={false} activePage={3} childrenNum={9} />
}`,...N.parameters?.docs?.source}}};I.parameters={...I.parameters,docs:{...I.parameters?.docs,source:{originalSource:`{
  render: () => <RenderAutoScroller paused={false} activePage={0} childrenNum={9} durationSeconds={1} />
}`,...I.parameters?.docs?.source}}};U.parameters={...U.parameters,docs:{...U.parameters?.docs,source:{originalSource:`{
  render: () => <RenderAutoScroller paused={false} activePage={0} childrenNum={9} sliderProgressColour="yellow500" />
}`,...U.parameters?.docs?.source}}};D.parameters={...D.parameters,docs:{...D.parameters?.docs,source:{originalSource:`{
  render: () => <RenderAutoScroller paused={false} activePage={0} childrenNum={50} />
}`,...D.parameters?.docs?.source}}};const tt=["Standard","WidthStartPage","WithCustomDuration","WithProgressColour","WithManySlides"];export{R as Standard,N as WidthStartPage,I as WithCustomDuration,D as WithManySlides,U as WithProgressColour,tt as __namedExportsOrder,et as default};
