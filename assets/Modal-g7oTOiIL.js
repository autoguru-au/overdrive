import{d as Cr}from"./index-CYx1ALmS.js";import{r as l,R as N}from"./index-sWIihdb-.js";import{b as Tr}from"./index-BTJTCqq2.js";import{B as we}from"./Box-j8EUPCOH.js";import{_ as kr}from"./Portal-DXpC600w.js";function Ar(e,r){if(e==null)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},D.apply(null,arguments)}var X="data-focus-lock",De="data-focus-lock-disabled",Lr="data-no-focus-lock",Dr="data-autofocus-inside",Rr="data-no-autofocus";function z(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function Wr(e,r){var n=l.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(t){var u=n.value;u!==t&&(n.value=t,n.callback(t,u))}}}})[0];return n.callback=r,n.facade}var Br=typeof window<"u"?l.useLayoutEffect:l.useEffect,Ne=new WeakMap;function Gr(e,r){var n=Wr(null,function(t){return e.forEach(function(u){return z(u,t)})});return Br(function(){var t=Ne.get(n);if(t){var u=new Set(t),a=new Set(e),o=n.current;u.forEach(function(i){a.has(i)||z(i,null)}),a.forEach(function(i){u.has(i)||z(i,o)})}Ne.set(n,e)},[e]),n}var K={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Z=function(){return Z=Object.assign||function(r){for(var n,t=1,u=arguments.length;t<u;t++){n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},Z.apply(this,arguments)};function Re(e){return e}function We(e,r){r===void 0&&(r=Re);var n=[],t=!1,u={read:function(){if(t)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=r(a,t);return n.push(o),function(){n=n.filter(function(i){return i!==o})}},assignSyncMedium:function(a){for(t=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(i){return a(i)},filter:function(){return n}}},assignMedium:function(a){t=!0;var o=[];if(n.length){var i=n;n=[],i.forEach(a),o=n}var d=function(){var v=o;o=[],v.forEach(a)},c=function(){return Promise.resolve().then(d)};c(),n={push:function(v){o.push(v),c()},filter:function(v){return o=o.filter(v),n}}}};return u}function ae(e,r){return r===void 0&&(r=Re),We(e,r)}function Ur(e){e===void 0&&(e={});var r=We(null);return r.options=Z({async:!0,ssr:!1},e),r}var Be=ae({},function(e){var r=e.target,n=e.currentTarget;return{target:r,currentTarget:n}}),Ge=ae(),Hr=ae(),jr=Ur({async:!0,ssr:typeof document<"u"}),Vr=l.createContext(void 0),qr=[],oe=l.forwardRef(function(r,n){var t,u=l.useState(),a=u[0],o=u[1],i=l.useRef(),d=l.useRef(!1),c=l.useRef(null),v=l.useState({}),f=v[1],s=r.children,p=r.disabled,m=p===void 0?!1:p,b=r.noFocusGuards,E=b===void 0?!1:b,O=r.persistentFocus,h=O===void 0?!1:O,y=r.crossFrame,I=y===void 0?!0:y,x=r.autoFocus,j=x===void 0?!0:x;r.allowTextSelection;var dr=r.group,lr=r.className,vr=r.whiteList,mr=r.hasPositiveIndices,ye=r.shards,V=ye===void 0?qr:ye,ge=r.as,pr=ge===void 0?"div":ge,Ee=r.lockProps,br=Ee===void 0?{}:Ee,hr=r.sideCar,Oe=r.returnFocus,U=Oe===void 0?!1:Oe,yr=r.focusOptions,q=r.onActivation,$=r.onDeactivation,gr=l.useState({}),Er=gr[0],Or=l.useCallback(function(w){var M=w.captureFocusRestore;if(!c.current){var C,S=(C=document)==null?void 0:C.activeElement;c.current=S,S!==document.body&&(c.current=M(S))}i.current&&q&&q(i.current),d.current=!0,f()},[q]),Fr=l.useCallback(function(){d.current=!1,$&&$(i.current),f()},[$]),Ir=l.useCallback(function(w){var M=c.current;if(M){var C=(typeof M=="function"?M():M)||document.body,S=typeof U=="function"?U(C):U;if(S){var Ie=typeof S=="object"?S:void 0;c.current=null,w?Promise.resolve().then(function(){return C.focus(Ie)}):C.focus(Ie)}}},[U]),wr=l.useCallback(function(w){d.current&&Be.useMedium(w)},[]),Nr=Ge.useMedium,xr=l.useCallback(function(w){i.current!==w&&(i.current=w,o(w))},[]),Sr=D((t={},t[De]=m&&"disabled",t[X]=dr,t),br),Fe=E!==!0,Pr=Fe&&E!=="tail",_r=Gr([n,xr]),Mr=l.useMemo(function(){return{observed:i,shards:V,enabled:!m,active:d.current}},[m,d.current,V,a]);return N.createElement(l.Fragment,null,Fe&&[N.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:m?-1:0,style:K}),mr?N.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:m?-1:1,style:K}):null],!m&&N.createElement(hr,{id:Er,sideCar:jr,observed:a,disabled:m,persistentFocus:h,crossFrame:I,autoFocus:j,whiteList:vr,shards:V,onActivation:Or,onDeactivation:Fr,returnFocus:Ir,focusOptions:yr,noFocusGuards:E}),N.createElement(pr,D({ref:_r},Sr,{className:lr,onBlur:Nr,onFocus:wr}),N.createElement(Vr.Provider,{value:Mr},s)),Pr&&N.createElement("div",{"data-focus-guard":!0,tabIndex:m?-1:0,style:K}))});oe.propTypes={};function ee(e,r){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n},ee(e,r)}function $r(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,ee(e,r)}function R(e){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},R(e)}function zr(e,r){if(R(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r||"default");if(R(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Kr(e){var r=zr(e,"string");return R(r)=="symbol"?r:r+""}function Qr(e,r,n){return(r=Kr(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Yr(e,r){function n(t){return t.displayName||t.name||"Component"}return function(u){var a=[],o;function i(){o=e(a.map(function(c){return c.props})),r(o)}var d=function(c){$r(v,c);function v(){return c.apply(this,arguments)||this}v.peek=function(){return o};var f=v.prototype;return f.componentDidMount=function(){a.push(this),i()},f.componentDidUpdate=function(){i()},f.componentWillUnmount=function(){var p=a.indexOf(this);a.splice(p,1),i()},f.render=function(){return N.createElement(u,this.props)},v}(l.PureComponent);return Qr(d,"displayName","SideEffect("+n(u)+")"),d}}var F=function(e){for(var r=Array(e.length),n=0;n<e.length;++n)r[n]=e[n];return r},_=function(e){return Array.isArray(e)?e:[e]},Ue=function(e){return Array.isArray(e)?e[0]:e},Jr=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var r=window.getComputedStyle(e,null);return!r||!r.getPropertyValue?!1:r.getPropertyValue("display")==="none"||r.getPropertyValue("visibility")==="hidden"},He=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},je=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Xr=function(e){return e.hasAttribute("inert")},Zr=function(e,r){return!e||je(e)||!Jr(e)&&!Xr(e)&&r(He(e))},Ve=function(e,r){var n=e.get(r);if(n!==void 0)return n;var t=Zr(r,Ve.bind(void 0,e));return e.set(r,t),t},en=function(e,r){return e&&!je(e)?tn(e)?r(He(e)):!1:!0},qe=function(e,r){var n=e.get(r);if(n!==void 0)return n;var t=en(r,qe.bind(void 0,e));return e.set(r,t),t},$e=function(e){return e.dataset},rn=function(e){return e.tagName==="BUTTON"},ze=function(e){return e.tagName==="INPUT"},Ke=function(e){return ze(e)&&e.type==="radio"},nn=function(e){return!((ze(e)||rn(e))&&(e.type==="hidden"||e.disabled))},tn=function(e){var r=e.getAttribute(Rr);return![!0,"true",""].includes(r)},ie=function(e){var r;return!!(e&&(!((r=$e(e))===null||r===void 0)&&r.focusGuard))},re=function(e){return!ie(e)},un=function(e){return!!e},an=function(e,r){var n=Math.max(0,e.tabIndex),t=Math.max(0,r.tabIndex),u=n-t,a=e.index-r.index;if(u){if(!n)return 1;if(!t)return-1}return u||a},on=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},ce=function(e,r,n){return F(e).map(function(t,u){var a=on(t);return{node:t,index:u,tabIndex:n&&a===-1?(t.dataset||{}).focusGuard?0:-1:a}}).filter(function(t){return!r||t.tabIndex>=0}).sort(an)},cn=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],fe=cn.join(","),fn="".concat(fe,", [data-focus-guard]"),Qe=function(e,r){return F((e.shadowRoot||e).children).reduce(function(n,t){return n.concat(t.matches(r?fn:fe)?[t]:[],Qe(t))},[])},sn=function(e,r){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?A([e.contentDocument.body],r):[e]},A=function(e,r){return e.reduce(function(n,t){var u,a=Qe(t,r),o=(u=[]).concat.apply(u,a.map(function(i){return sn(i,r)}));return n.concat(o,t.parentNode?F(t.parentNode.querySelectorAll(fe)).filter(function(i){return i===t}):[])},[])},dn=function(e){var r=e.querySelectorAll("[".concat(Dr,"]"));return F(r).map(function(n){return A([n])}).reduce(function(n,t){return n.concat(t)},[])},se=function(e,r){return F(e).filter(function(n){return Ve(r,n)}).filter(function(n){return nn(n)})},xe=function(e,r){return r===void 0&&(r=new Map),F(e).filter(function(n){return qe(r,n)})},de=function(e,r,n){return ce(se(A(e,n),r),!0,n)},W=function(e,r){return ce(se(A(e),r),!1)},ln=function(e,r){return se(dn(e),r)},P=function(e,r){return e.shadowRoot?P(e.shadowRoot,r):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,r)?!0:F(e.children).some(function(n){var t;if(n instanceof HTMLIFrameElement){var u=(t=n.contentDocument)===null||t===void 0?void 0:t.body;return u?P(u,r):!1}return P(n,r)})},vn=function(e){for(var r=new Set,n=e.length,t=0;t<n;t+=1)for(var u=t+1;u<n;u+=1){var a=e[t].compareDocumentPosition(e[u]);(a&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&r.add(u),(a&Node.DOCUMENT_POSITION_CONTAINS)>0&&r.add(t)}return e.filter(function(o,i){return!r.has(i)})},Ye=function(e){return e.parentNode?Ye(e.parentNode):e},le=function(e){var r=_(e);return r.filter(Boolean).reduce(function(n,t){var u=t.getAttribute(X);return n.push.apply(n,u?vn(F(Ye(t).querySelectorAll("[".concat(X,'="').concat(u,'"]:not([').concat(De,'="disabled"])')))):[t]),n},[])},mn=function(e){try{return e()}catch{return}},B=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var r=e.activeElement;return r.shadowRoot?B(r.shadowRoot):r instanceof HTMLIFrameElement&&mn(function(){return r.contentWindow.document})?B(r.contentWindow.document):r}},pn=function(e,r){return e===r},bn=function(e,r){return!!F(e.querySelectorAll("iframe")).some(function(n){return pn(n,r)})},Je=function(e,r){return r===void 0&&(r=B(Ue(e).ownerDocument)),!r||r.dataset&&r.dataset.focusGuard?!1:le(e).some(function(n){return P(n,r)||bn(n,r)})},hn=function(e){e===void 0&&(e=document);var r=B(e);return r?F(e.querySelectorAll("[".concat(Lr,"]"))).some(function(n){return P(n,r)}):!1},yn=function(e,r){return r.filter(Ke).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},ve=function(e,r){return Ke(e)&&e.name?yn(e,r):e},gn=function(e){var r=new Set;return e.forEach(function(n){return r.add(ve(n,e))}),e.filter(function(n){return r.has(n)})},Se=function(e){return e[0]&&e.length>1?ve(e[0],e):e[0]},Pe=function(e,r){return e.indexOf(ve(r,e))},ne="NEW_FOCUS",En=function(e,r,n,t,u){var a=e.length,o=e[0],i=e[a-1],d=ie(t);if(!(t&&e.indexOf(t)>=0)){var c=t!==void 0?n.indexOf(t):-1,v=u?n.indexOf(u):c,f=u?e.indexOf(u):-1;if(c===-1)return f!==-1?f:ne;if(f===-1)return ne;var s=c-v,p=n.indexOf(o),m=n.indexOf(i),b=gn(n),E=t!==void 0?b.indexOf(t):-1,O=E-(u?b.indexOf(u):c);if(!s&&f>=0||r.length===0)return f;var h=Pe(e,r[0]),y=Pe(e,r[r.length-1]);if(c<=p&&d&&Math.abs(s)>1)return y;if(c>=m&&d&&Math.abs(s)>1)return h;if(s&&Math.abs(O)>1)return f;if(c<=p)return y;if(c>m)return h;if(s)return Math.abs(s)>1?f:(a+f+s)%a}},On=function(e){return function(r){var n,t=(n=$e(r))===null||n===void 0?void 0:n.autofocus;return r.autofocus||t!==void 0&&t!=="false"||e.indexOf(r)>=0}},_e=function(e,r,n){var t=e.map(function(a){var o=a.node;return o}),u=xe(t.filter(On(n)));return u&&u.length?Se(u):Se(xe(r))},te=function(e,r){return r===void 0&&(r=[]),r.push(e),e.parentNode&&te(e.parentNode.host||e.parentNode,r),r},Q=function(e,r){for(var n=te(e),t=te(r),u=0;u<n.length;u+=1){var a=n[u];if(t.indexOf(a)>=0)return a}return!1},Xe=function(e,r,n){var t=_(e),u=_(r),a=t[0],o=!1;return u.filter(Boolean).forEach(function(i){o=Q(o||i,i)||o,n.filter(Boolean).forEach(function(d){var c=Q(a,d);c&&(!o||P(c,o)?o=c:o=Q(c,o))})}),o},Me=function(e,r){return e.reduce(function(n,t){return n.concat(ln(t,r))},[])},Fn=function(e,r){var n=new Map;return r.forEach(function(t){return n.set(t.node,t)}),e.map(function(t){return n.get(t)}).filter(un)},In=function(e,r){var n=B(_(e).length>0?document:Ue(e).ownerDocument),t=le(e).filter(re),u=Xe(n||e,e,t),a=new Map,o=W(t,a),i=o.filter(function(m){var b=m.node;return re(b)});if(i[0]){var d=W([u],a).map(function(m){var b=m.node;return b}),c=Fn(d,i),v=c.map(function(m){var b=m.node;return b}),f=c.filter(function(m){var b=m.tabIndex;return b>=0}).map(function(m){var b=m.node;return b}),s=En(v,f,d,n,r);if(s===ne){var p=_e(o,f,Me(t,a))||_e(o,v,Me(t,a));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return s===void 0?s:c[s]}},wn=function(e){var r=le(e).filter(re),n=Xe(e,e,r),t=ce(A([n],!0),!0,!0),u=A(r,!1);return t.map(function(a){var o=a.node,i=a.index;return{node:o,index:i,lockItem:u.indexOf(o)>=0,guard:ie(o)}})},me=function(e,r){e&&("focus"in e&&e.focus(r),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},Y=0,J=!1,Ze=function(e,r,n){n===void 0&&(n={});var t=In(e,r);if(!J&&t){if(Y>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),J=!0,setTimeout(function(){J=!1},1);return}Y++,me(t.node,n.focusOptions),Y--}};function L(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var r=e?new WeakRef(e):null;return function(){return(r==null?void 0:r.deref())||null}}var Nn=function(e){if(!e)return null;for(var r=[],n=e;n&&n!==document.body;)r.push({current:L(n),parent:L(n.parentElement),left:L(n.previousElementSibling),right:L(n.nextElementSibling)}),n=n.parentElement;return{element:L(e),stack:r,ownerDocument:e.ownerDocument}},xn=function(e){var r,n,t,u,a;if(e)for(var o=e.stack,i=e.ownerDocument,d=new Map,c=0,v=o;c<v.length;c++){var f=v[c],s=(r=f.parent)===null||r===void 0?void 0:r.call(f);if(s&&i.contains(s)){for(var p=(n=f.left)===null||n===void 0?void 0:n.call(f),m=f.current(),b=s.contains(m)?m:void 0,E=(t=f.right)===null||t===void 0?void 0:t.call(f),O=de([s],d),h=(a=(u=b??(p==null?void 0:p.nextElementSibling))!==null&&u!==void 0?u:E)!==null&&a!==void 0?a:p;h;){for(var y=0,I=O;y<I.length;y++){var x=I[y];if(h!=null&&h.contains(x.node))return x.node}h=h.nextElementSibling}if(O.length)return O[0].node}}},er=function(e){var r=Nn(e);return function(){return xn(r)}},Sn=function(e,r,n){if(!e||!r)return console.error("no element or scope given"),{};var t=_(r);if(t.every(function(o){return!P(o,e)}))return console.error("Active element is not contained in the scope"),{};var u=n?de(t,new Map):W(t,new Map),a=u.findIndex(function(o){var i=o.node;return i===e});if(a!==-1)return{prev:u[a-1],next:u[a+1],first:u[0],last:u[u.length-1]}},Pn=function(e,r){var n=r?de(_(e),new Map):W(_(e),new Map);return{first:n[0],last:n[n.length-1]}},_n=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},rr=function(e,r,n){r===void 0&&(r={});var t=_n(r),u=Sn(e,t.scope,t.onlyTabbable);if(u){var a=n(u,t.cycle);a&&me(a.node,t.focusOptions)}},Mn=function(e,r){r===void 0&&(r={}),rr(e,r,function(n,t){var u=n.next,a=n.first;return u||t&&a})},Cn=function(e,r){r===void 0&&(r={}),rr(e,r,function(n,t){var u=n.prev,a=n.last;return u||t&&a})},nr=function(e,r,n){var t,u=Pn(e,(t=r.onlyTabbable)!==null&&t!==void 0?t:!0),a=u[n];a&&me(a.node,r.focusOptions)},Tn=function(e,r){r===void 0&&(r={}),nr(e,r,"first")},kn=function(e,r){r===void 0&&(r={}),nr(e,r,"last")};function pe(e){setTimeout(e,1)}var An=function(r){return r&&"current"in r?r.current:r},tr=function(){return document&&document.activeElement===document.body},Ln=function(){return tr()||hn()},T=null,g=null,Ce=function(){return null},k=null,G=!1,be=!1,Dn=function(){return!0},Rn=function(r){return(T.whiteList||Dn)(r)},Wn=function(r,n){k={observerNode:r,portaledElement:n}},Bn=function(r){return k&&k.portaledElement===r};function Te(e,r,n,t){var u=null,a=e;do{var o=t[a];if(o.guard)o.node.dataset.focusAutoGuard&&(u=o);else if(o.lockItem){if(a!==e)return;u=null}else break}while((a+=n)!==r);u&&(u.node.tabIndex=0)}var Gn=function(r){return r?!!G:G==="meanwhile"},Un=function e(r,n,t){return n&&(n.host===r&&(!n.activeElement||t.contains(n.activeElement))||n.parentNode&&e(r,n.parentNode,t))},Hn=function(r,n){return n.some(function(t){return Un(r,t,t)})},ur=function(r){return W(r,new Map)},jn=function(r){return!ur([r.parentNode]).some(function(n){return n.node===r})},H=function(){var r=!1;if(T){var n=T,t=n.observed,u=n.persistentFocus,a=n.autoFocus,o=n.shards,i=n.crossFrame,d=n.focusOptions,c=n.noFocusGuards,v=t||k&&k.portaledElement;if(tr()&&g&&g!==document.body&&(!document.body.contains(g)||jn(g))){var f=Ce();f&&f.focus()}var s=document&&document.activeElement;if(v){var p=[v].concat(o.map(An).filter(Boolean)),m=function(){if(!Gn(i)||!c||!g||be)return!1;var y=ur(p),I=y.findIndex(function(x){var j=x.node;return j===g});return I===0||I===y.length-1};if((!s||Rn(s))&&(u||m()||!Ln()||!g&&a)&&(v&&!(Je(p)||s&&Hn(s,p)||Bn(s))&&(document&&!g&&s&&!a?(s.blur&&s.blur(),document.body.focus()):(r=Ze(p,g,{focusOptions:d}),k={})),g=document&&document.activeElement,g!==document.body&&(Ce=er(g)),G=!1),document&&s!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var b=document&&document.activeElement,E=wn(p),O=E.map(function(h){var y=h.node;return y}).indexOf(b);O>-1&&(E.filter(function(h){var y=h.guard,I=h.node;return y&&I.dataset.focusAutoGuard}).forEach(function(h){var y=h.node;return y.removeAttribute("tabIndex")}),Te(O,E.length,1,E),Te(O,-1,-1,E))}}}return r},ar=function(r){H()&&r&&(r.stopPropagation(),r.preventDefault())},he=function(){return pe(H)},Vn=function(r){var n=r.target,t=r.currentTarget;t.contains(n)||Wn(t,n)},qn=function(){return null},or=function(){be=!0},ir=function(){be=!1,G="just",pe(function(){G="meanwhile"})},$n=function(){document.addEventListener("focusin",ar),document.addEventListener("focusout",he),window.addEventListener("focus",or),window.addEventListener("blur",ir)},zn=function(){document.removeEventListener("focusin",ar),document.removeEventListener("focusout",he),window.removeEventListener("focus",or),window.removeEventListener("blur",ir)};function Kn(e){return e.filter(function(r){var n=r.disabled;return!n})}var cr={moveFocusInside:Ze,focusInside:Je,focusNextElement:Mn,focusPrevElement:Cn,focusFirstElement:Tn,focusLastElement:kn,captureFocusRestore:er};function Qn(e){var r=e.slice(-1)[0];r&&!T&&$n();var n=T,t=n&&r&&r.id===n.id;T=r,n&&!t&&(n.onDeactivation(),e.filter(function(u){var a=u.id;return a===n.id}).length||n.returnFocus(!r)),r?(g=null,(!t||n.observed!==r.observed)&&r.onActivation(cr),H(),pe(H)):(zn(),g=null)}Be.assignSyncMedium(Vn);Ge.assignMedium(he);Hr.assignMedium(function(e){return e(cr)});const Yn=Yr(Kn,Qn)(qn);var fr=l.forwardRef(function(r,n){return N.createElement(oe,D({sideCar:Yn,ref:n},r))}),sr=oe.propTypes||{};sr.sideCar;Ar(sr,["sideCar"]);fr.propTypes={};var Jn="_1psykzh0",ke="_1psykzh1",Xn="_1psykzh2",Ae={root:"_1psykzh3",invisible:"_1psykzh4"};const Zn=(e,r)=>{switch(r){case"OPEN_MODAL":switch(e){case"INITIAL":case"CLOSING":case"CLOSED":return"OPENING";default:return e}case"CLOSE_MODAL":switch(e){case"OPEN":case"OPENING":return"CLOSING";default:return e}case"ANIMATION_COMPLETE":switch(e){case"CLOSING":return"CLOSED";case"OPENING":return"OPEN";default:return e}default:return e}},ue=({isOpen:e,hideBackdrop:r=!1,disableBackdropClick:n=!1,ref:t,noThemedWrapper:u,container:a,onRequestClose:o,children:i})=>{const[d,c]=l.useReducer(Zn,"INITIAL"),v=Tr(f=>{f.target===f.currentTarget&&typeof o=="function"&&o("backdrop")});return l.useEffect(()=>{c(e?"OPEN_MODAL":"CLOSE_MODAL")},[e]),l.useEffect(()=>{if(d==="CLOSING"){const f=setTimeout(()=>{c("ANIMATION_COMPLETE")},300);return()=>clearTimeout(f)}return()=>{}},[d]),l.createElement(kr,{ref:t,noThemedWrapper:u,container:a},d==="OPENING"||d==="OPEN"||d==="CLOSING"?l.createElement(fr,{returnFocus:!0,autoFocus:!1,onActivation:()=>{c("ANIMATION_COMPLETE")}},l.createElement(we,{"aria-hidden":"true",position:"fixed",pointerEvents:n||d==="CLOSING"?"none":void 0,opacity:d==="OPEN"?void 0:0,backgroundColour:r?"transparent":"neutral",className:[Ae.root,ke,r&&Ae.invisible],onClick:v}),l.createElement(we,{role:"presentation",position:"fixed",overflow:"hidden",opacity:d==="OPEN"?void 0:0,className:[Jn,ke,d==="OPENING"&&Xn]},i)):null)},Le=e=>({onRequestClose:r,isOpen:n,...t})=>(Cr.warning(!1,"Using withModal is now an anti-pattern. Use <Modal /> instead"),l.createElement(ue,{isOpen:n,onRequestClose:r},l.createElement(e,{isOpen:n,onRequestClose:r,...t})));try{ue.displayName="Modal",ue.__docgenInfo={description:"",displayName:"Modal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},hideBackdrop:{defaultValue:{value:"false"},description:"",name:"hideBackdrop",required:!1,type:{name:"boolean"}},disableBackdropClick:{defaultValue:{value:"false"},description:"",name:"disableBackdropClick",required:!1,type:{name:"boolean"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!1,type:{name:"((e: string) => void)"}},container:{defaultValue:null,description:"",name:"container",required:!1,type:{name:"HTMLElement"}},noThemedWrapper:{defaultValue:null,description:"",name:"noThemedWrapper",required:!1,type:{name:"boolean"}}}}}catch{}try{Le.displayName="withModal",Le.__docgenInfo={description:"",displayName:"withModal",props:{}}}catch{}export{ue as M};
