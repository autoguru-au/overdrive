import{G as se,H as le,l as R,I as ce,E as Z,d as de,c as x,C as G,j as fe,k as ue,i as y,h as g,J as pe,D as ve,f as L,K as $e,a as ee,L as be,M as ge,B as ye,N as W}from"./useFocusable-C5F02sYK.js";import{r as E,e as Pe}from"./iframe-TtMUic4I.js";import"./index-BkbnEq6Q.js";function he(e,a){if(a.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Te(e,a,i){he(e,a),a.set(e,i)}const Ee=new Set(["id"]),me=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),xe=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),we=new Set(["dir","lang","hidden","inert","translate"]),z=new Set(["onClick","onAuxClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onGotPointerCapture","onLostPointerCapture","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionCancel","onTransitionEnd","onTransitionRun","onTransitionStart"]),ke=/^(data-.*)$/;function Re(e,a={}){let{labelable:i,isLink:s,global:l,events:$=l,propNames:v}=a,f={};for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&(Ee.has(c)||i&&me.has(c)||s&&xe.has(c)||l&&we.has(c)||$&&z.has(c)||c.endsWith("Capture")&&z.has(c.slice(0,-7))||v?.has(c)||ke.test(c))&&(f[c]=e[c]);return f}const Se=E.createContext({isNative:!0,open:_e,useHref:e=>e});function Ce(){return E.useContext(Se)}function C(e,a,i=!0){var s,l;let{metaKey:$,ctrlKey:v,altKey:f,shiftKey:c}=a;se()&&(!((l=window.event)===null||l===void 0||(s=l.type)===null||s===void 0)&&s.startsWith("key"))&&e.target==="_blank"&&(R()?$=!0:v=!0);let T=le()&&R()&&!ce()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:$,ctrlKey:v,altKey:f,shiftKey:c}):new MouseEvent("click",{metaKey:$,ctrlKey:v,altKey:f,shiftKey:c,bubbles:!0,cancelable:!0});C.isOpening=i,Z(e),e.dispatchEvent(T),C.isOpening=!1}C.isOpening=!1;function Ke(e,a){if(e instanceof HTMLAnchorElement)a(e);else if(e.hasAttribute("data-href")){let i=document.createElement("a");i.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(i.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(i.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(i.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(i.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(i.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(i),a(i),e.removeChild(i)}}function _e(e,a){Ke(e,i=>C(i,a))}function Fe(e){let a=Ce();var i;const s=a.useHref((i=e?.href)!==null&&i!==void 0?i:"");return{href:e?.href?s:void 0,target:e?.target,rel:e?.rel,download:e?.download,ping:e?.ping,referrerPolicy:e?.referrerPolicy}}const te=Pe.createContext({register:()=>{}});te.displayName="PressResponderContext";function Me(e,a){return a.get?a.get.call(e):a.value}function re(e,a,i){if(!a.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return a.get(e)}function Ae(e,a){var i=re(e,a,"get");return Me(e,i)}function Le(e,a,i){if(a.set)a.set.call(e,i);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=i}}function j(e,a,i){var s=re(e,a,"set");return Le(e,s,i),i}function Ie(e){let a=E.useContext(te);if(a){let{register:i,...s}=a;e=ee(s,e),i()}return be(a,e.ref),e}var I=new WeakMap;class O{continuePropagation(){j(this,I,!1)}get shouldStopPropagation(){return Ae(this,I)}constructor(a,i,s,l){Te(this,I,{writable:!0,value:void 0}),j(this,I,!0);var $;let v=($=l?.target)!==null&&$!==void 0?$:s.currentTarget;const f=v?.getBoundingClientRect();let c,T=0,K,P=null;s.clientX!=null&&s.clientY!=null&&(K=s.clientX,P=s.clientY),f&&(K!=null&&P!=null?(c=K-f.left,T=P-f.top):(c=f.width/2,T=f.height/2)),this.type=a,this.pointerType=i,this.target=s.currentTarget,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.x=c,this.y=T}}const V=Symbol("linkClicked"),J="react-aria-pressable-style",q="data-react-aria-pressable";function Be(e){let{onPress:a,onPressChange:i,onPressStart:s,onPressEnd:l,onPressUp:$,onClick:v,isDisabled:f,isPressed:c,preventFocusOnPress:T,shouldCancelOnPointerExit:K,allowTextSelectionOnPress:P,ref:D,...ae}=Ie(e),[ie,B]=E.useState(!1),k=E.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:_,removeAllGlobalListeners:U}=de(),M=x((t,o)=>{let p=k.current;if(f||p.didFirePressStart)return!1;let r=!0;if(p.isTriggeringEvent=!0,s){let d=new O("pressstart",o,t);s(d),r=d.shouldStopPropagation}return i&&i(!0),p.isTriggeringEvent=!1,p.didFirePressStart=!0,B(!0),r}),S=x((t,o,p=!0)=>{let r=k.current;if(!r.didFirePressStart)return!1;r.didFirePressStart=!1,r.isTriggeringEvent=!0;let d=!0;if(l){let n=new O("pressend",o,t);l(n),d=n.shouldStopPropagation}if(i&&i(!1),B(!1),a&&p&&!f){let n=new O("press",o,t);a(n),d&&(d=n.shouldStopPropagation)}return r.isTriggeringEvent=!1,d}),A=x((t,o)=>{let p=k.current;if(f)return!1;if($){p.isTriggeringEvent=!0;let r=new O("pressup",o,t);return $(r),p.isTriggeringEvent=!1,r.shouldStopPropagation}return!0}),m=x(t=>{let o=k.current;if(o.isPressed&&o.target){o.didFirePressStart&&o.pointerType!=null&&S(w(o.target,t),o.pointerType,!1),o.isPressed=!1,o.isOverTarget=!1,o.activePointerId=null,o.pointerType=null,U(),P||G(o.target);for(let p of o.disposables)p();o.disposables=[]}}),Y=x(t=>{K&&m(t)}),H=x(t=>{f||v?.(t)}),X=x((t,o)=>{if(!f&&v){let p=new MouseEvent("click",t);fe(p,o),v(ue(p))}}),oe=E.useMemo(()=>{let t=k.current,o={onKeyDown(r){if(N(r.nativeEvent,r.currentTarget)&&y(r.currentTarget,g(r.nativeEvent))){var d;Q(g(r.nativeEvent),r.key)&&r.preventDefault();let n=!0;if(!t.isPressed&&!r.repeat){t.target=r.currentTarget,t.isPressed=!0,t.pointerType="keyboard",n=M(r,"keyboard");let u=r.currentTarget,b=h=>{N(h,u)&&!h.repeat&&y(u,g(h))&&t.target&&A(w(t.target,h),"keyboard")};_(L(r.currentTarget),"keyup",ye(b,p),!0)}n&&r.stopPropagation(),r.metaKey&&R()&&((d=t.metaKeyEvents)===null||d===void 0||d.set(r.key,r.nativeEvent))}else r.key==="Meta"&&(t.metaKeyEvents=new Map)},onClick(r){if(!(r&&!y(r.currentTarget,g(r.nativeEvent)))&&r&&r.button===0&&!t.isTriggeringEvent&&!C.isOpening){let d=!0;if(f&&r.preventDefault(),!t.ignoreEmulatedMouseEvents&&!t.isPressed&&(t.pointerType==="virtual"||ge(r.nativeEvent))){let n=M(r,"virtual"),u=A(r,"virtual"),b=S(r,"virtual");H(r),d=n&&u&&b}else if(t.isPressed&&t.pointerType!=="keyboard"){let n=t.pointerType||r.nativeEvent.pointerType||"virtual",u=A(w(r.currentTarget,r),n),b=S(w(r.currentTarget,r),n,!0);d=u&&b,t.isOverTarget=!1,H(r),m(r)}t.ignoreEmulatedMouseEvents=!1,d&&r.stopPropagation()}}},p=r=>{var d;if(t.isPressed&&t.target&&N(r,t.target)){var n;Q(g(r),r.key)&&r.preventDefault();let b=g(r),h=y(t.target,g(r));S(w(t.target,r),"keyboard",h),h&&X(r,t.target),U(),r.key!=="Enter"&&F(t.target)&&y(t.target,b)&&!r[V]&&(r[V]=!0,C(t.target,r,!1)),t.isPressed=!1,(n=t.metaKeyEvents)===null||n===void 0||n.delete(r.key)}else if(r.key==="Meta"&&(!((d=t.metaKeyEvents)===null||d===void 0)&&d.size)){var u;let b=t.metaKeyEvents;t.metaKeyEvents=void 0;for(let h of b.values())(u=t.target)===null||u===void 0||u.dispatchEvent(new KeyboardEvent("keyup",h))}};if(typeof PointerEvent<"u"){o.onPointerDown=n=>{if(n.button!==0||!y(n.currentTarget,g(n.nativeEvent)))return;if(pe(n.nativeEvent)){t.pointerType="virtual";return}t.pointerType=n.pointerType;let u=!0;if(!t.isPressed){t.isPressed=!0,t.isOverTarget=!0,t.activePointerId=n.pointerId,t.target=n.currentTarget,P||ve(t.target),u=M(n,t.pointerType);let b=g(n.nativeEvent);"releasePointerCapture"in b&&b.releasePointerCapture(n.pointerId),_(L(n.currentTarget),"pointerup",r,!1),_(L(n.currentTarget),"pointercancel",d,!1)}u&&n.stopPropagation()},o.onMouseDown=n=>{if(y(n.currentTarget,g(n.nativeEvent))&&n.button===0){if(T){let u=$e(n.target);u&&t.disposables.push(u)}n.stopPropagation()}},o.onPointerUp=n=>{!y(n.currentTarget,g(n.nativeEvent))||t.pointerType==="virtual"||n.button===0&&!t.isPressed&&A(n,t.pointerType||n.pointerType)},o.onPointerEnter=n=>{n.pointerId===t.activePointerId&&t.target&&!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,M(w(t.target,n),t.pointerType))},o.onPointerLeave=n=>{n.pointerId===t.activePointerId&&t.target&&t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,S(w(t.target,n),t.pointerType,!1),Y(n))};let r=n=>{if(n.pointerId===t.activePointerId&&t.isPressed&&n.button===0&&t.target){if(y(t.target,g(n))&&t.pointerType!=null){let u=!1,b=setTimeout(()=>{t.isPressed&&t.target instanceof HTMLElement&&(u?m(n):(Z(t.target),t.target.click()))},80);_(n.currentTarget,"click",()=>u=!0,!0),t.disposables.push(()=>clearTimeout(b))}else m(n);t.isOverTarget=!1}},d=n=>{m(n)};o.onDragStart=n=>{y(n.currentTarget,g(n.nativeEvent))&&m(n)}}return o},[_,f,T,U,P,m,Y,S,M,A,H,X]);return E.useEffect(()=>{if(!D)return;const t=L(D.current);if(!t||!t.head||t.getElementById(J))return;const o=t.createElement("style");o.id=J,o.textContent=`
@layer {
  [${q}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),t.head.prepend(o)},[D]),E.useEffect(()=>{let t=k.current;return()=>{var o;P||G((o=t.target)!==null&&o!==void 0?o:void 0);for(let p of t.disposables)p();t.disposables=[]}},[P]),{isPressed:c||ie,pressProps:ee(ae,oe,{[q]:!0})}}function F(e){return e.tagName==="A"&&e.hasAttribute("href")}function N(e,a){const{key:i,code:s}=e,l=a,$=l.getAttribute("role");return(i==="Enter"||i===" "||i==="Spacebar"||s==="Space")&&!(l instanceof W(l).HTMLInputElement&&!ne(l,i)||l instanceof W(l).HTMLTextAreaElement||l.isContentEditable)&&!(($==="link"||!$&&F(l))&&i!=="Enter")}function w(e,a){let i=a.clientX,s=a.clientY;return{currentTarget:e,shiftKey:a.shiftKey,ctrlKey:a.ctrlKey,metaKey:a.metaKey,altKey:a.altKey,clientX:i,clientY:s}}function Oe(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!F(e)}function Q(e,a){return e instanceof HTMLInputElement?!ne(e,a):Oe(e)}const De=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ne(e,a){return e.type==="checkbox"||e.type==="radio"?a===" ":De.has(e.type)}export{Be as $,Te as _,Re as a,Ce as b,C as c,Fe as d,te as e};
