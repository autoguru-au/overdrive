import{r as u,e as p,L as Bt,z as jt,C as ve,c as Vt}from"./iframe-B-UydsVC.js";import{n as J,a as me,G as ot,b as rt,d as De,g as Nt,C as $e,v as B,e as st,O as Ot,$ as oe,q as xe,t as Te,M as at,z as Re,F as qt,j as Ae,w as zt,P as Le,x as ut}from"./useFocusable-MSVfTgJj.js";import{r as dt}from"./index-BSu28wPM.js";import{$ as ct,b as ft,c as Ht,a as Z,d as Ut}from"./usePress-CvQAGAto.js";import{a as Wt,$ as Be}from"./getScrollParent-DpO8XyHH.js";import{$ as Gt,a as Yt,b as je}from"./scrollIntoView-BZXz8BRF.js";import{$ as Xt}from"./useFocusWithin-2ZvZmehQ.js";import{$ as Zt}from"./useLabel-CUmiIOMw.js";import{$ as le,a as ht}from"./useCollator-DnGSG05t.js";import{$ as Jt,a as Qt}from"./FocusScope-CKV1DXmL.js";import{$ as vt}from"./context-BH4ShJ8I.js";import{$ as _t}from"./useFocusRing-BBvxGYb_.js";import{L as el}from"./LoadingBox-CouiIV5d.js";import{I as Ve}from"./Icon-CjAt03gg.js";import{I as tl}from"./CheckIcon-DZmvNkjn.js";function ll(...n){return n.length===1&&n[0]?n[0]:e=>{let t=!1;const l=n.map(i=>{const o=Ne(i,e);return t||(t=typeof o=="function"),o});if(t)return()=>{l.forEach((i,o)=>{typeof i=="function"?i():Ne(n[o],null)})}}}function Ne(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function ke(n){const e=u.useRef(null),t=u.useRef(void 0),l=u.useCallback(i=>{if(typeof n=="function"){const o=n,r=o(i);return()=>{typeof r=="function"?r():o(null)}}else if(n)return n.current=i,()=>{n.current=null}},[n]);return u.useMemo(()=>({get current(){return e.current},set current(i){e.current=i,t.current&&(t.current(),t.current=void 0),i!=null&&(t.current=l(i))}}),[l])}function Oe(n,e){const t=u.useRef(!0),l=u.useRef(null);J(()=>(t.current=!0,()=>{t.current=!1}),[]),J(()=>{t.current?t.current=!1:(!l.current||e.some((i,o)=>!Object.is(i,l[o])))&&n(),l.current=e},e)}function il(n,e){let{collection:t,onLoadMore:l,scrollOffset:i=1}=n,o=u.useRef(null),r=me(s=>{for(let a of s)a.isIntersecting&&l&&l()});J(()=>(e.current&&(o.current=new IntersectionObserver(r,{root:Wt(e?.current),rootMargin:`0px ${100*i}% ${100*i}% ${100*i}%`}),o.current.observe(e.current)),()=>{o.current&&o.current.disconnect()}),[t,r,e,i])}function nl(n){const e=u.version.split(".");return parseInt(e[0],10)>=19?n:n?"true":void 0}const ol="react-aria-clear-focus",rl="react-aria-focus";function Y(n){return ot()?n.metaKey:n.ctrlKey}let Se=!1,ie=0;function sl(){Se=!0,setTimeout(()=>{Se=!1},50)}function qe(n){n.pointerType==="touch"&&sl()}function al(){if(!(typeof document>"u"))return ie===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",qe),ie++,()=>{ie--,!(ie>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",qe)}}function yt(n){let{onHoverStart:e,onHoverChange:t,onHoverEnd:l,isDisabled:i}=n,[o,r]=u.useState(!1),s=u.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;u.useEffect(al,[]);let{addGlobalListener:a,removeAllGlobalListeners:c}=rt(),{hoverProps:d,triggerHoverEnd:h}=u.useMemo(()=>{let v=(m,b)=>{if(s.pointerType=b,i||b==="touch"||s.isHovered||!m.currentTarget.contains(m.target))return;s.isHovered=!0;let $=m.currentTarget;s.target=$,a(De(m.target),"pointerover",K=>{s.isHovered&&s.target&&!Nt(s.target,K.target)&&x(K,K.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:$,pointerType:b}),t&&t(!0),r(!0)},x=(m,b)=>{let $=s.target;s.pointerType="",s.target=null,!(b==="touch"||!s.isHovered||!$)&&(s.isHovered=!1,c(),l&&l({type:"hoverend",target:$,pointerType:b}),t&&t(!1),r(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=m=>{Se&&m.pointerType==="mouse"||v(m,m.pointerType)},g.onPointerLeave=m=>{!i&&m.currentTarget.contains(m.target)&&x(m,m.pointerType)}),{hoverProps:g,triggerHoverEnd:x}},[e,t,l,i,s,a,c]);return u.useEffect(()=>{i&&h({currentTarget:s.target},s.pointerType)},[i]),{hoverProps:d,isHovered:o}}const ul=500;function dl(n){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:l,onLongPress:i,threshold:o=ul,accessibilityDescription:r}=n;const s=u.useRef(void 0);let{addGlobalListener:a,removeGlobalListener:c}=rt(),{pressProps:d}=ct({isDisabled:e,onPressStart(v){if(v.continuePropagation(),(v.pointerType==="mouse"||v.pointerType==="touch")&&(t&&t({...v,type:"longpressstart"}),s.current=setTimeout(()=>{v.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),De(v.target).activeElement!==v.target&&$e(v.target),i&&i({...v,type:"longpress"}),s.current=void 0},o),v.pointerType==="touch")){let x=g=>{g.preventDefault()};a(v.target,"contextmenu",x,{once:!0}),a(window,"pointerup",()=>{setTimeout(()=>{c(v.target,"contextmenu",x)},30)},{once:!0})}},onPressEnd(v){s.current&&clearTimeout(s.current),l&&(v.pointerType==="mouse"||v.pointerType==="touch")&&l({...v,type:"longpressend"})}}),h=Gt(i&&!e?r:void 0);return{longPressProps:B(d,h)}}function pt(n){let e=fl(De(n));e!==n&&(e&&cl(e,n),n&&gt(n,e))}function cl(n,e){n.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}function gt(n,e){n.dispatchEvent(new FocusEvent("focus",{relatedTarget:e})),n.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:e}))}function fl(n){let e=st(n),t=e?.getAttribute("aria-activedescendant");return t&&n.getElementById(t)||e}const Ee=new WeakMap;function hl(n){return typeof n=="string"?n.replace(/\s*/g,""):""+n}function vl(n,e){let t=Ee.get(n);if(!t)throw new Error("Unknown list");return`${t.id}-option-${hl(e)}`}function Ke(n){return Ot()?n.altKey:n.ctrlKey}function ne(n,e){var t,l;let i=`[data-key="${CSS.escape(String(e))}"]`,o=(t=n.current)===null||t===void 0?void 0:t.dataset.collection;return o&&(i=`[data-collection="${CSS.escape(o)}"]${i}`),(l=n.current)===null||l===void 0?void 0:l.querySelector(i)}const bt=new WeakMap;function yl(n){let e=oe();return bt.set(n,e),e}function pl(n){return bt.get(n)}const gl=1e3;function bl(n){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:l}=n,i=u.useRef({search:"",timeout:void 0}).current,o=r=>{let s=ml(r.key);if(!(!s||r.ctrlKey||r.metaKey||!r.currentTarget.contains(r.target)||i.search.length===0&&s===" ")){if(s===" "&&i.search.trim().length>0&&(r.preventDefault(),"continuePropagation"in r||r.stopPropagation()),i.search+=s,e.getKeyForSearch!=null){let a=e.getKeyForSearch(i.search,t.focusedKey);a==null&&(a=e.getKeyForSearch(i.search)),a!=null&&(t.setFocusedKey(a),l&&l(a))}clearTimeout(i.timeout),i.timeout=setTimeout(()=>{i.search=""},gl)}};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?o:void 0}}}function ml(n){return n.length===1||!/^[A-Z]/i.test(n)?n:""}function $l(n){let{selectionManager:e,keyboardDelegate:t,ref:l,autoFocus:i=!1,shouldFocusWrap:o=!1,disallowEmptySelection:r=!1,disallowSelectAll:s=!1,escapeKeyBehavior:a="clearSelection",selectOnFocus:c=e.selectionBehavior==="replace",disallowTypeAhead:d=!1,shouldUseVirtualFocus:h,allowsTabNavigation:v=!1,isVirtualized:x,scrollRef:g=l,linkBehavior:m="action"}=n,{direction:b}=vt(),$=ft(),K=y=>{var C;if(y.altKey&&y.key==="Tab"&&y.preventDefault(),!(!((C=l.current)===null||C===void 0)&&C.contains(y.target)))return;const f=(S,W)=>{if(S!=null){if(e.isLink(S)&&m==="selection"&&c&&!Ke(y)){dt.flushSync(()=>{e.setFocusedKey(S,W)});let G=ne(l,S),Fe=e.getItemProps(S);G&&$.open(G,y,Fe.href,Fe.routerOptions);return}if(e.setFocusedKey(S,W),e.isLink(S)&&m==="override")return;y.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(S):c&&!Ke(y)&&e.replaceSelection(S)}};switch(y.key){case"ArrowDown":if(t.getKeyBelow){var E,L,A;let S=e.focusedKey!=null?(E=t.getKeyBelow)===null||E===void 0?void 0:E.call(t,e.focusedKey):(L=t.getFirstKey)===null||L===void 0?void 0:L.call(t);S==null&&o&&(S=(A=t.getFirstKey)===null||A===void 0?void 0:A.call(t,e.focusedKey)),S!=null&&(y.preventDefault(),f(S))}break;case"ArrowUp":if(t.getKeyAbove){var q,U,se;let S=e.focusedKey!=null?(q=t.getKeyAbove)===null||q===void 0?void 0:q.call(t,e.focusedKey):(U=t.getLastKey)===null||U===void 0?void 0:U.call(t);S==null&&o&&(S=(se=t.getLastKey)===null||se===void 0?void 0:se.call(t,e.focusedKey)),S!=null&&(y.preventDefault(),f(S))}break;case"ArrowLeft":if(t.getKeyLeftOf){var ae,ue,de;let S=e.focusedKey!=null?(ae=t.getKeyLeftOf)===null||ae===void 0?void 0:ae.call(t,e.focusedKey):null;S==null&&o&&(S=b==="rtl"?(ue=t.getFirstKey)===null||ue===void 0?void 0:ue.call(t,e.focusedKey):(de=t.getLastKey)===null||de===void 0?void 0:de.call(t,e.focusedKey)),S!=null&&(y.preventDefault(),f(S,b==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var ce,fe,he;let S=e.focusedKey!=null?(ce=t.getKeyRightOf)===null||ce===void 0?void 0:ce.call(t,e.focusedKey):null;S==null&&o&&(S=b==="rtl"?(fe=t.getLastKey)===null||fe===void 0?void 0:fe.call(t,e.focusedKey):(he=t.getFirstKey)===null||he===void 0?void 0:he.call(t,e.focusedKey)),S!=null&&(y.preventDefault(),f(S,b==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){if(e.focusedKey===null&&y.shiftKey)return;y.preventDefault();let S=t.getFirstKey(e.focusedKey,Y(y));e.setFocusedKey(S),S!=null&&(Y(y)&&y.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(S):c&&e.replaceSelection(S))}break;case"End":if(t.getLastKey){if(e.focusedKey===null&&y.shiftKey)return;y.preventDefault();let S=t.getLastKey(e.focusedKey,Y(y));e.setFocusedKey(S),S!=null&&(Y(y)&&y.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(S):c&&e.replaceSelection(S))}break;case"PageDown":if(t.getKeyPageBelow&&e.focusedKey!=null){let S=t.getKeyPageBelow(e.focusedKey);S!=null&&(y.preventDefault(),f(S))}break;case"PageUp":if(t.getKeyPageAbove&&e.focusedKey!=null){let S=t.getKeyPageAbove(e.focusedKey);S!=null&&(y.preventDefault(),f(S))}break;case"a":Y(y)&&e.selectionMode==="multiple"&&s!==!0&&(y.preventDefault(),e.selectAll());break;case"Escape":a==="clearSelection"&&!r&&e.selectedKeys.size!==0&&(y.stopPropagation(),y.preventDefault(),e.clearSelection());break;case"Tab":if(!v){if(y.shiftKey)l.current.focus();else{let S=Jt(l.current,{tabbable:!0}),W,G;do G=S.lastChild(),G&&(W=G);while(G);W&&!W.contains(document.activeElement)&&$e(W)}break}}},w=u.useRef({top:0,left:0});le(g,"scroll",x?void 0:()=>{var y,C,f,E;w.current={top:(f=(y=g.current)===null||y===void 0?void 0:y.scrollTop)!==null&&f!==void 0?f:0,left:(E=(C=g.current)===null||C===void 0?void 0:C.scrollLeft)!==null&&E!==void 0?E:0}});let k=y=>{if(e.isFocused){y.currentTarget.contains(y.target)||e.setFocused(!1);return}if(y.currentTarget.contains(y.target)){if(e.setFocused(!0),e.focusedKey==null){var C,f;let A=U=>{U!=null&&(e.setFocusedKey(U),c&&!e.isSelected(U)&&e.replaceSelection(U))},q=y.relatedTarget;var E,L;q&&y.currentTarget.compareDocumentPosition(q)&Node.DOCUMENT_POSITION_FOLLOWING?A((E=e.lastSelectedKey)!==null&&E!==void 0?E:(C=t.getLastKey)===null||C===void 0?void 0:C.call(t)):A((L=e.firstSelectedKey)!==null&&L!==void 0?L:(f=t.getFirstKey)===null||f===void 0?void 0:f.call(t))}else!x&&g.current&&(g.current.scrollTop=w.current.top,g.current.scrollLeft=w.current.left);if(e.focusedKey!=null&&g.current){let A=ne(l,e.focusedKey);A instanceof HTMLElement&&(!A.contains(document.activeElement)&&!h&&$e(A),Te()==="keyboard"&&je(A,{containingElement:l.current}))}}},I=y=>{y.currentTarget.contains(y.relatedTarget)||e.setFocused(!1)},D=u.useRef(!1);le(l,rl,h?y=>{let{detail:C}=y;y.stopPropagation(),e.setFocused(!0),C?.focusStrategy==="first"&&(D.current=!0)}:void 0);let F=me(()=>{var y,C;let f=(C=(y=t.getFirstKey)===null||y===void 0?void 0:y.call(t))!==null&&C!==void 0?C:null;if(f==null){let E=st();pt(l.current),gt(E,null),e.collection.size>0&&(D.current=!1)}else e.setFocusedKey(f),D.current=!1});Oe(()=>{D.current&&F()},[e.collection,F]);let P=me(()=>{e.collection.size>0&&(D.current=!1)});Oe(()=>{P()},[e.focusedKey,P]),le(l,ol,h?y=>{var C;y.stopPropagation(),e.setFocused(!1),!((C=y.detail)===null||C===void 0)&&C.clearFocusKey&&e.setFocusedKey(null)}:void 0);const j=u.useRef(i),T=u.useRef(!1);u.useEffect(()=>{if(j.current){var y,C;let L=null;var f;i==="first"&&(L=(f=(y=t.getFirstKey)===null||y===void 0?void 0:y.call(t))!==null&&f!==void 0?f:null);var E;i==="last"&&(L=(E=(C=t.getLastKey)===null||C===void 0?void 0:C.call(t))!==null&&E!==void 0?E:null);let A=e.selectedKeys;if(A.size){for(let q of A)if(e.canSelectItem(q)){L=q;break}}e.setFocused(!0),e.setFocusedKey(L),L==null&&!h&&l.current&&xe(l.current),e.collection.size>0&&(j.current=!1,T.current=!0)}});let R=u.useRef(e.focusedKey),M=u.useRef(null);u.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==R.current||T.current)&&g.current&&l.current){let y=Te(),C=ne(l,e.focusedKey);if(!(C instanceof HTMLElement))return;(y==="keyboard"||T.current)&&(M.current&&cancelAnimationFrame(M.current),M.current=requestAnimationFrame(()=>{g.current&&(Yt(g.current,C),y!=="virtual"&&je(C,{containingElement:l.current}))}))}!h&&e.isFocused&&e.focusedKey==null&&R.current!=null&&l.current&&xe(l.current),R.current=e.focusedKey,T.current=!1}),u.useEffect(()=>()=>{M.current&&cancelAnimationFrame(M.current)},[]),le(l,"react-aria-focus-scope-restore",y=>{y.preventDefault(),e.setFocused(!0)});let O={onKeyDown:K,onFocus:k,onBlur:I,onMouseDown(y){g.current===y.target&&y.preventDefault()}},{typeSelectProps:z}=bl({keyboardDelegate:t,selectionManager:e});d||(O=B(z,O));let V;h||(V=e.focusedKey==null?0:-1);let H=yl(e.collection);return{collectionProps:B(O,{tabIndex:V,"data-collection":H})}}function xl(n){let{id:e,selectionManager:t,key:l,ref:i,shouldSelectOnPressUp:o,shouldUseVirtualFocus:r,focus:s,isDisabled:a,onAction:c,allowsDifferentPressOrigin:d,linkBehavior:h="action"}=n,v=ft();e=oe(e);let x=f=>{if(f.pointerType==="keyboard"&&Ke(f))t.toggleSelection(l);else{if(t.selectionMode==="none")return;if(t.isLink(l)){if(h==="selection"&&i.current){let E=t.getItemProps(l);v.open(i.current,f,E.href,E.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(h==="override"||h==="none")return}t.selectionMode==="single"?t.isSelected(l)&&!t.disallowEmptySelection?t.toggleSelection(l):t.replaceSelection(l):f&&f.shiftKey?t.extendSelection(l):t.selectionBehavior==="toggle"||f&&(Y(f)||f.pointerType==="touch"||f.pointerType==="virtual")?t.toggleSelection(l):t.replaceSelection(l)}};u.useEffect(()=>{l===t.focusedKey&&t.isFocused&&(r?pt(i.current):s?s():document.activeElement!==i.current&&i.current&&xe(i.current))},[i,l,t.focusedKey,t.childFocusStrategy,t.isFocused,r]),a=a||t.isDisabled(l);let g={};!r&&!a?g={tabIndex:l===t.focusedKey?0:-1,onFocus(f){f.target===i.current&&t.setFocusedKey(l)}}:a&&(g.onMouseDown=f=>{f.preventDefault()});let m=t.isLink(l)&&h==="override",b=t.isLink(l)&&h!=="selection"&&h!=="none",$=!a&&t.canSelectItem(l)&&!m,K=(c||b)&&!a,w=K&&(t.selectionBehavior==="replace"?!$:!$||t.isEmpty),k=K&&$&&t.selectionBehavior==="replace",I=w||k,D=u.useRef(null),F=I&&$,P=u.useRef(!1),j=u.useRef(!1),T=t.getItemProps(l),R=f=>{c&&c(),b&&i.current&&v.open(i.current,f,T.href,T.routerOptions)},M={ref:i};if(o?(M.onPressStart=f=>{D.current=f.pointerType,P.current=F,f.pointerType==="keyboard"&&(!I||He())&&x(f)},d?(M.onPressUp=w?void 0:f=>{f.pointerType==="mouse"&&$&&x(f)},M.onPress=w?R:f=>{f.pointerType!=="keyboard"&&f.pointerType!=="mouse"&&$&&x(f)}):M.onPress=f=>{if(w||k&&f.pointerType!=="mouse"){if(f.pointerType==="keyboard"&&!ze())return;R(f)}else f.pointerType!=="keyboard"&&$&&x(f)}):(M.onPressStart=f=>{D.current=f.pointerType,P.current=F,j.current=w,$&&(f.pointerType==="mouse"&&!w||f.pointerType==="keyboard"&&(!K||He()))&&x(f)},M.onPress=f=>{(f.pointerType==="touch"||f.pointerType==="pen"||f.pointerType==="virtual"||f.pointerType==="keyboard"&&I&&ze()||f.pointerType==="mouse"&&j.current)&&(I?R(f):$&&x(f))}),g["data-collection"]=pl(t.collection),g["data-key"]=l,M.preventFocusOnPress=r,r&&(M=B(M,{onPressStart(f){f.pointerType!=="touch"&&(t.setFocused(!0),t.setFocusedKey(l))},onPress(f){f.pointerType==="touch"&&(t.setFocused(!0),t.setFocusedKey(l))}})),T)for(let f of["onPressStart","onPressEnd","onPressChange","onPress","onPressUp","onClick"])T[f]&&(M[f]=at(M[f],T[f]));let{pressProps:O,isPressed:z}=ct(M),V=k?f=>{D.current==="mouse"&&(f.stopPropagation(),f.preventDefault(),R(f))}:void 0,{longPressProps:H}=dl({isDisabled:!F,onLongPress(f){f.pointerType==="touch"&&(x(f),t.setSelectionBehavior("toggle"))}}),y=f=>{D.current==="touch"&&P.current&&f.preventDefault()},C=h!=="none"&&t.isLink(l)?f=>{Ht.isOpening||f.preventDefault()}:void 0;return{itemProps:B(g,$||w||r&&!a?O:{},F?H:{},{onDoubleClick:V,onDragStartCapture:y,onClick:C,id:e},r?{onMouseDown:f=>f.preventDefault()}:void 0),isPressed:z,isSelected:t.isSelected(l),isFocused:t.isFocused&&t.focusedKey===l,isDisabled:a,allowsSelection:$,hasAction:I}}function ze(){let n=window.event;return n?.key==="Enter"}function He(){let n=window.event;return n?.key===" "||n?.code==="Space"}class Ue{getItemRect(e){let t=this.ref.current;if(!t)return null;let l=e!=null?ne(this.ref,e):null;if(!l)return null;let i=t.getBoundingClientRect(),o=l.getBoundingClientRect();return{x:o.left-i.left+t.scrollLeft,y:o.top-i.top+t.scrollTop,width:o.width,height:o.height}}getContentSize(){let e=this.ref.current;var t,l;return{width:(t=e?.scrollWidth)!==null&&t!==void 0?t:0,height:(l=e?.scrollHeight)!==null&&l!==void 0?l:0}}getVisibleRect(){let e=this.ref.current;var t,l,i,o;return{x:(t=e?.scrollLeft)!==null&&t!==void 0?t:0,y:(l=e?.scrollTop)!==null&&l!==void 0?l:0,width:(i=e?.offsetWidth)!==null&&i!==void 0?i:0,height:(o=e?.offsetHeight)!==null&&o!==void 0?o:0}}constructor(e){this.ref=e}}class mt{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let l=e;for(;l!=null;){let i=this.collection.getItem(l);if(i?.type==="item"&&!this.isDisabled(i))return l;l=t(l)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,l=>this.collection.getKeyAfter(l))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,l=>this.collection.getKeyBefore(l))}findKey(e,t,l){let i=e,o=this.layoutDelegate.getItemRect(i);if(!o||i==null)return null;let r=o;do{if(i=t(i),i==null)break;o=this.layoutDelegate.getItemRect(i)}while(o&&l(r,o)&&i!=null);return i}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,l=>this.layoutDelegate[t](l))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,l=>this.getNextColumn(l,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,l=>this.layoutDelegate[t](l))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,l=>this.getNextColumn(l,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,l=this.layoutDelegate.getItemRect(e);if(!l)return null;if(t&&!Be(t))return this.getFirstKey();let i=e;if(this.orientation==="horizontal"){let o=Math.max(0,l.x+l.width-this.layoutDelegate.getVisibleRect().width);for(;l&&l.x>o&&i!=null;)i=this.getKeyAbove(i),l=i==null?null:this.layoutDelegate.getItemRect(i)}else{let o=Math.max(0,l.y+l.height-this.layoutDelegate.getVisibleRect().height);for(;l&&l.y>o&&i!=null;)i=this.getKeyAbove(i),l=i==null?null:this.layoutDelegate.getItemRect(i)}return i??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,l=this.layoutDelegate.getItemRect(e);if(!l)return null;if(t&&!Be(t))return this.getLastKey();let i=e;if(this.orientation==="horizontal"){let o=Math.min(this.layoutDelegate.getContentSize().width,l.y-l.width+this.layoutDelegate.getVisibleRect().width);for(;l&&l.x<o&&i!=null;)i=this.getKeyBelow(i),l=i==null?null:this.layoutDelegate.getItemRect(i)}else{let o=Math.min(this.layoutDelegate.getContentSize().height,l.y-l.height+this.layoutDelegate.getVisibleRect().height);for(;l&&l.y<o&&i!=null;)i=this.getKeyBelow(i),l=i==null?null:this.layoutDelegate.getItemRect(i)}return i??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let l=this.collection,i=t||this.getFirstKey();for(;i!=null;){let o=l.getItem(i);if(!o)return null;let r=o.textValue.slice(0,e.length);if(o.textValue&&this.collator.compare(r,e)===0)return i;i=this.getNextKey(i)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new Ue(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new Ue(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function Sl(n){let{selectionManager:e,collection:t,disabledKeys:l,ref:i,keyboardDelegate:o,layoutDelegate:r}=n,s=ht({usage:"search",sensitivity:"base"}),a=e.disabledBehavior,c=u.useMemo(()=>o||new mt({collection:t,disabledKeys:l,disabledBehavior:a,ref:i,collator:s,layoutDelegate:r}),[o,r,t,l,i,s,a]),{collectionProps:d}=$l({...n,ref:i,selectionManager:e,keyboardDelegate:c});return{listProps:d}}function Kl(n,e,t){let l=Z(n,{labelable:!0}),i=n.selectionBehavior||"toggle",o=n.linkBehavior||(i==="replace"?"action":"override");i==="toggle"&&o==="action"&&(o="override");let{listProps:r}=Sl({...n,ref:t,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,linkBehavior:o}),{focusWithinProps:s}=Xt({onFocusWithin:n.onFocus,onBlurWithin:n.onBlur,onFocusWithinChange:n.onFocusChange}),a=oe(n.id);Ee.set(e,{id:a,shouldUseVirtualFocus:n.shouldUseVirtualFocus,shouldSelectOnPressUp:n.shouldSelectOnPressUp,shouldFocusOnHover:n.shouldFocusOnHover,isVirtualized:n.isVirtualized,onAction:n.onAction,linkBehavior:o});let{labelProps:c,fieldProps:d}=Zt({...n,id:a,labelElementType:"span"});return{labelProps:c,listBoxProps:B(l,s,e.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...B(d,r)})}}class wl{build(e,t){return this.context=t,We(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:l}=e;if(p.isValidElement(t)&&t.type===p.Fragment)yield*this.iterateCollection({children:t.props.children,items:l});else if(typeof t=="function"){if(!l)throw new Error("props.children was a function but props.items is missing");let i=0;for(let o of l)yield*this.getFullNode({value:o,index:i},{renderer:t}),i++}else{let i=[];p.Children.forEach(t,r=>{r&&i.push(r)});let o=0;for(let r of i){let s=this.getFullNode({element:r,index:o},{});for(let a of s)o++,yield a}}}getKey(e,t,l,i){if(e.key!=null)return e.key;if(t.type==="cell"&&t.key!=null)return`${i}${t.key}`;let o=t.value;if(o!=null){var r;let s=(r=o.key)!==null&&r!==void 0?r:o.id;if(s==null)throw new Error("No key found for item");return s}return i?`${i}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,l,i){if(p.isValidElement(e.element)&&e.element.type===p.Fragment){let b=[];p.Children.forEach(e.element.props.children,K=>{b.push(K)});var o;let $=(o=e.index)!==null&&o!==void 0?o:0;for(const K of b)yield*this.getFullNode({element:K,index:$++},t,l,i);return}let r=e.element;if(!r&&e.value&&t&&t.renderer){let b=this.cache.get(e.value);if(b&&(!b.shouldInvalidate||!b.shouldInvalidate(this.context))){b.index=e.index,b.parentKey=i?i.key:null,yield b;return}r=t.renderer(e.value)}if(p.isValidElement(r)){let b=r.type;if(typeof b!="function"&&typeof b.getCollectionNode!="function"){let k=r.type;throw new Error(`Unknown element <${k}> in collection.`)}let $=b.getCollectionNode(r.props,this.context);var s;let K=(s=e.index)!==null&&s!==void 0?s:0,w=$.next();for(;!w.done&&w.value;){let k=w.value;e.index=K;var a;let I=(a=k.key)!==null&&a!==void 0?a:null;I==null&&(I=k.element?null:this.getKey(r,e,t,l));let F=[...this.getFullNode({...k,key:I,index:K,wrapper:Cl(e.wrapper,k.wrapper)},this.getChildState(t,k),l?`${l}${r.key}`:r.key,i)];for(let P of F){var c,d;P.value=(d=(c=k.value)!==null&&c!==void 0?c:e.value)!==null&&d!==void 0?d:null,P.value&&this.cache.set(P.value,P);var h;if(e.type&&P.type!==e.type)throw new Error(`Unsupported type <${ye(P.type)}> in <${ye((h=i?.type)!==null&&h!==void 0?h:"unknown parent type")}>. Only <${ye(e.type)}> is supported.`);K++,yield P}w=$.next(F)}return}if(e.key==null||e.type==null)return;let v=this;var x,g;let m={type:e.type,props:e.props,key:e.key,parentKey:i?i.key:null,value:(x=e.value)!==null&&x!==void 0?x:null,level:i?i.level+1:0,index:e.index,rendered:e.rendered,textValue:(g=e.textValue)!==null&&g!==void 0?g:"","aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes||!1,childNodes:We(function*(){if(!e.hasChildNodes||!e.childNodes)return;let b=0;for(let $ of e.childNodes()){$.key!=null&&($.key=`${m.key}${$.key}`);let K=v.getFullNode({...$,index:b},v.getChildState(t,$),m.key,m);for(let w of K)b++,yield w}})};yield m}constructor(){this.cache=new WeakMap}}function We(n){let e=[],t=null;return{*[Symbol.iterator](){for(let l of e)yield l;t||(t=n());for(let l of t)e.push(l),yield l}}}function Cl(n,e){if(n&&e)return t=>n(e(t));if(n)return n;if(e)return e}function ye(n){return n[0].toUpperCase()+n.slice(1)}function Dl(n,e,t){let l=u.useMemo(()=>new wl,[]),{children:i,items:o,collection:r}=n;return u.useMemo(()=>{if(r)return r;let a=l.build({children:i,items:o},t);return e(a)},[l,i,o,r,t,e])}function $t(n,e){return typeof e.getChildren=="function"?e.getChildren(n.key):n.childNodes}function kl(n){return El(n)}function El(n,e){for(let t of n)return t}function pe(n,e,t){if(e.parentKey===t.parentKey)return e.index-t.index;let l=[...Ge(n,e),e],i=[...Ge(n,t),t],o=l.slice(0,i.length).findIndex((r,s)=>r!==i[s]);return o!==-1?(e=l[o],t=i[o],e.index-t.index):l.findIndex(r=>r===t)>=0?1:(i.findIndex(r=>r===e)>=0,-1)}function Ge(n,e){let t=[],l=e;for(;l?.parentKey!=null;)l=n.getItem(l.parentKey),l&&t.unshift(l);return t}const Ye=new WeakMap;function Pl(n){let e=Ye.get(n);if(e!=null)return e;let t=0,l=i=>{for(let o of i)o.type==="section"?l($t(o,n)):o.type==="item"&&t++};return l(n),Ye.set(n,t),t}function Ml(n,e,t){var l,i;let{key:o}=n,r=Ee.get(e);var s;let a=(s=n.isDisabled)!==null&&s!==void 0?s:e.selectionManager.isDisabled(o);var c;let d=(c=n.isSelected)!==null&&c!==void 0?c:e.selectionManager.isSelected(o);var h;let v=(h=n.shouldSelectOnPressUp)!==null&&h!==void 0?h:r?.shouldSelectOnPressUp;var x;let g=(x=n.shouldFocusOnHover)!==null&&x!==void 0?x:r?.shouldFocusOnHover;var m;let b=(m=n.shouldUseVirtualFocus)!==null&&m!==void 0?m:r?.shouldUseVirtualFocus;var $;let K=($=n.isVirtualized)!==null&&$!==void 0?$:r?.isVirtualized,w=Re(),k=Re(),I={role:"option","aria-disabled":a||void 0,"aria-selected":e.selectionManager.selectionMode!=="none"?d:void 0};ot()&&qt()||(I["aria-label"]=n["aria-label"],I["aria-labelledby"]=w,I["aria-describedby"]=k);let D=e.collection.getItem(o);if(K){let y=Number(D?.index);I["aria-posinset"]=Number.isNaN(y)?void 0:y+1,I["aria-setsize"]=Pl(e.collection)}let F=r?.onAction?()=>{var y;return r==null||(y=r.onAction)===null||y===void 0?void 0:y.call(r,o)}:void 0,P=vl(e,o),{itemProps:j,isPressed:T,isFocused:R,hasAction:M,allowsSelection:O}=xl({selectionManager:e.selectionManager,key:o,ref:t,shouldSelectOnPressUp:v,allowsDifferentPressOrigin:v&&g,isVirtualized:K,shouldUseVirtualFocus:b,isDisabled:a,onAction:F||!(D==null||(l=D.props)===null||l===void 0)&&l.onAction?at(D==null||(i=D.props)===null||i===void 0?void 0:i.onAction,F):void 0,linkBehavior:r?.linkBehavior,id:P}),{hoverProps:z}=yt({isDisabled:a||!g,onHoverStart(){Ae()||(e.selectionManager.setFocused(!0),e.selectionManager.setFocusedKey(o))}}),V=Z(D?.props);delete V.id;let H=Ut(D?.props);return{optionProps:{...I,...B(V,j,z,H),id:P},labelProps:{id:w},descriptionProps:{id:k},isFocused:R,isFocusVisible:R&&e.selectionManager.isFocused&&Ae(),isSelected:d,isDisabled:a,isPressed:T,allowsSelection:O,hasAction:M}}function Il(n){let{heading:e,"aria-label":t}=n,l=oe();return{itemProps:{role:"presentation"},headingProps:e?{id:l,role:"presentation"}:{},groupProps:{role:"group","aria-label":t,"aria-labelledby":e?l:void 0}}}var ge={exports:{}},be={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xe;function Fl(){if(Xe)return be;Xe=1;var n=Bt();function e(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var t=typeof Object.is=="function"?Object.is:e,l=n.useState,i=n.useEffect,o=n.useLayoutEffect,r=n.useDebugValue;function s(h,v){var x=v(),g=l({inst:{value:x,getSnapshot:v}}),m=g[0].inst,b=g[1];return o(function(){m.value=x,m.getSnapshot=v,a(m)&&b({inst:m})},[h,x,v]),i(function(){return a(m)&&b({inst:m}),h(function(){a(m)&&b({inst:m})})},[h]),r(x),x}function a(h){var v=h.getSnapshot;h=h.value;try{var x=v();return!t(h,x)}catch{return!0}}function c(h,v){return v()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return be.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,be}var Ze;function Tl(){return Ze||(Ze=1,ge.exports=Fl()),ge.exports}var Rl=Tl();class Je{*[Symbol.iterator](){yield*this.iterable}get size(){return this._size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);var l;return t&&(l=t.prevKey)!==null&&l!==void 0?l:null}getKeyAfter(e){let t=this.keyMap.get(e);var l;return t&&(l=t.nextKey)!==null&&l!==void 0?l:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return t?.childNodes||[]}constructor(e){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e;let t=s=>{if(this.keyMap.set(s.key,s),s.childNodes&&s.type==="section")for(let a of s.childNodes)t(a)};for(let s of e)t(s);let l=null,i=0,o=0;for(let[s,a]of this.keyMap)l?(l.nextKey=s,a.prevKey=l.key):(this.firstKey=s,a.prevKey=void 0),a.type==="item"&&(a.index=i++),(a.type==="section"||a.type==="item")&&o++,l=a,l.nextKey=void 0;this._size=o;var r;this.lastKey=(r=l?.key)!==null&&r!==void 0?r:null}}class N extends Set{constructor(e,t,l){super(e),e instanceof N?(this.anchorKey=t??e.anchorKey,this.currentKey=l??e.currentKey):(this.anchorKey=t??null,this.currentKey=l??null)}}function Al(n,e){if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0}function Ll(n){let{selectionMode:e="none",disallowEmptySelection:t=!1,allowDuplicateSelectionEvents:l,selectionBehavior:i="toggle",disabledBehavior:o="all"}=n,r=u.useRef(!1),[,s]=u.useState(!1),a=u.useRef(null),c=u.useRef(null),[,d]=u.useState(null),h=u.useMemo(()=>Qe(n.selectedKeys),[n.selectedKeys]),v=u.useMemo(()=>Qe(n.defaultSelectedKeys,new N),[n.defaultSelectedKeys]),[x,g]=zt(h,v,n.onSelectionChange),m=u.useMemo(()=>n.disabledKeys?new Set(n.disabledKeys):new Set,[n.disabledKeys]),[b,$]=u.useState(i);i==="replace"&&b==="toggle"&&typeof x=="object"&&x.size===0&&$("replace");let K=u.useRef(i);return u.useEffect(()=>{i!==K.current&&($(i),K.current=i)},[i]),{selectionMode:e,disallowEmptySelection:t,selectionBehavior:b,setSelectionBehavior:$,get isFocused(){return r.current},setFocused(w){r.current=w,s(w)},get focusedKey(){return a.current},get childFocusStrategy(){return c.current},setFocusedKey(w,k="first"){a.current=w,c.current=k,d(w)},selectedKeys:x,setSelectedKeys(w){(l||!Al(w,x))&&g(w)},disabledKeys:m,disabledBehavior:o}}function Qe(n,e){return n?n==="all"?"all":new N(n):e}class Pe{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(e==null||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){if(this.state.selectionMode==="none")return!1;let t=this.getKey(e);return t==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(t):this.state.selectedKeys.has(t)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(l=>t.has(l)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let l of this.state.selectedKeys){let i=this.collection.getItem(l);(!e||i&&pe(this.collection,i,e)<0)&&(e=i)}var t;return(t=e?.key)!==null&&t!==void 0?t:null}get lastSelectedKey(){let e=null;for(let l of this.state.selectedKeys){let i=this.collection.getItem(l);(!e||i&&pe(this.collection,i,e)>0)&&(e=i)}var t;return(t=e?.key)!==null&&t!==void 0?t:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let l;if(this.state.selectedKeys==="all")l=new N([t],t,t);else{let r=this.state.selectedKeys;var i;let s=(i=r.anchorKey)!==null&&i!==void 0?i:t;l=new N(r,s,t);var o;for(let a of this.getKeyRange(s,(o=r.currentKey)!==null&&o!==void 0?o:t))l.delete(a);for(let a of this.getKeyRange(t,s))this.canSelectItem(a)&&l.add(a)}this.state.setSelectedKeys(l)}getKeyRange(e,t){let l=this.collection.getItem(e),i=this.collection.getItem(t);return l&&i?pe(this.collection,l,i)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){var l;if(!((l=this.layoutDelegate)===null||l===void 0)&&l.getKeyRange)return this.layoutDelegate.getKeyRange(e,t);let i=[],o=e;for(;o!=null;){let r=this.collection.getItem(o);if(r&&(r.type==="item"||r.type==="cell"&&this.allowsCellSelection)&&i.push(o),o===t)return i;o=this.collection.getKeyAfter(o)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t||t.type==="cell"&&this.allowsCellSelection)return e;for(;t&&t.type!=="item"&&t.parentKey!=null;)t=this.collection.getItem(t.parentKey);return!t||t.type!=="item"?null:t.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let l=new N(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);l.has(t)?l.delete(t):this.canSelectItem(t)&&(l.add(t),l.anchorKey=t,l.currentKey=t),!(this.disallowEmptySelection&&l.size===0)&&this.state.setSelectedKeys(l)}replaceSelection(e){if(this.selectionMode==="none")return;let t=this.getKey(e);if(t==null)return;let l=this.canSelectItem(t)?new N([t],t,t):new N;this.state.setSelectedKeys(l)}setSelectedKeys(e){if(this.selectionMode==="none")return;let t=new N;for(let l of e){let i=this.getKey(l);if(i!=null&&(t.add(i),this.selectionMode==="single"))break}this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=l=>{for(;l!=null;){if(this.canSelectItem(l)){var i;let r=this.collection.getItem(l);r?.type==="item"&&e.push(l);var o;r?.hasChildNodes&&(this.allowsCellSelection||r.type!=="item")&&t((o=(i=kl($t(r,this.collection)))===null||i===void 0?void 0:i.key)!==null&&o!==void 0?o:null)}l=this.collection.getKeyAfter(l)}};return t(this.collection.getFirstKey()),e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new N)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||t&&(t.pointerType==="touch"||t.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let l of e)if(!t.has(l))return!1;for(let l of t)if(!e.has(l))return!1;return!0}canSelectItem(e){var t;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let l=this.collection.getItem(e);return!(!l||!(l==null||(t=l.props)===null||t===void 0)&&t.isDisabled||l.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){var t,l;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(e)||!!(!((l=this.collection.getItem(e))===null||l===void 0||(t=l.props)===null||t===void 0)&&t.isDisabled))}isLink(e){var t,l;return!!(!((l=this.collection.getItem(e))===null||l===void 0||(t=l.props)===null||t===void 0)&&t.href)}getItemProps(e){var t;return(t=this.collection.getItem(e))===null||t===void 0?void 0:t.props}withCollection(e){return new Pe(e,this.state,{allowsCellSelection:this.allowsCellSelection,layoutDelegate:this.layoutDelegate||void 0})}constructor(e,t,l){this.collection=e,this.state=t;var i;this.allowsCellSelection=(i=l?.allowsCellSelection)!==null&&i!==void 0?i:!1,this._isSelectAll=null,this.layoutDelegate=l?.layoutDelegate||null}}function Bl(n){let{filter:e,layoutDelegate:t}=n,l=Ll(n),i=u.useMemo(()=>n.disabledKeys?new Set(n.disabledKeys):new Set,[n.disabledKeys]),o=u.useCallback(c=>e?new Je(e(c)):new Je(c),[e]),r=u.useMemo(()=>({suppressTextValueWarning:n.suppressTextValueWarning}),[n.suppressTextValueWarning]),s=Dl(n,o,r),a=u.useMemo(()=>new Pe(s,l,{layoutDelegate:t}),[s,l,t]);return xt(s,a),{collection:s,disabledKeys:i,selectionManager:a}}function jl(n,e){let t=u.useMemo(()=>e?n.collection.filter(e):n.collection,[n.collection,e]),l=n.selectionManager.withCollection(t);return xt(t,l),{collection:t,selectionManager:l,disabledKeys:n.disabledKeys}}function xt(n,e){const t=u.useRef(null);u.useEffect(()=>{if(e.focusedKey!=null&&!n.getItem(e.focusedKey)&&t.current){const d=t.current.getItem(e.focusedKey),h=[...t.current.getKeys()].map($=>{const K=t.current.getItem($);return K?.type==="item"?K:null}).filter($=>$!==null),v=[...n.getKeys()].map($=>{const K=n.getItem($);return K?.type==="item"?K:null}).filter($=>$!==null);var l,i;const x=((l=h?.length)!==null&&l!==void 0?l:0)-((i=v?.length)!==null&&i!==void 0?i:0);var o,r,s;let g=Math.min(x>1?Math.max(((o=d?.index)!==null&&o!==void 0?o:0)-x+1,0):(r=d?.index)!==null&&r!==void 0?r:0,((s=v?.length)!==null&&s!==void 0?s:0)-1),m=null,b=!1;for(;g>=0;){if(!e.isDisabled(v[g].key)){m=v[g];break}if(g<v.length-1&&!b)g++;else{b=!0;var a,c;g>((a=d?.index)!==null&&a!==void 0?a:0)&&(g=(c=d?.index)!==null&&c!==void 0?c:0),g--}}e.setFocusedKey(m?m.key:null)}t.current=n},[n,e])}const Vl=u.createContext(null),St=Symbol("default");function Kt({values:n,children:e}){for(let[t,l]of n)e=p.createElement(t.Provider,{value:l},e);return e}function _(n){let{className:e,style:t,children:l,defaultClassName:i,defaultChildren:o,defaultStyle:r,values:s}=n;return u.useMemo(()=>{let a,c,d;return typeof e=="function"?a=e({...s,defaultClassName:i}):a=e,typeof t=="function"?c=t({...s,defaultStyle:r||{}}):c=t,typeof l=="function"?d=l({...s,defaultChildren:o}):l==null?d=o:d=l,{className:a??i,style:c||r?{...r,...c}:void 0,children:d??o,"data-rac":""}},[e,t,l,i,o,r,s])}function Nl(n,e){let t=u.useContext(n);if(e===null)return null;if(t&&typeof t=="object"&&"slots"in t&&t.slots){let l=e||St;if(!t.slots[l]){let i=new Intl.ListFormat().format(Object.keys(t.slots).map(r=>`"${r}"`)),o=e?`Invalid slot "${e}".`:"A slot prop is required.";throw new Error(`${o} Valid slot names are ${i}.`)}return t.slots[l]}return t}function Me(n,e,t){let l=Nl(t,n.slot)||{},{ref:i,...o}=l,r=ke(u.useMemo(()=>ll(e,i),[e,i])),s=B(o,n);return"style"in o&&o.style&&"style"in n&&n.style&&(typeof o.style=="function"||typeof n.style=="function"?s.style=a=>{let c=typeof o.style=="function"?o.style(a):o.style,d={...a.defaultStyle,...c},h=typeof n.style=="function"?n.style({...a,defaultStyle:d}):n.style;return{...d,...h}}:s.style={...o.style,...n.style}),[s,r]}function Ol(n=!0){let[e,t]=u.useState(n),l=u.useRef(!1),i=u.useCallback(o=>{l.current=!0,t(!!o)},[]);return J(()=>{l.current||t(!1)},[]),[i,e]}class ee{get childNodes(){throw new Error("childNodes is not supported")}clone(){let e=new this.constructor(this.key);return e.value=this.value,e.level=this.level,e.hasChildNodes=this.hasChildNodes,e.rendered=this.rendered,e.textValue=this.textValue,e["aria-label"]=this["aria-label"],e.index=this.index,e.parentKey=this.parentKey,e.prevKey=this.prevKey,e.nextKey=this.nextKey,e.firstChildKey=this.firstChildKey,e.lastChildKey=this.lastChildKey,e.props=this.props,e.render=this.render,e.colSpan=this.colSpan,e.colIndex=this.colIndex,e}filter(e,t,l){let i=this.clone();return t.addDescendants(i,e),i}constructor(e){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.colSpan=null,this.colIndex=null,this.type=this.constructor.type,this.key=e}}class wt extends ee{filter(e,t,l){let[i,o]=kt(e,t,this.firstChildKey,l),r=this.clone();return r.firstChildKey=i,r.lastChildKey=o,r}}class ql extends ee{}ql.type="header";class Ct extends ee{}Ct.type="loader";class Dt extends wt{filter(e,t,l){if(l(this.textValue,this)){let i=this.clone();return t.addDescendants(i,e),i}return null}}Dt.type="item";class zl extends wt{filter(e,t,l){let i=super.filter(e,t,l);if(i&&i.lastChildKey!==null){let o=e.getItem(i.lastChildKey);if(o&&o.type!=="header")return i}return null}}zl.type="section";class Hl{get size(){return this.itemCount}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let e=this.firstKey!=null?this.keyMap.get(this.firstKey):void 0;for(;e;)yield e,e=e.nextKey!=null?this.keyMap.get(e.nextKey):void 0}getChildren(e){let t=this.keyMap;return{*[Symbol.iterator](){let l=t.get(e),i=l?.firstChildKey!=null?t.get(l.firstChildKey):null;for(;i;)yield i,i=i.nextKey!=null?t.get(i.nextKey):void 0}}}getKeyBefore(e){let t=this.keyMap.get(e);if(!t)return null;if(t.prevKey!=null){for(t=this.keyMap.get(t.prevKey);t&&t.type!=="item"&&t.lastChildKey!=null;)t=this.keyMap.get(t.lastChildKey);var l;return(l=t?.key)!==null&&l!==void 0?l:null}return t.parentKey}getKeyAfter(e){let t=this.keyMap.get(e);if(!t)return null;if(t.type!=="item"&&t.firstChildKey!=null)return t.firstChildKey;for(;t;){if(t.nextKey!=null)return t.nextKey;if(t.parentKey!=null)t=this.keyMap.get(t.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let e=this.lastKey!=null?this.keyMap.get(this.lastKey):null;for(;e?.lastChildKey!=null;)e=this.keyMap.get(e.lastChildKey);var t;return(t=e?.key)!==null&&t!==void 0?t:null}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(){throw new Error("Not implemented")}clone(){let e=this.constructor,t=new e;return t.keyMap=new Map(this.keyMap),t.firstKey=this.firstKey,t.lastKey=this.lastKey,t.itemCount=this.itemCount,t}addNode(e){if(this.frozen)throw new Error("Cannot add a node to a frozen collection");e.type==="item"&&this.keyMap.get(e.key)==null&&this.itemCount++,this.keyMap.set(e.key,e)}addDescendants(e,t){this.addNode(e);let l=t.getChildren(e.key);for(let i of l)this.addDescendants(i,t)}removeNode(e){if(this.frozen)throw new Error("Cannot remove a node to a frozen collection");let t=this.keyMap.get(e);t!=null&&t.type==="item"&&this.itemCount--,this.keyMap.delete(e)}commit(e,t,l=!1){if(this.frozen)throw new Error("Cannot commit a frozen collection");this.firstKey=e,this.lastKey=t,this.frozen=!l}filter(e){let t=new this.constructor,[l,i]=kt(this,t,this.firstKey,e);return t?.commit(l,i),t}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1,this.itemCount=0}}function kt(n,e,t,l){if(t==null)return[null,null];let i=null,o=null,r=n.getItem(t);for(;r!=null;){let c=r.filter(n,e,l);c!=null&&(c.nextKey=null,o&&(c.prevKey=o.key,o.nextKey=c.key),i==null&&(i=c),e.addNode(c),o=c),r=r.nextKey?n.getItem(r.nextKey):null}if(o&&o.type==="separator"){let c=o.prevKey;e.removeNode(o.key),c?(o=e.getItem(c),o.nextKey=null):o=null}var s,a;return[(s=i?.key)!==null&&s!==void 0?s:null,(a=o?.key)!==null&&a!==void 0?a:null]}class Et{*[Symbol.iterator](){let e=this.firstChild;for(;e;)yield e,e=e.nextSibling}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(e){this._lastChild=e,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e,this.ownerDocument.markDirty(this)}get isConnected(){var e;return((e=this.parentNode)===null||e===void 0?void 0:e.isConnected)||!1}invalidateChildIndices(e){(this._minInvalidChildIndex==null||!this._minInvalidChildIndex.isConnected||e.index<this._minInvalidChildIndex.index)&&(this._minInvalidChildIndex=e,this.ownerDocument.markDirty(this))}updateChildIndices(){let e=this._minInvalidChildIndex;for(;e;)e.index=e.previousSibling?e.previousSibling.index+1:0,e=e.nextSibling;this._minInvalidChildIndex=null}appendChild(e){e.parentNode&&e.parentNode.removeChild(e),this.firstChild==null&&(this.firstChild=e),this.lastChild?(this.lastChild.nextSibling=e,e.index=this.lastChild.index+1,e.previousSibling=this.lastChild):(e.previousSibling=null,e.index=0),e.parentNode=this,e.nextSibling=null,this.lastChild=e,this.ownerDocument.markDirty(this),this.isConnected&&this.ownerDocument.queueUpdate()}insertBefore(e,t){if(t==null)return this.appendChild(e);e.parentNode&&e.parentNode.removeChild(e),e.nextSibling=t,e.previousSibling=t.previousSibling,e.index=t.index-1,this.firstChild===t?this.firstChild=e:t.previousSibling&&(t.previousSibling.nextSibling=e),t.previousSibling=e,e.parentNode=t.parentNode,this.invalidateChildIndices(e),this.isConnected&&this.ownerDocument.queueUpdate()}removeChild(e){e.parentNode!==this||!this.ownerDocument.isMounted||(this._minInvalidChildIndex===e&&(this._minInvalidChildIndex=null),e.nextSibling&&(this.invalidateChildIndices(e.nextSibling),e.nextSibling.previousSibling=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),e.parentNode=null,e.nextSibling=null,e.previousSibling=null,e.index=0,this.ownerDocument.markDirty(e),this.isConnected&&this.ownerDocument.queueUpdate())}addEventListener(){}removeEventListener(){}get previousVisibleSibling(){let e=this.previousSibling;for(;e&&e.isHidden;)e=e.previousSibling;return e}get nextVisibleSibling(){let e=this.nextSibling;for(;e&&e.isHidden;)e=e.nextSibling;return e}get firstVisibleChild(){let e=this.firstChild;for(;e&&e.isHidden;)e=e.nextSibling;return e}get lastVisibleChild(){let e=this.lastChild;for(;e&&e.isHidden;)e=e.previousSibling;return e}constructor(e){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this._minInvalidChildIndex=null,this.ownerDocument=e}}class X extends Et{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){var e;return this.parentNode instanceof X?this.parentNode.level+(((e=this.node)===null||e===void 0?void 0:e.type)==="item"?1:0):0}getMutableNode(){return this.node==null?null:(this.isMutated||(this.node=this.node.clone(),this.isMutated=!0),this.ownerDocument.markDirty(this),this.node)}updateNode(){var e,t,l,i,o,r,s,a;let c=this.nextVisibleSibling,d=this.getMutableNode();if(d!=null){d.index=this.index,d.level=this.level;var h;d.parentKey=this.parentNode instanceof X&&(h=(e=this.parentNode.node)===null||e===void 0?void 0:e.key)!==null&&h!==void 0?h:null;var v;d.prevKey=(v=(l=this.previousVisibleSibling)===null||l===void 0||(t=l.node)===null||t===void 0?void 0:t.key)!==null&&v!==void 0?v:null;var x;d.nextKey=(x=c==null||(i=c.node)===null||i===void 0?void 0:i.key)!==null&&x!==void 0?x:null,d.hasChildNodes=!!this.firstChild;var g;d.firstChildKey=(g=(r=this.firstVisibleChild)===null||r===void 0||(o=r.node)===null||o===void 0?void 0:o.key)!==null&&g!==void 0?g:null;var m;if(d.lastChildKey=(m=(a=this.lastVisibleChild)===null||a===void 0||(s=a.node)===null||s===void 0?void 0:s.key)!==null&&m!==void 0?m:null,(d.colSpan!=null||d.colIndex!=null)&&c){var b,$;let K=((b=d.colIndex)!==null&&b!==void 0?b:d.index)+(($=d.colSpan)!==null&&$!==void 0?$:1);if(c.node!=null&&K!==c.node.colIndex){let w=c.getMutableNode();w.colIndex=K}}}}setProps(e,t,l,i,o){let r,{value:s,textValue:a,id:c,...d}=e;if(this.node==null?(r=new l(c??`react-aria-${++this.ownerDocument.nodeId}`),this.node=r):r=this.getMutableNode(),d.ref=t,r.props=d,r.rendered=i,r.render=o,r.value=s,r.textValue=a||(typeof d.children=="string"?d.children:"")||e["aria-label"]||"",c!=null&&c!==r.key)throw new Error("Cannot change the id of an item");d.colSpan!=null&&(r.colSpan=d.colSpan),this.isConnected&&this.ownerDocument.queueUpdate()}get style(){let e=this;return{get display(){return e.isHidden?"none":""},set display(t){let l=t==="none";if(e.isHidden!==l){var i,o;(((i=e.parentNode)===null||i===void 0?void 0:i.firstVisibleChild)===e||((o=e.parentNode)===null||o===void 0?void 0:o.lastVisibleChild)===e)&&e.ownerDocument.markDirty(e.parentNode);let r=e.previousVisibleSibling,s=e.nextVisibleSibling;r&&e.ownerDocument.markDirty(r),s&&e.ownerDocument.markDirty(s),e.isHidden=l,e.ownerDocument.markDirty(e)}}}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,t){super(t),this.nodeType=8,this.isMutated=!0,this._index=0,this.isHidden=!1,this.node=null}}class Ul extends Et{get isConnected(){return this.isMounted}createElement(e){return new X(e,this)}getMutableCollection(){return this.nextCollection||(this.nextCollection=this.collection.clone()),this.nextCollection}markDirty(e){this.dirtyNodes.add(e)}addNode(e){if(e.isHidden||e.node==null)return;let t=this.getMutableCollection();if(!t.getItem(e.node.key))for(let l of e)this.addNode(l);t.addNode(e.node)}removeNode(e){if(e.node==null)return;for(let l of e)this.removeNode(l);this.getMutableCollection().removeNode(e.node.key)}getCollection(){return this.inSubscription?this.collection.clone():(this.queuedRender=!1,this.updateCollection(),this.collection)}updateCollection(){for(let s of this.dirtyNodes)s instanceof X&&(!s.isConnected||s.isHidden)?this.removeNode(s):s.updateChildIndices();for(let s of this.dirtyNodes)s instanceof X&&(s.isConnected&&!s.isHidden&&(s.updateNode(),this.addNode(s)),s.isMutated=!1);if(this.dirtyNodes.clear(),this.nextCollection){var e,t,l,i,o,r;this.nextCollection.commit((o=(t=this.firstVisibleChild)===null||t===void 0||(e=t.node)===null||e===void 0?void 0:e.key)!==null&&o!==void 0?o:null,(r=(i=this.lastVisibleChild)===null||i===void 0||(l=i.node)===null||l===void 0?void 0:l.key)!==null&&r!==void 0?r:null,this.isSSR),this.isSSR||(this.collection=this.nextCollection,this.nextCollection=null)}}queueUpdate(){if(!(this.dirtyNodes.size===0||this.queuedRender)){this.queuedRender=!0,this.inSubscription=!0;for(let e of this.subscriptions)e();this.inSubscription=!1}}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(e){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.isMounted=!0,this.nextCollection=null,this.subscriptions=new Set,this.queuedRender=!1,this.inSubscription=!1,this.collection=e,this.nextCollection=e}}function Pt(n){let{children:e,items:t,idScope:l,addIdAndValue:i,dependencies:o=[]}=n,r=u.useMemo(()=>new WeakMap,o);return u.useMemo(()=>{if(t&&typeof e=="function"){let c=[];for(let d of t){let h=r.get(d);if(!h){h=e(d);var s,a;let v=(a=(s=h.props.id)!==null&&s!==void 0?s:d.key)!==null&&a!==void 0?a:d.id;if(v==null)throw new Error("Could not determine key for item");l&&(v=l+":"+v),h=u.cloneElement(h,i?{key:v,id:v,value:d}:{key:v}),r.set(d,h)}c.push(h)}return c}else if(typeof e!="function")return e},[e,t,r,l,i])}if(typeof HTMLTemplateElement<"u"){const n=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:n.call(this)}})}const _e=u.createContext(!1);function Wl(n){if(u.useContext(_e))return p.createElement(p.Fragment,null,n.children);let t=p.createElement(_e.Provider,{value:!0},n.children);return p.createElement("template",{"data-react-aria-hidden":!0},t)}const Mt=u.createContext(!1),Q=u.createContext(null);function Gl(n){if(u.useContext(Q))return n.content;let{collection:t,document:l}=Jl(n.createCollection);return p.createElement(p.Fragment,null,p.createElement(Wl,null,p.createElement(Q.Provider,{value:l},n.content)),p.createElement(Yl,{render:n.children,collection:t}))}function Yl({collection:n,render:e}){return e(n)}function Xl(n,e,t){let l=ut(),i=u.useRef(l);i.current=l;let o=u.useCallback(()=>i.current?t():e(),[e,t]);return Rl.useSyncExternalStore(n,o)}const Zl=typeof p.useSyncExternalStore=="function"?p.useSyncExternalStore:Xl;function Jl(n){let[e]=u.useState(()=>new Ul(n?.()||new Hl)),t=u.useCallback(r=>e.subscribe(r),[e]),l=u.useCallback(()=>{let r=e.getCollection();return e.isSSR&&e.resetAfterSSR(),r},[e]),i=u.useCallback(()=>(e.isSSR=!0,e.getCollection()),[e]),o=Zl(t,l,i);return J(()=>(e.isMounted=!0,()=>{e.isMounted=!1}),[e]),{collection:o,document:e}}const we=u.createContext(null);function Ql(n){var e;return e=class extends ee{},e.type=n,e}function _l(n,e,t,l,i,o){typeof n=="string"&&(n=Ql(n));let r=u.useCallback(a=>{a?.setProps(e,t,n,l,o)},[e,t,l,o,n]),s=u.useContext(we);if(s){let a=s.ownerDocument.nodesByProps.get(e);return a||(a=s.ownerDocument.createElement(n.type),a.setProps(e,t,n,l,o),s.appendChild(a),s.ownerDocument.updateCollection(),s.ownerDocument.nodesByProps.set(e,a)),i?p.createElement(we.Provider,{value:a},i):null}return p.createElement(n.type,{ref:r},i)}function It(n,e){let t=({node:i})=>e(i.props,i.props.ref,i),l=u.forwardRef((i,o)=>{let r=u.useContext(Le);if(!u.useContext(Mt)){if(e.length>=3)throw new Error(e.name+" cannot be rendered outside a collection.");return e(i,o)}return _l(n,i,o,"children"in i?i.children:null,null,a=>p.createElement(Le.Provider,{value:r},p.createElement(t,{node:a})))});return l.displayName=e.name,l}function ei(n){return Pt({...n,addIdAndValue:!0})}const et=u.createContext(null);function ti(n){let e=u.useContext(et),t=(e?.dependencies||[]).concat(n.dependencies),l=n.idScope||e?.idScope,i=ei({...n,idScope:l,dependencies:t});return u.useContext(Q)&&(i=p.createElement(li,null,i)),e=u.useMemo(()=>({dependencies:t,idScope:l}),[l,...t]),p.createElement(et.Provider,{value:e},i)}function li({children:n}){let e=u.useContext(Q),t=u.useMemo(()=>p.createElement(Q.Provider,{value:null},p.createElement(Mt.Provider,{value:!0},n)),[n]);return ut()?p.createElement(we.Provider,{value:e},t):dt.createPortal(t,e)}const ii=u.createContext(null),ni={CollectionRoot({collection:n,renderDropIndicator:e}){return tt(n,null,e)},CollectionBranch({collection:n,parent:e,renderDropIndicator:t}){return tt(n,e,t)}};function tt(n,e,t){return Pt({items:e?n.getChildren(e.key):n,dependencies:[t],children(l){let i=l.render(l);return!t||l.type!=="item"?i:p.createElement(p.Fragment,null,t({type:"item",key:l.key,dropPosition:"before"}),i,oi(n,l,t))}})}function oi(n,e,t){let l=e.key,i=n.getKeyAfter(l),o=i!=null?n.getItem(i):null;for(;o!=null&&o.type!=="item";)i=n.getKeyAfter(o.key),o=i!=null?n.getItem(i):null;let r=e.nextKey!=null?n.getItem(e.nextKey):null;for(;r!=null&&r.type!=="item";)r=r.nextKey!=null?n.getItem(r.nextKey):null;let s=[];if(r==null){let a=e;for(;a&&(!o||a.parentKey!==o.parentKey&&o.level<a.level);){let c=t({type:"item",key:a.key,dropPosition:"after"});u.isValidElement(c)&&s.push(u.cloneElement(c,{key:`${a.key}-after`})),a=a.parentKey!=null?n.getItem(a.parentKey):null}}return s}const Ie=u.createContext(ni),Ft=u.createContext({}),lt=u.forwardRef(function(e,t){[e,t]=Me(e,t,Ft);let{elementType:l="span",...i}=e;return p.createElement(l,{className:"react-aria-Text",...i,ref:t})}),re=u.createContext({}),Tt=u.createContext(null),ri=u.forwardRef(function(e,t){let{render:l}=u.useContext(Tt);return p.createElement(p.Fragment,null,l(e,t))});function Rt(n,e){var t;let l=n?.renderDropIndicator,i=n==null||(t=n.isVirtualDragging)===null||t===void 0?void 0:t.call(n),o=u.useCallback(r=>{if(i||e?.isDropTarget(r))return l?l(r):p.createElement(ri,{target:r})},[e?.target,i,l]);return n?.useDropIndicator?o:void 0}function si(n,e,t){var l,i;let o=n.focusedKey,r=null;if(!(e==null||(l=e.isVirtualDragging)===null||l===void 0)&&l.call(e)&&(t==null||(i=t.target)===null||i===void 0?void 0:i.type)==="item"&&(r=t.target.key,t.target.dropPosition==="after")){let h=t.collection.getKeyAfter(r),v=null;if(h!=null){var s,a;let x=(a=(s=t.collection.getItem(r))===null||s===void 0?void 0:s.level)!==null&&a!==void 0?a:0;for(;h;){let g=t.collection.getItem(h);if(!g)break;if(g.type!=="item"){h=t.collection.getKeyAfter(h);continue}var c;if(((c=g.level)!==null&&c!==void 0?c:0)<=x)break;v=h,h=t.collection.getKeyAfter(h)}}var d;r=(d=h??v)!==null&&d!==void 0?d:r}return u.useMemo(()=>new Set([o,r].filter(h=>h!=null)),[o,r])}const ai=u.createContext({}),ui=u.createContext({});class di extends ee{filter(e,t){let l=t.getItem(this.prevKey);if(l&&l.type!=="separator"){let i=this.clone();return t.addDescendants(i,e),i}return null}}di.type="separator";const At=u.createContext(null),te=u.createContext(null),ci=u.forwardRef(function(e,t){[e,t]=Me(e,t,At);let l=u.useContext(te);return l?p.createElement(Lt,{state:l,props:e,listBoxRef:t}):p.createElement(Gl,{content:p.createElement(ti,e)},i=>p.createElement(fi,{props:e,listBoxRef:t,collection:i}))});function fi({props:n,listBoxRef:e,collection:t}){n={...n,collection:t,children:null,items:null};let{layoutDelegate:l}=u.useContext(Ie),i=Bl({...n,layoutDelegate:l});return p.createElement(Lt,{state:i,props:n,listBoxRef:e})}function Lt({state:n,props:e,listBoxRef:t}){[e,t]=Me(e,t,Vl);let{dragAndDropHooks:l,layout:i="stack",orientation:o="vertical",filter:r}=e,s=jl(n,r),{collection:a,selectionManager:c}=s,d=!!l?.useDraggableCollectionState,h=!!l?.useDroppableCollectionState,{direction:v}=vt(),{disabledBehavior:x,disabledKeys:g}=c,m=ht({usage:"search",sensitivity:"base"}),{isVirtualized:b,layoutDelegate:$,dropTargetDelegate:K,CollectionRoot:w}=u.useContext(Ie),k=u.useMemo(()=>e.keyboardDelegate||new mt({collection:a,collator:m,ref:t,disabledKeys:g,disabledBehavior:x,layout:i,orientation:o,direction:v,layoutDelegate:$}),[a,m,t,x,g,o,v,e.keyboardDelegate,i,$]),{listBoxProps:I}=Kl({...e,shouldSelectOnPressUp:d||e.shouldSelectOnPressUp,keyboardDelegate:k,isVirtualized:b},s,t);u.useRef(d),u.useRef(h),u.useEffect(()=>{},[d,h]);let D,F,P,j=!1,T=null,R=u.useRef(null);if(d&&l){D=l.useDraggableCollectionState({collection:a,selectionManager:c,preview:l.renderDragPreview?R:void 0}),l.useDraggableCollection({},D,t);let E=l.DragPreview;T=l.renderDragPreview?p.createElement(E,{ref:R},l.renderDragPreview):null}if(h&&l){F=l.useDroppableCollectionState({collection:a,selectionManager:c});let E=l.dropTargetDelegate||K||new l.ListDropTargetDelegate(a,t,{orientation:o,layout:i,direction:v});P=l.useDroppableCollection({keyboardDelegate:k,dropTargetDelegate:E},F,t),j=F.isDropTarget({type:"root"})}let{focusProps:M,isFocused:O,isFocusVisible:z}=_t(),V=s.collection.size===0,H={isDropTarget:j,isEmpty:V,isFocused:O,isFocusVisible:z,layout:e.layout||"stack",state:s},y=_({className:e.className,style:e.style,defaultClassName:"react-aria-ListBox",values:H}),C=null;V&&e.renderEmptyState&&(C=p.createElement("div",{role:"option",style:{display:"contents"}},e.renderEmptyState(H)));let f=Z(e,{global:!0});return p.createElement(Qt,null,p.createElement("div",{...B(f,y,I,M,P?.collectionProps),ref:t,slot:e.slot||void 0,onScroll:e.onScroll,"data-drop-target":j||void 0,"data-empty":V||void 0,"data-focused":O||void 0,"data-focus-visible":z||void 0,"data-layout":e.layout||"stack","data-orientation":e.orientation||"vertical"},p.createElement(Kt,{values:[[At,e],[te,s],[re,{dragAndDropHooks:l,dragState:D,dropState:F}],[ui,{elementType:"div"}],[Tt,{render:yi}],[ii,{name:"ListBoxSection",render:hi}]]},p.createElement(w,{collection:a,scrollRef:t,persistedKeys:si(c,l,F),renderDropIndicator:Rt(l,F)})),C,T))}function hi(n,e,t,l="react-aria-ListBoxSection"){let i=u.useContext(te),{dragAndDropHooks:o,dropState:r}=u.useContext(re),{CollectionBranch:s}=u.useContext(Ie),[a,c]=Ol();var d;let{headingProps:h,groupProps:v}=Il({heading:c,"aria-label":(d=n["aria-label"])!==null&&d!==void 0?d:void 0}),x=_({defaultClassName:l,className:n.className,style:n.style,values:{}}),g=Z(n,{global:!0});return delete g.id,p.createElement("section",{...B(g,x,v),ref:e},p.createElement(ai.Provider,{value:{...h,ref:a}},p.createElement(s,{collection:i.collection,parent:t,renderDropIndicator:Rt(o,r)})))}const vi=It(Dt,function(e,t,l){let i=ke(t),o=u.useContext(te),{dragAndDropHooks:r,dragState:s,dropState:a}=u.useContext(re),{optionProps:c,labelProps:d,descriptionProps:h,...v}=Ml({key:l.key,"aria-label":e?.["aria-label"]},o,i),{hoverProps:x,isHovered:g}=yt({isDisabled:!v.allowsSelection&&!v.hasAction,onHoverStart:l.props.onHoverStart,onHoverChange:l.props.onHoverChange,onHoverEnd:l.props.onHoverEnd}),m=null;s&&r&&(m=r.useDraggableItem({key:l.key},s));let b=null;a&&r&&(b=r.useDroppableItem({target:{type:"item",key:l.key,dropPosition:"on"}},a,i));let $=s&&s.isDragging(l.key),K=_({...e,id:void 0,children:e.children,defaultClassName:"react-aria-ListBoxItem",values:{...v,isHovered:g,selectionMode:o.selectionManager.selectionMode,selectionBehavior:o.selectionManager.selectionBehavior,allowsDragging:!!s,isDragging:$,isDropTarget:b?.isDropTarget}});u.useEffect(()=>{l.textValue},[l.textValue]);let w=e.href?"a":"div",k=Z(e,{global:!0});return delete k.id,delete k.onClick,p.createElement(w,{...B(k,K,c,x,m?.dragProps,b?.dropProps),ref:i,"data-allows-dragging":!!s||void 0,"data-selected":v.isSelected||void 0,"data-disabled":v.isDisabled||void 0,"data-hovered":g||void 0,"data-focused":v.isFocused||void 0,"data-focus-visible":v.isFocusVisible||void 0,"data-pressed":v.isPressed||void 0,"data-dragging":$||void 0,"data-drop-target":b?.isDropTarget||void 0,"data-selection-mode":o.selectionManager.selectionMode==="none"?void 0:o.selectionManager.selectionMode},p.createElement(Kt,{values:[[Ft,{slots:{[St]:d,label:d,description:h}}]]},K.children))});function yi(n,e){e=ke(e);let{dragAndDropHooks:t,dropState:l}=u.useContext(re),{dropIndicatorProps:i,isHidden:o,isDropTarget:r}=t.useDropIndicator(n,l,e);return o?null:p.createElement(gi,{...n,dropIndicatorProps:i,isDropTarget:r,ref:e})}function pi(n,e){let{dropIndicatorProps:t,isDropTarget:l,...i}=n,o=_({...i,defaultClassName:"react-aria-DropIndicator",values:{isDropTarget:l}});return p.createElement("div",{...t,...o,role:"option",ref:e,"data-drop-target":l||void 0})}const gi=u.forwardRef(pi);It(Ct,function(e,t,l){let i=u.useContext(te),{isLoading:o,onLoadMore:r,scrollOffset:s,...a}=e,c=u.useRef(null),d=u.useMemo(()=>({onLoadMore:r,collection:i?.collection,sentinelRef:c,scrollOffset:s}),[r,s,i?.collection]);il(d,c);let h=_({...a,id:void 0,children:l.rendered,defaultClassName:"react-aria-ListBoxLoadingIndicator",values:null}),v={tabIndex:-1};return p.createElement(p.Fragment,null,p.createElement("div",{style:{position:"relative",width:0,height:0},inert:nl(!0)},p.createElement("div",{"data-testid":"loadMoreSentinel",ref:c,style:{position:"absolute",height:1,width:1}})),o&&h.children&&p.createElement("div",{...B(Z(e,{global:!0}),v),...h,role:"option",ref:t},h.children))});var it="ktq94p1",nt=jt({defaultClassName:"ktq94p4 ktq94p3 onxwju6p onxwjut1 onxwjuid",variantClassNames:{columns:{1:"ktq94p5",2:"ktq94p6",3:"ktq94p7",4:"ktq94p8 ktq94p2",5:"ktq94p9 ktq94p2"}},defaultVariants:{columns:"2"},compoundVariants:[]}),bi="ktq94pc ktq94pb onxwju2n onxwju2l onxwju2p onxwju2r onxwjucx onxwjuch onxwjudd onxwjudt onxwjuup onxwjuvt onxwjuwt onxwjuth onxwjumt onxwjubt onxwju6l onxwjui9 onxwju8h onxwju67",mi="ktq94pd ktq94pc ktq94pb onxwju2n onxwju2l onxwju2p onxwju2r onxwjucx onxwjuch onxwjudd onxwjudt onxwjuup onxwjuvt onxwjuwt onxwjuth onxwjumt onxwjubt onxwju6l onxwjui9 onxwju8h onxwju67 ktq94pa tq83zq0",$i="ktq94pe",xi="ktq94pg ktq94pf onxwju19 onxwju1l onxwju1x onxwju29 onxwju2n onxwju2l onxwju2p onxwju2r onxwjucx onxwjuch onxwjudd onxwjudt onxwjugd onxwjuet onxwjumt onxwjubp onxwju6l onxwjuqp onxwjuoh ktq94pa",Si="ktq94pj ktq94pi onxwju2n onxwju2l onxwju2p onxwju2r onxwjucx onxwjuch onxwjudd onxwjudt onxwjugd onxwjuet onxwjumt onxwjucd onxwju8h ktq94ph ktq94pa",Ki="ktq94pk onxwjua9",wi="ktq94pl onxwjua1";const Ce=({className:n,columns:e,indicator:t="checkbox",isLoading:l=!1,label:i,layout:o="grid",selectionMode:r="multiple",testId:s,...a})=>l?p.createElement("div",{className:it},p.createElement("div",{className:nt({columns:e})},Array.from({length:Number(e)||1},(c,d)=>p.createElement("div",{key:d,className:bi},p.createElement(el,null))))):p.createElement("div",{className:it},p.createElement(ci,{"aria-label":i,layout:o,selectionMode:r,className:Vt([nt({columns:e}),n]),...ve({testid:s}),...a},({description:c,disabled:d,icon:h,label:v,name:x})=>p.createElement(vi,{className:mi,id:x,isDisabled:d,textValue:v,...ve({disabled:d})},({isFocusVisible:g,isHovered:m,isSelected:b})=>{const $=t!=="none",K=!g&&!m&&!b,w=()=>{if(h&&K)return p.createElement(Ve,{icon:h,size:"100%"});const k=t==="radio"?Si:xi;return p.createElement("div",{className:k,...ve({disabled:d,"focus-visible":g,hover:m,selected:b})},t==="checkbox"&&p.createElement(Ve,{icon:tl}))};return p.createElement(p.Fragment,null,$&&p.createElement("div",{className:$i},p.createElement(w,null)),p.createElement("div",null,p.createElement(lt,{slot:"label",elementType:"div",className:Ki},v),c&&p.createElement(lt,{slot:"description",elementType:"div",className:wi},c)))})));Ce.displayName="OptionGrid";try{Ce.displayName="OptionGrid",Ce.__docgenInfo={description:`The OptionGrid is primarily used in the booking flow to provide large selectable tiles to the user. It is not a form
control as it is built on the react-aria ListBox ([docs](https://react-spectrum.adobe.com/react-aria/ListBox.html)),
and implements a listbox behaviour without wrapping an input element. It supports controlled and uncontrolled usage.
Following ARIA guidelines, the arrow keys can be used to navigate withing the group of options.

The ListBox implementation provides a Set of selected keys to the \`onSelectionChange\` handler. To preselect options
in uncontrolled usage, simply provide a default selection using the \`defaultSelectedKeys\` prop.
See more details on react-aria [ListBox props](https://react-spectrum.adobe.com/react-aria/ListBox.html#listbox-1).

Accessibility note: The ARIA spec prohibits listbox items from including interactive content such as buttons,
tooltips, etc. For these cases a completely different implementation is required (e.g. react-aria [GridList](
https://react-spectrum.adobe.com/react-aria/GridList.html))`,displayName:"OptionGrid",props:{label:{defaultValue:null,description:"Mandatory descriptive label that indicates the purpose of the group of options, used for assistive technologies",name:"label",required:!0,type:{name:"string"}},items:{defaultValue:null,description:"Pass in the content for the OptionGrid using the items array",name:"items",required:!0,type:{name:"OptionItem[]"}},indicator:{defaultValue:{value:"checkbox"},description:"Toggle the indicator appearance between checkbox and radio button, visual effect only",name:"indicator",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"checkbox"'},{value:'"radio"'}]}},selectionMode:{defaultValue:{value:"multiple"},description:"Toggle between single and multi selection mode",name:"selectionMode",required:!1,type:{name:"enum",value:[{value:'"multiple"'},{value:'"none"'},{value:'"single"'}]}},columns:{defaultValue:null,description:"Number of columns to display the options in",name:"columns",required:!1,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'},{value:'"5"'}]}},isLoading:{defaultValue:{value:"false"},description:"Loading state",name:"isLoading",required:!1,type:{name:"boolean"}},testId:{defaultValue:null,description:"The test ID will be rendered as a data attribute `data-testid` on the element for use with test assertions",name:"testId",required:!1,type:{name:"string"}}}}}catch{}export{Ce as O};
