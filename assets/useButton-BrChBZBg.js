import{$ as D}from"./context-CNobFIsV.js";import{r as k}from"./index-DVCUSwsV.js";import{a as E,b as I,c as $,d as O}from"./useFocusRing-DvOSd5EM.js";const U=Symbol.for("react-aria.i18n.locale"),M=Symbol.for("react-aria.i18n.strings");let i;class l{getStringForLocale(e,t){let n=this.getStringsForLocale(t)[e];if(!n)throw new Error(`Could not find intl message ${e} in ${t} locale`);return n}getStringsForLocale(e){let t=this.strings[e];return t||(t=W(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let t=window[U];if(i===void 0){let n=window[M];if(!n)return null;i={};for(let s in n)i[s]=new l({[t]:n[s]},t)}let r=i==null?void 0:i[e];if(!r)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(e,t="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,r])=>r)),this.defaultLocale=t}}function W(a,e,t="en-US"){if(e[a])return e[a];let r=G(a);if(e[r])return e[r];for(let n in e)if(n.startsWith(r+"-"))return e[n];return e[t]}function G(a){return Intl.Locale?new Intl.Locale(a).language:a.split("-")[0]}const p=new Map,g=new Map;class R{format(e,t){let r=this.strings.getStringForLocale(e,this.locale);return typeof r=="function"?r(t,this):r}plural(e,t,r="cardinal"){let n=t["="+e];if(n)return typeof n=="function"?n():n;let s=this.locale+":"+r,o=p.get(s);o||(o=new Intl.PluralRules(this.locale,{type:r}),p.set(s,o));let c=o.select(e);return n=t[c]||t.other,typeof n=="function"?n():n}number(e){let t=g.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),g.set(this.locale,t)),t.format(e)}select(e,t){let r=e[t]||e.other;return typeof r=="function"?r():r}constructor(e,t){this.locale=e,this.strings=t}}const h=new WeakMap;function j(a){let e=h.get(a);return e||(e=new l(a),h.set(a,e)),e}function z(a,e){return e&&l.getGlobalDictionaryForPackage(e)||j(a)}function B(a,e){let{locale:t}=D(),r=z(a,e);return k.useMemo(()=>new R(t,r),[t,r])}function H(a,e){let{elementType:t="button",isDisabled:r,onPress:n,onPressStart:s,onPressEnd:o,onPressUp:c,onPressChange:P,preventFocusOnPress:y,allowFocusWhenDisabled:m,onClick:u,href:w,target:S,rel:v,type:b="button"}=a,d;t==="button"?d={type:b,disabled:r}:d={role:"button",href:t==="a"&&!r?w:void 0,target:t==="a"?S:void 0,type:t==="input"?b:void 0,disabled:t==="input"?r:void 0,"aria-disabled":!r||t==="input"?void 0:r,rel:t==="a"?v:void 0};let{pressProps:x,isPressed:F}=E({onPressStart:s,onPressEnd:o,onPressChange:P,onPress:n,onPressUp:c,isDisabled:r,preventFocusOnPress:y,ref:e}),{focusableProps:f}=I(a,e);m&&(f.tabIndex=r?-1:f.tabIndex);let L=$(f,x,O(a,{labelable:!0}));return{isPressed:F,buttonProps:$(d,L,{"aria-haspopup":a["aria-haspopup"],"aria-expanded":a["aria-expanded"],"aria-controls":a["aria-controls"],"aria-pressed":a["aria-pressed"],"aria-current":a["aria-current"],onClick:C=>{u&&(u(C),console.warn("onClick is deprecated, please use onPress"))}})}}export{B as $,H as a};
