import{$ as C}from"./context-BX1TPBzl.js";import{r as D}from"./iframe-PpC19URd.js";import{u as E,v as b}from"./useFocusable-Bwpoft27.js";import{$ as k,a as I}from"./usePress-BZFi022z.js";const M=Symbol.for("react-aria.i18n.locale"),T=Symbol.for("react-aria.i18n.strings");let s;class l{getStringForLocale(e,t){let n=this.getStringsForLocale(t)[e];if(!n)throw new Error(`Could not find intl message ${e} in ${t} locale`);return n}getStringsForLocale(e){let t=this.strings[e];return t||(t=O(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let t=window[M];if(s===void 0){let n=window[T];if(!n)return null;s={};for(let o in n)s[o]=new l({[t]:n[o]},t)}let a=s?.[e];if(!a)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return a}constructor(e,t="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,a])=>a)),this.defaultLocale=t}}function O(r,e,t="en-US"){if(e[r])return e[r];let a=U(r);if(e[a])return e[a];for(let n in e)if(n.startsWith(a+"-"))return e[n];return e[t]}function U(r){return Intl.Locale?new Intl.Locale(r).language:r.split("-")[0]}const $=new Map,g=new Map;class W{format(e,t){let a=this.strings.getStringForLocale(e,this.locale);return typeof a=="function"?a(t,this):a}plural(e,t,a="cardinal"){let n=t["="+e];if(n)return typeof n=="function"?n():n;let o=this.locale+":"+a,i=$.get(o);i||(i=new Intl.PluralRules(this.locale,{type:a}),$.set(o,i));let c=i.select(e);return n=t[c]||t.other,typeof n=="function"?n():n}number(e){let t=g.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),g.set(this.locale,t)),t.format(e)}select(e,t){let a=e[t]||e.other;return typeof a=="function"?a():a}constructor(e,t){this.locale=e,this.strings=t}}const h=new WeakMap;function G(r){let e=h.get(r);return e||(e=new l(r),h.set(r,e)),e}function R(r,e){return e&&l.getGlobalDictionaryForPackage(e)||G(r)}function N(r,e){let{locale:t}=C(),a=R(r,e);return D.useMemo(()=>new W(t,a),[t,a])}function q(r,e){let{elementType:t="button",isDisabled:a,onPress:n,onPressStart:o,onPressEnd:i,onPressUp:c,onPressChange:m,preventFocusOnPress:P,allowFocusWhenDisabled:p,onClick:y,href:w,target:S,rel:v,type:u="button"}=r,d;t==="button"?d={type:u,disabled:a,form:r.form,formAction:r.formAction,formEncType:r.formEncType,formMethod:r.formMethod,formNoValidate:r.formNoValidate,formTarget:r.formTarget,name:r.name,value:r.value}:d={role:"button",href:t==="a"&&!a?w:void 0,target:t==="a"?S:void 0,type:t==="input"?u:void 0,disabled:t==="input"?a:void 0,"aria-disabled":!a||t==="input"?void 0:a,rel:t==="a"?v:void 0};let{pressProps:x,isPressed:F}=k({onPressStart:o,onPressEnd:i,onPressChange:m,onPress:n,onPressUp:c,onClick:y,isDisabled:a,preventFocusOnPress:P,ref:e}),{focusableProps:f}=E(r,e);p&&(f.tabIndex=a?-1:f.tabIndex);let L=b(f,x,I(r,{labelable:!0}));return{isPressed:F,buttonProps:b(d,L,{"aria-haspopup":r["aria-haspopup"],"aria-expanded":r["aria-expanded"],"aria-controls":r["aria-controls"],"aria-pressed":r["aria-pressed"],"aria-current":r["aria-current"],"aria-disabled":r["aria-disabled"]})}}export{N as $,q as a};
