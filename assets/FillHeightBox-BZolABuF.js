import{b as y,r as o,o as f}from"./iframe-C_bA5shj.js";import{u as H}from"./useResponsiveValue-BZ9YCq6E.js";import{S as w}from"./ScrollPane-Yq1crcXt.js";const V=/var\(([^)]+)\)/,x=t=>{const n=V.exec(t);return n?n[1]:t},_=(t,n)=>{var e;if(!t||!n)return"";const a=x(n),r=document.querySelector(`.${t}`);return!r||!a?"":((e=getComputedStyle(r).getPropertyValue(a))==null?void 0:e.trim())||""},F=({bottomGap:t="none",includeMobile:n=!1,serverVhFallback:a=100,containerRef:r,observedElementRef:e,maxHeight:u})=>{const c=H([n,,!0]),{themeClass:s}=y(),[l,v]=o.useState(`${a}vh`),m=o.useRef(l);return o.useLayoutEffect(()=>{if(!(r!=null&&r.current)||!(window!=null&&window.innerHeight)||!(document!=null&&document.body))return;const i=()=>{const b=_(s,f.space[t])||"0px",d=`calc(${Math.min(u??Number.POSITIVE_INFINITY,window.innerHeight-r.current.getBoundingClientRect().top)}px - ${b})`;m.current!==d&&(v(d),m.current=d)},p=new MutationObserver(i);p.observe((e==null?void 0:e.current)||document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1});const h=new ResizeObserver(i);return h.observe((e==null?void 0:e.current)||document.body),window.removeEventListener("resize",i),window.addEventListener("resize",i,{passive:!0}),i(),()=>{window.removeEventListener("resize",i),p.disconnect(),h.disconnect()}},[s,t,u,r,e]),c?l:"auto"},g=({includeMobile:t,bottomGap:n,serverVhFallback:a,observedElementRef:r,style:e,maxHeight:u,...c})=>{const s=o.useRef(null),l=F({containerRef:s,includeMobile:t,observedElementRef:r,bottomGap:n,serverVhFallback:a,maxHeight:u});return o.createElement(w,{...c,ref:s,style:{...e,maxHeight:l}})};try{g.displayName="FillHeightBox",g.__docgenInfo={description:"",displayName:"FillHeightBox",props:{maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},bottomGap:{defaultValue:null,description:"",name:"bottomGap",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'},{value:'"5"'},{value:'"6"'},{value:'"7"'},{value:'"8"'},{value:'"9"'}]}},serverVhFallback:{defaultValue:null,description:"",name:"serverVhFallback",required:!1,type:{name:"number"}},includeMobile:{defaultValue:null,description:"",name:"includeMobile",required:!1,type:{name:"boolean"}},observeDomChanges:{defaultValue:null,description:"",name:"observeDomChanges",required:!1,type:{name:"boolean"}},observedElementRef:{defaultValue:null,description:"",name:"observedElementRef",required:!1,type:{name:"RefObject<HTMLDivElement>"}}}}}catch{}export{g as F};
