import{$ as C}from"./context-Cid0-3G7.js";import{r as D}from"./iframe-D_ivnAPa.js";import{b as k,c as E,d as b,e as I}from"./useFocusRing-CUGu3vdi.js";const O=Symbol.for("react-aria.i18n.locale"),U=Symbol.for("react-aria.i18n.strings");let i;class l{getStringForLocale(e,t){let n=this.getStringsForLocale(t)[e];if(!n)throw new Error(`Could not find intl message ${e} in ${t} locale`);return n}getStringsForLocale(e){let t=this.strings[e];return t||(t=M(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let t=window[O];if(i===void 0){let n=window[U];if(!n)return null;i={};for(let s in n)i[s]=new l({[t]:n[s]},t)}let r=i?.[e];if(!r)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(e,t="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,r])=>r)),this.defaultLocale=t}}function M(a,e,t="en-US"){if(e[a])return e[a];let r=W(a);if(e[r])return e[r];for(let n in e)if(n.startsWith(r+"-"))return e[n];return e[t]}function W(a){return Intl.Locale?new Intl.Locale(a).language:a.split("-")[0]}const $=new Map,p=new Map;class G{format(e,t){let r=this.strings.getStringForLocale(e,this.locale);return typeof r=="function"?r(t,this):r}plural(e,t,r="cardinal"){let n=t["="+e];if(n)return typeof n=="function"?n():n;let s=this.locale+":"+r,o=$.get(s);o||(o=new Intl.PluralRules(this.locale,{type:r}),$.set(s,o));let c=o.select(e);return n=t[c]||t.other,typeof n=="function"?n():n}number(e){let t=p.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),p.set(this.locale,t)),t.format(e)}select(e,t){let r=e[t]||e.other;return typeof r=="function"?r():r}constructor(e,t){this.locale=e,this.strings=t}}const g=new WeakMap;function R(a){let e=g.get(a);return e||(e=new l(a),g.set(a,e)),e}function j(a,e){return e&&l.getGlobalDictionaryForPackage(e)||R(a)}function A(a,e){let{locale:t}=C(),r=j(a,e);return D.useMemo(()=>new G(t,r),[t,r])}function B(a,e){let{elementType:t="button",isDisabled:r,onPress:n,onPressStart:s,onPressEnd:o,onPressUp:c,onPressChange:h,preventFocusOnPress:P,allowFocusWhenDisabled:y,onClick:m,href:w,target:S,rel:v,type:u="button"}=a,d;t==="button"?d={type:u,disabled:r}:d={role:"button",href:t==="a"&&!r?w:void 0,target:t==="a"?S:void 0,type:t==="input"?u:void 0,disabled:t==="input"?r:void 0,"aria-disabled":!r||t==="input"?void 0:r,rel:t==="a"?v:void 0};let{pressProps:x,isPressed:F}=k({onPressStart:s,onPressEnd:o,onPressChange:h,onPress:n,onPressUp:c,onClick:m,isDisabled:r,preventFocusOnPress:P,ref:e}),{focusableProps:f}=E(a,e);y&&(f.tabIndex=r?-1:f.tabIndex);let L=b(f,x,I(a,{labelable:!0}));return{isPressed:F,buttonProps:b(d,L,{"aria-haspopup":a["aria-haspopup"],"aria-expanded":a["aria-expanded"],"aria-controls":a["aria-controls"],"aria-pressed":a["aria-pressed"],"aria-current":a["aria-current"]})}}export{A as $,B as a};
