import{r as u,e as y,L as zt,z as Ut,C as be,c as Wt}from"./iframe-CmQjDVxl.js";import{p as ee,c as Ke,H as dt,d as ft,f as Ie,i as Gt,D as Ce,a as B,g as ht,O as Yt,b as ce,s as ke,v as Be,A as pt,z as Oe,G as Xt,l as je,w as Zt,P as Ne,x as vt}from"./useFocusable-trXtkuyV.js";import{r as yt}from"./index-D1dsTOPy.js";import{$ as gt,b as mt,c as Jt,a as J,d as Qt}from"./usePress-CWHY-Jfn.js";import{a as _t,$ as Ve}from"./getScrollParent-DpO8XyHH.js";import{$ as el,a as tl,b as He}from"./scrollIntoView-B2IAWaGp.js";import{$ as ll}from"./useFocusWithin-D3qYE42n.js";import{$ as il}from"./useLabel-CCFySnfK.js";import{$ as re,a as bt}from"./useCollator-C1Lhg1k-.js";import{a as nl,b as ol}from"./FocusScope-31Sg7ZzF.js";import{$ as xt}from"./context-Dwu0AyBG.js";import{$ as rl}from"./useFocusRing-DRv-m-Cg.js";import{L as sl}from"./LoadingBox-iWIabVZS.js";import{I as qe}from"./Icon-BLKl0fsw.js";import{I as al}from"./CheckIcon-BcYiMyXK.js";import{I as ul,a as cl,b as dl,c as fl}from"./TyreIcon-BUQHWdHA.js";import"./preload-helper-PPVm8Dsz.js";import"./index-DoeGN9DL.js";import"./useLabels-BHtib-sb.js";import"./resolveResponsiveProps-BErviP19.js";function hl(...n){return n.length===1&&n[0]?n[0]:e=>{let t=!1;const l=n.map(i=>{const o=ze(i,e);return t||(t=typeof o=="function"),o});if(t)return()=>{l.forEach((i,o)=>{typeof i=="function"?i():ze(n[o],null)})}}}function ze(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Me(n){const e=u.useRef(null),t=u.useRef(void 0),l=u.useCallback(i=>{if(typeof n=="function"){const o=n,r=o(i);return()=>{typeof r=="function"?r():o(null)}}else if(n)return n.current=i,()=>{n.current=null}},[n]);return u.useMemo(()=>({get current(){return e.current},set current(i){e.current=i,t.current&&(t.current(),t.current=void 0),i!=null&&(t.current=l(i))}}),[l])}function Ue(n,e){const t=u.useRef(!0),l=u.useRef(null);ee(()=>(t.current=!0,()=>{t.current=!1}),[]),ee(()=>{t.current?t.current=!1:(!l.current||e.some((i,o)=>!Object.is(i,l[o])))&&n(),l.current=e},e)}function pl(n,e){let{collection:t,onLoadMore:l,scrollOffset:i=1}=n,o=u.useRef(null),r=Ke(s=>{for(let a of s)a.isIntersecting&&l&&l()});ee(()=>(e.current&&(o.current=new IntersectionObserver(r,{root:_t(e?.current),rootMargin:`0px ${100*i}% ${100*i}% ${100*i}%`}),o.current.observe(e.current)),()=>{o.current&&o.current.disconnect()}),[t,r,e,i])}function vl(n){const e=u.version.split(".");return parseInt(e[0],10)>=19?n:n?"true":void 0}const yl="react-aria-clear-focus",gl="react-aria-focus";function X(n){return dt()?n.metaKey:n.ctrlKey}let De=!1,se=0;function ml(){De=!0,setTimeout(()=>{De=!1},50)}function We(n){n.pointerType==="touch"&&ml()}function bl(){if(!(typeof document>"u"))return se===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",We),se++,()=>{se--,!(se>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",We)}}function $t(n){let{onHoverStart:e,onHoverChange:t,onHoverEnd:l,isDisabled:i}=n,[o,r]=u.useState(!1),s=u.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;u.useEffect(bl,[]);let{addGlobalListener:a,removeAllGlobalListeners:c}=ft(),{hoverProps:d,triggerHoverEnd:h}=u.useMemo(()=>{let p=(b,m)=>{if(s.pointerType=m,i||m==="touch"||s.isHovered||!b.currentTarget.contains(b.target))return;s.isHovered=!0;let x=b.currentTarget;s.target=x,a(Ie(b.target),"pointerover",w=>{s.isHovered&&s.target&&!Gt(s.target,w.target)&&$(w,w.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:x,pointerType:m}),t&&t(!0),r(!0)},$=(b,m)=>{let x=s.target;s.pointerType="",s.target=null,!(m==="touch"||!s.isHovered||!x)&&(s.isHovered=!1,c(),l&&l({type:"hoverend",target:x,pointerType:m}),t&&t(!1),r(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=b=>{De&&b.pointerType==="mouse"||p(b,b.pointerType)},g.onPointerLeave=b=>{!i&&b.currentTarget.contains(b.target)&&$(b,b.pointerType)}),{hoverProps:g,triggerHoverEnd:$}},[e,t,l,i,s,a,c]);return u.useEffect(()=>{i&&h({currentTarget:s.target},s.pointerType)},[i]),{hoverProps:d,isHovered:o}}const xl=500;function $l(n){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:l,onLongPress:i,threshold:o=xl,accessibilityDescription:r}=n;const s=u.useRef(void 0);let{addGlobalListener:a,removeGlobalListener:c}=ft(),{pressProps:d}=gt({isDisabled:e,onPressStart(p){if(p.continuePropagation(),(p.pointerType==="mouse"||p.pointerType==="touch")&&(t&&t({...p,type:"longpressstart"}),s.current=setTimeout(()=>{p.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),Ie(p.target).activeElement!==p.target&&Ce(p.target),i&&i({...p,type:"longpress"}),s.current=void 0},o),p.pointerType==="touch")){let $=g=>{g.preventDefault()};a(p.target,"contextmenu",$,{once:!0}),a(window,"pointerup",()=>{setTimeout(()=>{c(p.target,"contextmenu",$)},30)},{once:!0})}},onPressEnd(p){s.current&&clearTimeout(s.current),l&&(p.pointerType==="mouse"||p.pointerType==="touch")&&l({...p,type:"longpressend"})}}),h=el(i&&!e?r:void 0);return{longPressProps:B(d,h)}}function St(n){let e=wl(Ie(n));e!==n&&(e&&Sl(e,n),n&&wt(n,e))}function Sl(n,e){n.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}function wt(n,e){n.dispatchEvent(new FocusEvent("focus",{relatedTarget:e})),n.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:e}))}function wl(n){let e=ht(n),t=e?.getAttribute("aria-activedescendant");return t&&n.getElementById(t)||e}const Te=new WeakMap;function Kl(n){return typeof n=="string"?n.replace(/\s*/g,""):""+n}function Cl(n,e){let t=Te.get(n);if(!t)throw new Error("Unknown list");return`${t.id}-option-${Kl(e)}`}function Ee(n){return Yt()?n.altKey:n.ctrlKey}function ue(n,e){var t,l;let i=`[data-key="${CSS.escape(String(e))}"]`,o=(t=n.current)===null||t===void 0?void 0:t.dataset.collection;return o&&(i=`[data-collection="${CSS.escape(o)}"]${i}`),(l=n.current)===null||l===void 0?void 0:l.querySelector(i)}const Kt=new WeakMap;function kl(n){let e=ce();return Kt.set(n,e),e}function Dl(n){return Kt.get(n)}const El=1e3;function Pl(n){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:l}=n,i=u.useRef({search:"",timeout:void 0}).current,o=r=>{let s=Il(r.key);if(!(!s||r.ctrlKey||r.metaKey||!r.currentTarget.contains(r.target)||i.search.length===0&&s===" ")){if(s===" "&&i.search.trim().length>0&&(r.preventDefault(),"continuePropagation"in r||r.stopPropagation()),i.search+=s,e.getKeyForSearch!=null){let a=e.getKeyForSearch(i.search,t.focusedKey);a==null&&(a=e.getKeyForSearch(i.search)),a!=null&&(t.setFocusedKey(a),l&&l(a))}clearTimeout(i.timeout),i.timeout=setTimeout(()=>{i.search=""},El)}};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?o:void 0}}}function Il(n){return n.length===1||!/^[A-Z]/i.test(n)?n:""}function Ml(n){let{selectionManager:e,keyboardDelegate:t,ref:l,autoFocus:i=!1,shouldFocusWrap:o=!1,disallowEmptySelection:r=!1,disallowSelectAll:s=!1,escapeKeyBehavior:a="clearSelection",selectOnFocus:c=e.selectionBehavior==="replace",disallowTypeAhead:d=!1,shouldUseVirtualFocus:h,allowsTabNavigation:p=!1,isVirtualized:$,scrollRef:g=l,linkBehavior:b="action"}=n,{direction:m}=xt(),x=mt(),w=v=>{var C;if(v.altKey&&v.key==="Tab"&&v.preventDefault(),!(!((C=l.current)===null||C===void 0)&&C.contains(v.target)))return;const f=(S,G)=>{if(S!=null){if(e.isLink(S)&&b==="selection"&&c&&!Ee(v)){yt.flushSync(()=>{e.setFocusedKey(S,G)});let Y=ue(l,S),Le=e.getItemProps(S);Y&&x.open(Y,v,Le.href,Le.routerOptions);return}if(e.setFocusedKey(S,G),e.isLink(S)&&b==="override")return;v.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(S):c&&!Ee(v)&&e.replaceSelection(S)}};switch(v.key){case"ArrowDown":if(t.getKeyBelow){var E,L,R;let S=e.focusedKey!=null?(E=t.getKeyBelow)===null||E===void 0?void 0:E.call(t,e.focusedKey):(L=t.getFirstKey)===null||L===void 0?void 0:L.call(t);S==null&&o&&(S=(R=t.getFirstKey)===null||R===void 0?void 0:R.call(t,e.focusedKey)),S!=null&&(v.preventDefault(),f(S))}break;case"ArrowUp":if(t.getKeyAbove){var q,W,fe;let S=e.focusedKey!=null?(q=t.getKeyAbove)===null||q===void 0?void 0:q.call(t,e.focusedKey):(W=t.getLastKey)===null||W===void 0?void 0:W.call(t);S==null&&o&&(S=(fe=t.getLastKey)===null||fe===void 0?void 0:fe.call(t,e.focusedKey)),S!=null&&(v.preventDefault(),f(S))}break;case"ArrowLeft":if(t.getKeyLeftOf){var he,pe,ve;let S=e.focusedKey!=null?(he=t.getKeyLeftOf)===null||he===void 0?void 0:he.call(t,e.focusedKey):null;S==null&&o&&(S=m==="rtl"?(pe=t.getFirstKey)===null||pe===void 0?void 0:pe.call(t,e.focusedKey):(ve=t.getLastKey)===null||ve===void 0?void 0:ve.call(t,e.focusedKey)),S!=null&&(v.preventDefault(),f(S,m==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var ye,ge,me;let S=e.focusedKey!=null?(ye=t.getKeyRightOf)===null||ye===void 0?void 0:ye.call(t,e.focusedKey):null;S==null&&o&&(S=m==="rtl"?(ge=t.getLastKey)===null||ge===void 0?void 0:ge.call(t,e.focusedKey):(me=t.getFirstKey)===null||me===void 0?void 0:me.call(t,e.focusedKey)),S!=null&&(v.preventDefault(),f(S,m==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){if(e.focusedKey===null&&v.shiftKey)return;v.preventDefault();let S=t.getFirstKey(e.focusedKey,X(v));e.setFocusedKey(S),S!=null&&(X(v)&&v.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(S):c&&e.replaceSelection(S))}break;case"End":if(t.getLastKey){if(e.focusedKey===null&&v.shiftKey)return;v.preventDefault();let S=t.getLastKey(e.focusedKey,X(v));e.setFocusedKey(S),S!=null&&(X(v)&&v.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(S):c&&e.replaceSelection(S))}break;case"PageDown":if(t.getKeyPageBelow&&e.focusedKey!=null){let S=t.getKeyPageBelow(e.focusedKey);S!=null&&(v.preventDefault(),f(S))}break;case"PageUp":if(t.getKeyPageAbove&&e.focusedKey!=null){let S=t.getKeyPageAbove(e.focusedKey);S!=null&&(v.preventDefault(),f(S))}break;case"a":X(v)&&e.selectionMode==="multiple"&&s!==!0&&(v.preventDefault(),e.selectAll());break;case"Escape":a==="clearSelection"&&!r&&e.selectedKeys.size!==0&&(v.stopPropagation(),v.preventDefault(),e.clearSelection());break;case"Tab":if(!p){if(v.shiftKey)l.current.focus();else{let S=nl(l.current,{tabbable:!0}),G,Y;do Y=S.lastChild(),Y&&(G=Y);while(Y);G&&!G.contains(document.activeElement)&&Ce(G)}break}}},K=u.useRef({top:0,left:0});re(g,"scroll",$?void 0:()=>{var v,C,f,E;K.current={top:(f=(v=g.current)===null||v===void 0?void 0:v.scrollTop)!==null&&f!==void 0?f:0,left:(E=(C=g.current)===null||C===void 0?void 0:C.scrollLeft)!==null&&E!==void 0?E:0}});let D=v=>{if(e.isFocused){v.currentTarget.contains(v.target)||e.setFocused(!1);return}if(v.currentTarget.contains(v.target)){if(e.setFocused(!0),e.focusedKey==null){var C,f;let R=W=>{W!=null&&(e.setFocusedKey(W),c&&!e.isSelected(W)&&e.replaceSelection(W))},q=v.relatedTarget;var E,L;q&&v.currentTarget.compareDocumentPosition(q)&Node.DOCUMENT_POSITION_FOLLOWING?R((E=e.lastSelectedKey)!==null&&E!==void 0?E:(C=t.getLastKey)===null||C===void 0?void 0:C.call(t)):R((L=e.firstSelectedKey)!==null&&L!==void 0?L:(f=t.getFirstKey)===null||f===void 0?void 0:f.call(t))}else!$&&g.current&&(g.current.scrollTop=K.current.top,g.current.scrollLeft=K.current.left);if(e.focusedKey!=null&&g.current){let R=ue(l,e.focusedKey);R instanceof HTMLElement&&(!R.contains(document.activeElement)&&!h&&Ce(R),Be()==="keyboard"&&He(R,{containingElement:l.current}))}}},M=v=>{v.currentTarget.contains(v.relatedTarget)||e.setFocused(!1)},k=u.useRef(!1);re(l,gl,h?v=>{let{detail:C}=v;v.stopPropagation(),e.setFocused(!0),C?.focusStrategy==="first"&&(k.current=!0)}:void 0);let T=Ke(()=>{var v,C;let f=(C=(v=t.getFirstKey)===null||v===void 0?void 0:v.call(t))!==null&&C!==void 0?C:null;if(f==null){let E=ht();St(l.current),wt(E,null),e.collection.size>0&&(k.current=!1)}else e.setFocusedKey(f),k.current=!1});Ue(()=>{k.current&&T()},[e.collection,T]);let P=Ke(()=>{e.collection.size>0&&(k.current=!1)});Ue(()=>{P()},[e.focusedKey,P]),re(l,yl,h?v=>{var C;v.stopPropagation(),e.setFocused(!1),!((C=v.detail)===null||C===void 0)&&C.clearFocusKey&&e.setFocusedKey(null)}:void 0);const O=u.useRef(i),F=u.useRef(!1);u.useEffect(()=>{if(O.current){var v,C;let L=null;var f;i==="first"&&(L=(f=(v=t.getFirstKey)===null||v===void 0?void 0:v.call(t))!==null&&f!==void 0?f:null);var E;i==="last"&&(L=(E=(C=t.getLastKey)===null||C===void 0?void 0:C.call(t))!==null&&E!==void 0?E:null);let R=e.selectedKeys;if(R.size){for(let q of R)if(e.canSelectItem(q)){L=q;break}}e.setFocused(!0),e.setFocusedKey(L),L==null&&!h&&l.current&&ke(l.current),e.collection.size>0&&(O.current=!1,F.current=!0)}});let A=u.useRef(e.focusedKey),I=u.useRef(null);u.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==A.current||F.current)&&g.current&&l.current){let v=Be(),C=ue(l,e.focusedKey);if(!(C instanceof HTMLElement))return;(v==="keyboard"||F.current)&&(I.current&&cancelAnimationFrame(I.current),I.current=requestAnimationFrame(()=>{g.current&&(tl(g.current,C),v!=="virtual"&&He(C,{containingElement:l.current}))}))}!h&&e.isFocused&&e.focusedKey==null&&A.current!=null&&l.current&&ke(l.current),A.current=e.focusedKey,F.current=!1}),u.useEffect(()=>()=>{I.current&&cancelAnimationFrame(I.current)},[]),re(l,"react-aria-focus-scope-restore",v=>{v.preventDefault(),e.setFocused(!0)});let H={onKeyDown:w,onFocus:D,onBlur:M,onMouseDown(v){g.current===v.target&&v.preventDefault()}},{typeSelectProps:z}=Pl({keyboardDelegate:t,selectionManager:e});d||(H=B(z,H));let j;h||(j=e.focusedKey==null?0:-1);let U=kl(e.collection);return{collectionProps:B(H,{tabIndex:j,"data-collection":U})}}function Tl(n){let{id:e,selectionManager:t,key:l,ref:i,shouldSelectOnPressUp:o,shouldUseVirtualFocus:r,focus:s,isDisabled:a,onAction:c,allowsDifferentPressOrigin:d,linkBehavior:h="action"}=n,p=mt();e=ce(e);let $=f=>{if(f.pointerType==="keyboard"&&Ee(f))t.toggleSelection(l);else{if(t.selectionMode==="none")return;if(t.isLink(l)){if(h==="selection"&&i.current){let E=t.getItemProps(l);p.open(i.current,f,E.href,E.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(h==="override"||h==="none")return}t.selectionMode==="single"?t.isSelected(l)&&!t.disallowEmptySelection?t.toggleSelection(l):t.replaceSelection(l):f&&f.shiftKey?t.extendSelection(l):t.selectionBehavior==="toggle"||f&&(X(f)||f.pointerType==="touch"||f.pointerType==="virtual")?t.toggleSelection(l):t.replaceSelection(l)}};u.useEffect(()=>{l===t.focusedKey&&t.isFocused&&(r?St(i.current):s?s():document.activeElement!==i.current&&i.current&&ke(i.current))},[i,l,t.focusedKey,t.childFocusStrategy,t.isFocused,r]),a=a||t.isDisabled(l);let g={};!r&&!a?g={tabIndex:l===t.focusedKey?0:-1,onFocus(f){f.target===i.current&&t.setFocusedKey(l)}}:a&&(g.onMouseDown=f=>{f.preventDefault()});let b=t.isLink(l)&&h==="override",m=t.isLink(l)&&h!=="selection"&&h!=="none",x=!a&&t.canSelectItem(l)&&!b,w=(c||m)&&!a,K=w&&(t.selectionBehavior==="replace"?!x:!x||t.isEmpty),D=w&&x&&t.selectionBehavior==="replace",M=K||D,k=u.useRef(null),T=M&&x,P=u.useRef(!1),O=u.useRef(!1),F=t.getItemProps(l),A=f=>{c&&c(),m&&i.current&&p.open(i.current,f,F.href,F.routerOptions)},I={ref:i};if(o?(I.onPressStart=f=>{k.current=f.pointerType,P.current=T,f.pointerType==="keyboard"&&(!M||Ye())&&$(f)},d?(I.onPressUp=K?void 0:f=>{f.pointerType==="mouse"&&x&&$(f)},I.onPress=K?A:f=>{f.pointerType!=="keyboard"&&f.pointerType!=="mouse"&&x&&$(f)}):I.onPress=f=>{if(K||D&&f.pointerType!=="mouse"){if(f.pointerType==="keyboard"&&!Ge())return;A(f)}else f.pointerType!=="keyboard"&&x&&$(f)}):(I.onPressStart=f=>{k.current=f.pointerType,P.current=T,O.current=K,x&&(f.pointerType==="mouse"&&!K||f.pointerType==="keyboard"&&(!w||Ye()))&&$(f)},I.onPress=f=>{(f.pointerType==="touch"||f.pointerType==="pen"||f.pointerType==="virtual"||f.pointerType==="keyboard"&&M&&Ge()||f.pointerType==="mouse"&&O.current)&&(M?A(f):x&&$(f))}),g["data-collection"]=Dl(t.collection),g["data-key"]=l,I.preventFocusOnPress=r,r&&(I=B(I,{onPressStart(f){f.pointerType!=="touch"&&(t.setFocused(!0),t.setFocusedKey(l))},onPress(f){f.pointerType==="touch"&&(t.setFocused(!0),t.setFocusedKey(l))}})),F)for(let f of["onPressStart","onPressEnd","onPressChange","onPress","onPressUp","onClick"])F[f]&&(I[f]=pt(I[f],F[f]));let{pressProps:H,isPressed:z}=gt(I),j=D?f=>{k.current==="mouse"&&(f.stopPropagation(),f.preventDefault(),A(f))}:void 0,{longPressProps:U}=$l({isDisabled:!T,onLongPress(f){f.pointerType==="touch"&&($(f),t.setSelectionBehavior("toggle"))}}),v=f=>{k.current==="touch"&&P.current&&f.preventDefault()},C=h!=="none"&&t.isLink(l)?f=>{Jt.isOpening||f.preventDefault()}:void 0;return{itemProps:B(g,x||K||r&&!a?H:{},T?U:{},{onDoubleClick:j,onDragStartCapture:v,onClick:C,id:e},r?{onMouseDown:f=>f.preventDefault()}:void 0),isPressed:z,isSelected:t.isSelected(l),isFocused:t.isFocused&&t.focusedKey===l,isDisabled:a,allowsSelection:x,hasAction:M}}function Ge(){let n=window.event;return n?.key==="Enter"}function Ye(){let n=window.event;return n?.key===" "||n?.code==="Space"}class Xe{getItemRect(e){let t=this.ref.current;if(!t)return null;let l=e!=null?ue(this.ref,e):null;if(!l)return null;let i=t.getBoundingClientRect(),o=l.getBoundingClientRect();return{x:o.left-i.left+t.scrollLeft,y:o.top-i.top+t.scrollTop,width:o.width,height:o.height}}getContentSize(){let e=this.ref.current;var t,l;return{width:(t=e?.scrollWidth)!==null&&t!==void 0?t:0,height:(l=e?.scrollHeight)!==null&&l!==void 0?l:0}}getVisibleRect(){let e=this.ref.current;var t,l,i,o;return{x:(t=e?.scrollLeft)!==null&&t!==void 0?t:0,y:(l=e?.scrollTop)!==null&&l!==void 0?l:0,width:(i=e?.offsetWidth)!==null&&i!==void 0?i:0,height:(o=e?.offsetHeight)!==null&&o!==void 0?o:0}}constructor(e){this.ref=e}}class Ct{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let l=e;for(;l!=null;){let i=this.collection.getItem(l);if(i?.type==="item"&&!this.isDisabled(i))return l;l=t(l)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,l=>this.collection.getKeyAfter(l))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,l=>this.collection.getKeyBefore(l))}findKey(e,t,l){let i=e,o=this.layoutDelegate.getItemRect(i);if(!o||i==null)return null;let r=o;do{if(i=t(i),i==null)break;o=this.layoutDelegate.getItemRect(i)}while(o&&l(r,o)&&i!=null);return i}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,l=>this.layoutDelegate[t](l))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,l=>this.getNextColumn(l,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,l=>this.layoutDelegate[t](l))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,l=>this.getNextColumn(l,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,l=this.layoutDelegate.getItemRect(e);if(!l)return null;if(t&&!Ve(t))return this.getFirstKey();let i=e;if(this.orientation==="horizontal"){let o=Math.max(0,l.x+l.width-this.layoutDelegate.getVisibleRect().width);for(;l&&l.x>o&&i!=null;)i=this.getKeyAbove(i),l=i==null?null:this.layoutDelegate.getItemRect(i)}else{let o=Math.max(0,l.y+l.height-this.layoutDelegate.getVisibleRect().height);for(;l&&l.y>o&&i!=null;)i=this.getKeyAbove(i),l=i==null?null:this.layoutDelegate.getItemRect(i)}return i??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,l=this.layoutDelegate.getItemRect(e);if(!l)return null;if(t&&!Ve(t))return this.getLastKey();let i=e;if(this.orientation==="horizontal"){let o=Math.min(this.layoutDelegate.getContentSize().width,l.y-l.width+this.layoutDelegate.getVisibleRect().width);for(;l&&l.x<o&&i!=null;)i=this.getKeyBelow(i),l=i==null?null:this.layoutDelegate.getItemRect(i)}else{let o=Math.min(this.layoutDelegate.getContentSize().height,l.y-l.height+this.layoutDelegate.getVisibleRect().height);for(;l&&l.y<o&&i!=null;)i=this.getKeyBelow(i),l=i==null?null:this.layoutDelegate.getItemRect(i)}return i??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let l=this.collection,i=t||this.getFirstKey();for(;i!=null;){let o=l.getItem(i);if(!o)return null;let r=o.textValue.slice(0,e.length);if(o.textValue&&this.collator.compare(r,e)===0)return i;i=this.getNextKey(i)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new Xe(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new Xe(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function Fl(n){let{selectionManager:e,collection:t,disabledKeys:l,ref:i,keyboardDelegate:o,layoutDelegate:r}=n,s=bt({usage:"search",sensitivity:"base"}),a=e.disabledBehavior,c=u.useMemo(()=>o||new Ct({collection:t,disabledKeys:l,disabledBehavior:a,ref:i,collator:s,layoutDelegate:r}),[o,r,t,l,i,s,a]),{collectionProps:d}=Ml({...n,ref:i,selectionManager:e,keyboardDelegate:c});return{listProps:d}}function Al(n,e,t){let l=J(n,{labelable:!0}),i=n.selectionBehavior||"toggle",o=n.linkBehavior||(i==="replace"?"action":"override");i==="toggle"&&o==="action"&&(o="override");let{listProps:r}=Fl({...n,ref:t,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,linkBehavior:o}),{focusWithinProps:s}=ll({onFocusWithin:n.onFocus,onBlurWithin:n.onBlur,onFocusWithinChange:n.onFocusChange}),a=ce(n.id);Te.set(e,{id:a,shouldUseVirtualFocus:n.shouldUseVirtualFocus,shouldSelectOnPressUp:n.shouldSelectOnPressUp,shouldFocusOnHover:n.shouldFocusOnHover,isVirtualized:n.isVirtualized,onAction:n.onAction,linkBehavior:o});let{labelProps:c,fieldProps:d}=il({...n,id:a,labelElementType:"span"});return{labelProps:c,listBoxProps:B(l,s,e.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...B(d,r)})}}class Rl{build(e,t){return this.context=t,Ze(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:l}=e;if(y.isValidElement(t)&&t.type===y.Fragment)yield*this.iterateCollection({children:t.props.children,items:l});else if(typeof t=="function"){if(!l)throw new Error("props.children was a function but props.items is missing");let i=0;for(let o of l)yield*this.getFullNode({value:o,index:i},{renderer:t}),i++}else{let i=[];y.Children.forEach(t,r=>{r&&i.push(r)});let o=0;for(let r of i){let s=this.getFullNode({element:r,index:o},{});for(let a of s)o++,yield a}}}getKey(e,t,l,i){if(e.key!=null)return e.key;if(t.type==="cell"&&t.key!=null)return`${i}${t.key}`;let o=t.value;if(o!=null){var r;let s=(r=o.key)!==null&&r!==void 0?r:o.id;if(s==null)throw new Error("No key found for item");return s}return i?`${i}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,l,i){if(y.isValidElement(e.element)&&e.element.type===y.Fragment){let m=[];y.Children.forEach(e.element.props.children,w=>{m.push(w)});var o;let x=(o=e.index)!==null&&o!==void 0?o:0;for(const w of m)yield*this.getFullNode({element:w,index:x++},t,l,i);return}let r=e.element;if(!r&&e.value&&t&&t.renderer){let m=this.cache.get(e.value);if(m&&(!m.shouldInvalidate||!m.shouldInvalidate(this.context))){m.index=e.index,m.parentKey=i?i.key:null,yield m;return}r=t.renderer(e.value)}if(y.isValidElement(r)){let m=r.type;if(typeof m!="function"&&typeof m.getCollectionNode!="function"){let D=r.type;throw new Error(`Unknown element <${D}> in collection.`)}let x=m.getCollectionNode(r.props,this.context);var s;let w=(s=e.index)!==null&&s!==void 0?s:0,K=x.next();for(;!K.done&&K.value;){let D=K.value;e.index=w;var a;let M=(a=D.key)!==null&&a!==void 0?a:null;M==null&&(M=D.element?null:this.getKey(r,e,t,l));let T=[...this.getFullNode({...D,key:M,index:w,wrapper:Ll(e.wrapper,D.wrapper)},this.getChildState(t,D),l?`${l}${r.key}`:r.key,i)];for(let P of T){var c,d;P.value=(d=(c=D.value)!==null&&c!==void 0?c:e.value)!==null&&d!==void 0?d:null,P.value&&this.cache.set(P.value,P);var h;if(e.type&&P.type!==e.type)throw new Error(`Unsupported type <${xe(P.type)}> in <${xe((h=i?.type)!==null&&h!==void 0?h:"unknown parent type")}>. Only <${xe(e.type)}> is supported.`);w++,yield P}K=x.next(T)}return}if(e.key==null||e.type==null)return;let p=this;var $,g;let b={type:e.type,props:e.props,key:e.key,parentKey:i?i.key:null,value:($=e.value)!==null&&$!==void 0?$:null,level:i?i.level+1:0,index:e.index,rendered:e.rendered,textValue:(g=e.textValue)!==null&&g!==void 0?g:"","aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes||!1,childNodes:Ze(function*(){if(!e.hasChildNodes||!e.childNodes)return;let m=0;for(let x of e.childNodes()){x.key!=null&&(x.key=`${b.key}${x.key}`);let w=p.getFullNode({...x,index:m},p.getChildState(t,x),b.key,b);for(let K of w)m++,yield K}})};yield b}constructor(){this.cache=new WeakMap}}function Ze(n){let e=[],t=null;return{*[Symbol.iterator](){for(let l of e)yield l;t||(t=n());for(let l of t)e.push(l),yield l}}}function Ll(n,e){if(n&&e)return t=>n(e(t));if(n)return n;if(e)return e}function xe(n){return n[0].toUpperCase()+n.slice(1)}function Bl(n,e,t){let l=u.useMemo(()=>new Rl,[]),{children:i,items:o,collection:r}=n;return u.useMemo(()=>{if(r)return r;let a=l.build({children:i,items:o},t);return e(a)},[l,i,o,r,t,e])}function kt(n,e){return typeof e.getChildren=="function"?e.getChildren(n.key):n.childNodes}function Ol(n){return jl(n)}function jl(n,e){for(let t of n)return t}function $e(n,e,t){if(e.parentKey===t.parentKey)return e.index-t.index;let l=[...Je(n,e),e],i=[...Je(n,t),t],o=l.slice(0,i.length).findIndex((r,s)=>r!==i[s]);return o!==-1?(e=l[o],t=i[o],e.index-t.index):l.findIndex(r=>r===t)>=0?1:(i.findIndex(r=>r===e)>=0,-1)}function Je(n,e){let t=[],l=e;for(;l?.parentKey!=null;)l=n.getItem(l.parentKey),l&&t.unshift(l);return t}const Qe=new WeakMap;function Nl(n){let e=Qe.get(n);if(e!=null)return e;let t=0,l=i=>{for(let o of i)o.type==="section"?l(kt(o,n)):o.type==="item"&&t++};return l(n),Qe.set(n,t),t}function Vl(n,e,t){var l,i;let{key:o}=n,r=Te.get(e);var s;let a=(s=n.isDisabled)!==null&&s!==void 0?s:e.selectionManager.isDisabled(o);var c;let d=(c=n.isSelected)!==null&&c!==void 0?c:e.selectionManager.isSelected(o);var h;let p=(h=n.shouldSelectOnPressUp)!==null&&h!==void 0?h:r?.shouldSelectOnPressUp;var $;let g=($=n.shouldFocusOnHover)!==null&&$!==void 0?$:r?.shouldFocusOnHover;var b;let m=(b=n.shouldUseVirtualFocus)!==null&&b!==void 0?b:r?.shouldUseVirtualFocus;var x;let w=(x=n.isVirtualized)!==null&&x!==void 0?x:r?.isVirtualized,K=Oe(),D=Oe(),M={role:"option","aria-disabled":a||void 0,"aria-selected":e.selectionManager.selectionMode!=="none"?d:void 0};dt()&&Xt()||(M["aria-label"]=n["aria-label"],M["aria-labelledby"]=K,M["aria-describedby"]=D);let k=e.collection.getItem(o);if(w){let v=Number(k?.index);M["aria-posinset"]=Number.isNaN(v)?void 0:v+1,M["aria-setsize"]=Nl(e.collection)}let T=r?.onAction?()=>{var v;return r==null||(v=r.onAction)===null||v===void 0?void 0:v.call(r,o)}:void 0,P=Cl(e,o),{itemProps:O,isPressed:F,isFocused:A,hasAction:I,allowsSelection:H}=Tl({selectionManager:e.selectionManager,key:o,ref:t,shouldSelectOnPressUp:p,allowsDifferentPressOrigin:p&&g,isVirtualized:w,shouldUseVirtualFocus:m,isDisabled:a,onAction:T||!(k==null||(l=k.props)===null||l===void 0)&&l.onAction?pt(k==null||(i=k.props)===null||i===void 0?void 0:i.onAction,T):void 0,linkBehavior:r?.linkBehavior,id:P}),{hoverProps:z}=$t({isDisabled:a||!g,onHoverStart(){je()||(e.selectionManager.setFocused(!0),e.selectionManager.setFocusedKey(o))}}),j=J(k?.props);delete j.id;let U=Qt(k?.props);return{optionProps:{...M,...B(j,O,z,U),id:P},labelProps:{id:K},descriptionProps:{id:D},isFocused:A,isFocusVisible:A&&e.selectionManager.isFocused&&je(),isSelected:d,isDisabled:a,isPressed:F,allowsSelection:H,hasAction:I}}function Hl(n){let{heading:e,"aria-label":t}=n,l=ce();return{itemProps:{role:"presentation"},headingProps:e?{id:l,role:"presentation"}:{},groupProps:{role:"group","aria-label":t,"aria-labelledby":e?l:void 0}}}var Se={exports:{}},we={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _e;function ql(){if(_e)return we;_e=1;var n=zt();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var t=typeof Object.is=="function"?Object.is:e,l=n.useState,i=n.useEffect,o=n.useLayoutEffect,r=n.useDebugValue;function s(h,p){var $=p(),g=l({inst:{value:$,getSnapshot:p}}),b=g[0].inst,m=g[1];return o(function(){b.value=$,b.getSnapshot=p,a(b)&&m({inst:b})},[h,$,p]),i(function(){return a(b)&&m({inst:b}),h(function(){a(b)&&m({inst:b})})},[h]),r($),$}function a(h){var p=h.getSnapshot;h=h.value;try{var $=p();return!t(h,$)}catch{return!0}}function c(h,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:s;return we.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,we}var et;function zl(){return et||(et=1,Se.exports=ql()),Se.exports}var Ul=zl();class tt{*[Symbol.iterator](){yield*this.iterable}get size(){return this._size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);var l;return t&&(l=t.prevKey)!==null&&l!==void 0?l:null}getKeyAfter(e){let t=this.keyMap.get(e);var l;return t&&(l=t.nextKey)!==null&&l!==void 0?l:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return t?.childNodes||[]}constructor(e){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e;let t=s=>{if(this.keyMap.set(s.key,s),s.childNodes&&s.type==="section")for(let a of s.childNodes)t(a)};for(let s of e)t(s);let l=null,i=0,o=0;for(let[s,a]of this.keyMap)l?(l.nextKey=s,a.prevKey=l.key):(this.firstKey=s,a.prevKey=void 0),a.type==="item"&&(a.index=i++),(a.type==="section"||a.type==="item")&&o++,l=a,l.nextKey=void 0;this._size=o;var r;this.lastKey=(r=l?.key)!==null&&r!==void 0?r:null}}class V extends Set{constructor(e,t,l){super(e),e instanceof V?(this.anchorKey=t??e.anchorKey,this.currentKey=l??e.currentKey):(this.anchorKey=t??null,this.currentKey=l??null)}}function Wl(n,e){if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0}function Gl(n){let{selectionMode:e="none",disallowEmptySelection:t=!1,allowDuplicateSelectionEvents:l,selectionBehavior:i="toggle",disabledBehavior:o="all"}=n,r=u.useRef(!1),[,s]=u.useState(!1),a=u.useRef(null),c=u.useRef(null),[,d]=u.useState(null),h=u.useMemo(()=>lt(n.selectedKeys),[n.selectedKeys]),p=u.useMemo(()=>lt(n.defaultSelectedKeys,new V),[n.defaultSelectedKeys]),[$,g]=Zt(h,p,n.onSelectionChange),b=u.useMemo(()=>n.disabledKeys?new Set(n.disabledKeys):new Set,[n.disabledKeys]),[m,x]=u.useState(i);i==="replace"&&m==="toggle"&&typeof $=="object"&&$.size===0&&x("replace");let w=u.useRef(i);return u.useEffect(()=>{i!==w.current&&(x(i),w.current=i)},[i]),{selectionMode:e,disallowEmptySelection:t,selectionBehavior:m,setSelectionBehavior:x,get isFocused(){return r.current},setFocused(K){r.current=K,s(K)},get focusedKey(){return a.current},get childFocusStrategy(){return c.current},setFocusedKey(K,D="first"){a.current=K,c.current=D,d(K)},selectedKeys:$,setSelectedKeys(K){(l||!Wl(K,$))&&g(K)},disabledKeys:b,disabledBehavior:o}}function lt(n,e){return n?n==="all"?"all":new V(n):e}class Fe{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(e==null||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){if(this.state.selectionMode==="none")return!1;let t=this.getKey(e);return t==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(t):this.state.selectedKeys.has(t)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(l=>t.has(l)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let l of this.state.selectedKeys){let i=this.collection.getItem(l);(!e||i&&$e(this.collection,i,e)<0)&&(e=i)}var t;return(t=e?.key)!==null&&t!==void 0?t:null}get lastSelectedKey(){let e=null;for(let l of this.state.selectedKeys){let i=this.collection.getItem(l);(!e||i&&$e(this.collection,i,e)>0)&&(e=i)}var t;return(t=e?.key)!==null&&t!==void 0?t:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let l;if(this.state.selectedKeys==="all")l=new V([t],t,t);else{let r=this.state.selectedKeys;var i;let s=(i=r.anchorKey)!==null&&i!==void 0?i:t;l=new V(r,s,t);var o;for(let a of this.getKeyRange(s,(o=r.currentKey)!==null&&o!==void 0?o:t))l.delete(a);for(let a of this.getKeyRange(t,s))this.canSelectItem(a)&&l.add(a)}this.state.setSelectedKeys(l)}getKeyRange(e,t){let l=this.collection.getItem(e),i=this.collection.getItem(t);return l&&i?$e(this.collection,l,i)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){var l;if(!((l=this.layoutDelegate)===null||l===void 0)&&l.getKeyRange)return this.layoutDelegate.getKeyRange(e,t);let i=[],o=e;for(;o!=null;){let r=this.collection.getItem(o);if(r&&(r.type==="item"||r.type==="cell"&&this.allowsCellSelection)&&i.push(o),o===t)return i;o=this.collection.getKeyAfter(o)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t||t.type==="cell"&&this.allowsCellSelection)return e;for(;t&&t.type!=="item"&&t.parentKey!=null;)t=this.collection.getItem(t.parentKey);return!t||t.type!=="item"?null:t.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let l=new V(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);l.has(t)?l.delete(t):this.canSelectItem(t)&&(l.add(t),l.anchorKey=t,l.currentKey=t),!(this.disallowEmptySelection&&l.size===0)&&this.state.setSelectedKeys(l)}replaceSelection(e){if(this.selectionMode==="none")return;let t=this.getKey(e);if(t==null)return;let l=this.canSelectItem(t)?new V([t],t,t):new V;this.state.setSelectedKeys(l)}setSelectedKeys(e){if(this.selectionMode==="none")return;let t=new V;for(let l of e){let i=this.getKey(l);if(i!=null&&(t.add(i),this.selectionMode==="single"))break}this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=l=>{for(;l!=null;){if(this.canSelectItem(l)){var i;let r=this.collection.getItem(l);r?.type==="item"&&e.push(l);var o;r?.hasChildNodes&&(this.allowsCellSelection||r.type!=="item")&&t((o=(i=Ol(kt(r,this.collection)))===null||i===void 0?void 0:i.key)!==null&&o!==void 0?o:null)}l=this.collection.getKeyAfter(l)}};return t(this.collection.getFirstKey()),e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new V)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||t&&(t.pointerType==="touch"||t.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let l of e)if(!t.has(l))return!1;for(let l of t)if(!e.has(l))return!1;return!0}canSelectItem(e){var t;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let l=this.collection.getItem(e);return!(!l||!(l==null||(t=l.props)===null||t===void 0)&&t.isDisabled||l.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){var t,l;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(e)||!!(!((l=this.collection.getItem(e))===null||l===void 0||(t=l.props)===null||t===void 0)&&t.isDisabled))}isLink(e){var t,l;return!!(!((l=this.collection.getItem(e))===null||l===void 0||(t=l.props)===null||t===void 0)&&t.href)}getItemProps(e){var t;return(t=this.collection.getItem(e))===null||t===void 0?void 0:t.props}withCollection(e){return new Fe(e,this.state,{allowsCellSelection:this.allowsCellSelection,layoutDelegate:this.layoutDelegate||void 0})}constructor(e,t,l){this.collection=e,this.state=t;var i;this.allowsCellSelection=(i=l?.allowsCellSelection)!==null&&i!==void 0?i:!1,this._isSelectAll=null,this.layoutDelegate=l?.layoutDelegate||null}}function Yl(n){let{filter:e,layoutDelegate:t}=n,l=Gl(n),i=u.useMemo(()=>n.disabledKeys?new Set(n.disabledKeys):new Set,[n.disabledKeys]),o=u.useCallback(c=>e?new tt(e(c)):new tt(c),[e]),r=u.useMemo(()=>({suppressTextValueWarning:n.suppressTextValueWarning}),[n.suppressTextValueWarning]),s=Bl(n,o,r),a=u.useMemo(()=>new Fe(s,l,{layoutDelegate:t}),[s,l,t]);return Dt(s,a),{collection:s,disabledKeys:i,selectionManager:a}}function Xl(n,e){let t=u.useMemo(()=>e?n.collection.filter(e):n.collection,[n.collection,e]),l=n.selectionManager.withCollection(t);return Dt(t,l),{collection:t,selectionManager:l,disabledKeys:n.disabledKeys}}function Dt(n,e){const t=u.useRef(null);u.useEffect(()=>{if(e.focusedKey!=null&&!n.getItem(e.focusedKey)&&t.current){const d=t.current.getItem(e.focusedKey),h=[...t.current.getKeys()].map(x=>{const w=t.current.getItem(x);return w?.type==="item"?w:null}).filter(x=>x!==null),p=[...n.getKeys()].map(x=>{const w=n.getItem(x);return w?.type==="item"?w:null}).filter(x=>x!==null);var l,i;const $=((l=h?.length)!==null&&l!==void 0?l:0)-((i=p?.length)!==null&&i!==void 0?i:0);var o,r,s;let g=Math.min($>1?Math.max(((o=d?.index)!==null&&o!==void 0?o:0)-$+1,0):(r=d?.index)!==null&&r!==void 0?r:0,((s=p?.length)!==null&&s!==void 0?s:0)-1),b=null,m=!1;for(;g>=0;){if(!e.isDisabled(p[g].key)){b=p[g];break}if(g<p.length-1&&!m)g++;else{m=!0;var a,c;g>((a=d?.index)!==null&&a!==void 0?a:0)&&(g=(c=d?.index)!==null&&c!==void 0?c:0),g--}}e.setFocusedKey(b?b.key:null)}t.current=n},[n,e])}const Zl=u.createContext(null),Et=Symbol("default");function Pt({values:n,children:e}){for(let[t,l]of n)e=y.createElement(t.Provider,{value:l},e);return e}function ie(n){let{className:e,style:t,children:l,defaultClassName:i,defaultChildren:o,defaultStyle:r,values:s}=n;return u.useMemo(()=>{let a,c,d;return typeof e=="function"?a=e({...s,defaultClassName:i}):a=e,typeof t=="function"?c=t({...s,defaultStyle:r||{}}):c=t,typeof l=="function"?d=l({...s,defaultChildren:o}):l==null?d=o:d=l,{className:a??i,style:c||r?{...r,...c}:void 0,children:d??o,"data-rac":""}},[e,t,l,i,o,r,s])}function Jl(n,e){let t=u.useContext(n);if(e===null)return null;if(t&&typeof t=="object"&&"slots"in t&&t.slots){let l=e||Et;if(!t.slots[l]){let i=new Intl.ListFormat().format(Object.keys(t.slots).map(r=>`"${r}"`)),o=e?`Invalid slot "${e}".`:"A slot prop is required.";throw new Error(`${o} Valid slot names are ${i}.`)}return t.slots[l]}return t}function Ae(n,e,t){let l=Jl(t,n.slot)||{},{ref:i,...o}=l,r=Me(u.useMemo(()=>hl(e,i),[e,i])),s=B(o,n);return"style"in o&&o.style&&"style"in n&&n.style&&(typeof o.style=="function"||typeof n.style=="function"?s.style=a=>{let c=typeof o.style=="function"?o.style(a):o.style,d={...a.defaultStyle,...c},h=typeof n.style=="function"?n.style({...a,defaultStyle:d}):n.style;return{...d,...h}}:s.style={...o.style,...n.style}),[s,r]}function Ql(n=!0){let[e,t]=u.useState(n),l=u.useRef(!1),i=u.useCallback(o=>{l.current=!0,t(!!o)},[]);return ee(()=>{l.current||t(!1)},[]),[i,e]}class ne{get childNodes(){throw new Error("childNodes is not supported")}clone(){let e=new this.constructor(this.key);return e.value=this.value,e.level=this.level,e.hasChildNodes=this.hasChildNodes,e.rendered=this.rendered,e.textValue=this.textValue,e["aria-label"]=this["aria-label"],e.index=this.index,e.parentKey=this.parentKey,e.prevKey=this.prevKey,e.nextKey=this.nextKey,e.firstChildKey=this.firstChildKey,e.lastChildKey=this.lastChildKey,e.props=this.props,e.render=this.render,e.colSpan=this.colSpan,e.colIndex=this.colIndex,e}filter(e,t,l){let i=this.clone();return t.addDescendants(i,e),i}constructor(e){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.colSpan=null,this.colIndex=null,this.type=this.constructor.type,this.key=e}}class It extends ne{filter(e,t,l){let[i,o]=Ft(e,t,this.firstChildKey,l),r=this.clone();return r.firstChildKey=i,r.lastChildKey=o,r}}class _l extends ne{}_l.type="header";class Mt extends ne{}Mt.type="loader";class Tt extends It{filter(e,t,l){if(l(this.textValue,this)){let i=this.clone();return t.addDescendants(i,e),i}return null}}Tt.type="item";class ei extends It{filter(e,t,l){let i=super.filter(e,t,l);if(i&&i.lastChildKey!==null){let o=e.getItem(i.lastChildKey);if(o&&o.type!=="header")return i}return null}}ei.type="section";class ti{get size(){return this.itemCount}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let e=this.firstKey!=null?this.keyMap.get(this.firstKey):void 0;for(;e;)yield e,e=e.nextKey!=null?this.keyMap.get(e.nextKey):void 0}getChildren(e){let t=this.keyMap;return{*[Symbol.iterator](){let l=t.get(e),i=l?.firstChildKey!=null?t.get(l.firstChildKey):null;for(;i;)yield i,i=i.nextKey!=null?t.get(i.nextKey):void 0}}}getKeyBefore(e){let t=this.keyMap.get(e);if(!t)return null;if(t.prevKey!=null){for(t=this.keyMap.get(t.prevKey);t&&t.type!=="item"&&t.lastChildKey!=null;)t=this.keyMap.get(t.lastChildKey);var l;return(l=t?.key)!==null&&l!==void 0?l:null}return t.parentKey}getKeyAfter(e){let t=this.keyMap.get(e);if(!t)return null;if(t.type!=="item"&&t.firstChildKey!=null)return t.firstChildKey;for(;t;){if(t.nextKey!=null)return t.nextKey;if(t.parentKey!=null)t=this.keyMap.get(t.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let e=this.lastKey!=null?this.keyMap.get(this.lastKey):null;for(;e?.lastChildKey!=null;)e=this.keyMap.get(e.lastChildKey);var t;return(t=e?.key)!==null&&t!==void 0?t:null}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(){throw new Error("Not implemented")}clone(){let e=this.constructor,t=new e;return t.keyMap=new Map(this.keyMap),t.firstKey=this.firstKey,t.lastKey=this.lastKey,t.itemCount=this.itemCount,t}addNode(e){if(this.frozen)throw new Error("Cannot add a node to a frozen collection");e.type==="item"&&this.keyMap.get(e.key)==null&&this.itemCount++,this.keyMap.set(e.key,e)}addDescendants(e,t){this.addNode(e);let l=t.getChildren(e.key);for(let i of l)this.addDescendants(i,t)}removeNode(e){if(this.frozen)throw new Error("Cannot remove a node to a frozen collection");let t=this.keyMap.get(e);t!=null&&t.type==="item"&&this.itemCount--,this.keyMap.delete(e)}commit(e,t,l=!1){if(this.frozen)throw new Error("Cannot commit a frozen collection");this.firstKey=e,this.lastKey=t,this.frozen=!l}filter(e){let t=new this.constructor,[l,i]=Ft(this,t,this.firstKey,e);return t?.commit(l,i),t}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1,this.itemCount=0}}function Ft(n,e,t,l){if(t==null)return[null,null];let i=null,o=null,r=n.getItem(t);for(;r!=null;){let c=r.filter(n,e,l);c!=null&&(c.nextKey=null,o&&(c.prevKey=o.key,o.nextKey=c.key),i==null&&(i=c),e.addNode(c),o=c),r=r.nextKey?n.getItem(r.nextKey):null}if(o&&o.type==="separator"){let c=o.prevKey;e.removeNode(o.key),c?(o=e.getItem(c),o.nextKey=null):o=null}var s,a;return[(s=i?.key)!==null&&s!==void 0?s:null,(a=o?.key)!==null&&a!==void 0?a:null]}class At{*[Symbol.iterator](){let e=this.firstChild;for(;e;)yield e,e=e.nextSibling}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(e){this._lastChild=e,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e,this.ownerDocument.markDirty(this)}get isConnected(){var e;return((e=this.parentNode)===null||e===void 0?void 0:e.isConnected)||!1}invalidateChildIndices(e){(this._minInvalidChildIndex==null||!this._minInvalidChildIndex.isConnected||e.index<this._minInvalidChildIndex.index)&&(this._minInvalidChildIndex=e,this.ownerDocument.markDirty(this))}updateChildIndices(){let e=this._minInvalidChildIndex;for(;e;)e.index=e.previousSibling?e.previousSibling.index+1:0,e=e.nextSibling;this._minInvalidChildIndex=null}appendChild(e){e.parentNode&&e.parentNode.removeChild(e),this.firstChild==null&&(this.firstChild=e),this.lastChild?(this.lastChild.nextSibling=e,e.index=this.lastChild.index+1,e.previousSibling=this.lastChild):(e.previousSibling=null,e.index=0),e.parentNode=this,e.nextSibling=null,this.lastChild=e,this.ownerDocument.markDirty(this),this.isConnected&&this.ownerDocument.queueUpdate()}insertBefore(e,t){if(t==null)return this.appendChild(e);e.parentNode&&e.parentNode.removeChild(e),e.nextSibling=t,e.previousSibling=t.previousSibling,e.index=t.index-1,this.firstChild===t?this.firstChild=e:t.previousSibling&&(t.previousSibling.nextSibling=e),t.previousSibling=e,e.parentNode=t.parentNode,this.invalidateChildIndices(e),this.isConnected&&this.ownerDocument.queueUpdate()}removeChild(e){e.parentNode!==this||!this.ownerDocument.isMounted||(this._minInvalidChildIndex===e&&(this._minInvalidChildIndex=null),e.nextSibling&&(this.invalidateChildIndices(e.nextSibling),e.nextSibling.previousSibling=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),e.parentNode=null,e.nextSibling=null,e.previousSibling=null,e.index=0,this.ownerDocument.markDirty(e),this.isConnected&&this.ownerDocument.queueUpdate())}addEventListener(){}removeEventListener(){}get previousVisibleSibling(){let e=this.previousSibling;for(;e&&e.isHidden;)e=e.previousSibling;return e}get nextVisibleSibling(){let e=this.nextSibling;for(;e&&e.isHidden;)e=e.nextSibling;return e}get firstVisibleChild(){let e=this.firstChild;for(;e&&e.isHidden;)e=e.nextSibling;return e}get lastVisibleChild(){let e=this.lastChild;for(;e&&e.isHidden;)e=e.previousSibling;return e}constructor(e){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this._minInvalidChildIndex=null,this.ownerDocument=e}}class Z extends At{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){var e;return this.parentNode instanceof Z?this.parentNode.level+(((e=this.node)===null||e===void 0?void 0:e.type)==="item"?1:0):0}getMutableNode(){return this.node==null?null:(this.isMutated||(this.node=this.node.clone(),this.isMutated=!0),this.ownerDocument.markDirty(this),this.node)}updateNode(){var e,t,l,i,o,r,s,a;let c=this.nextVisibleSibling,d=this.getMutableNode();if(d!=null){d.index=this.index,d.level=this.level;var h;d.parentKey=this.parentNode instanceof Z&&(h=(e=this.parentNode.node)===null||e===void 0?void 0:e.key)!==null&&h!==void 0?h:null;var p;d.prevKey=(p=(l=this.previousVisibleSibling)===null||l===void 0||(t=l.node)===null||t===void 0?void 0:t.key)!==null&&p!==void 0?p:null;var $;d.nextKey=($=c==null||(i=c.node)===null||i===void 0?void 0:i.key)!==null&&$!==void 0?$:null,d.hasChildNodes=!!this.firstChild;var g;d.firstChildKey=(g=(r=this.firstVisibleChild)===null||r===void 0||(o=r.node)===null||o===void 0?void 0:o.key)!==null&&g!==void 0?g:null;var b;if(d.lastChildKey=(b=(a=this.lastVisibleChild)===null||a===void 0||(s=a.node)===null||s===void 0?void 0:s.key)!==null&&b!==void 0?b:null,(d.colSpan!=null||d.colIndex!=null)&&c){var m,x;let w=((m=d.colIndex)!==null&&m!==void 0?m:d.index)+((x=d.colSpan)!==null&&x!==void 0?x:1);if(c.node!=null&&w!==c.node.colIndex){let K=c.getMutableNode();K.colIndex=w}}}}setProps(e,t,l,i,o){let r,{value:s,textValue:a,id:c,...d}=e;if(this.node==null?(r=new l(c??`react-aria-${++this.ownerDocument.nodeId}`),this.node=r):r=this.getMutableNode(),d.ref=t,r.props=d,r.rendered=i,r.render=o,r.value=s,r.textValue=a||(typeof d.children=="string"?d.children:"")||e["aria-label"]||"",c!=null&&c!==r.key)throw new Error("Cannot change the id of an item");d.colSpan!=null&&(r.colSpan=d.colSpan),this.isConnected&&this.ownerDocument.queueUpdate()}get style(){let e=this;return{get display(){return e.isHidden?"none":""},set display(t){let l=t==="none";if(e.isHidden!==l){var i,o;(((i=e.parentNode)===null||i===void 0?void 0:i.firstVisibleChild)===e||((o=e.parentNode)===null||o===void 0?void 0:o.lastVisibleChild)===e)&&e.ownerDocument.markDirty(e.parentNode);let r=e.previousVisibleSibling,s=e.nextVisibleSibling;r&&e.ownerDocument.markDirty(r),s&&e.ownerDocument.markDirty(s),e.isHidden=l,e.ownerDocument.markDirty(e)}}}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,t){super(t),this.nodeType=8,this.isMutated=!0,this._index=0,this.isHidden=!1,this.node=null}}class li extends At{get isConnected(){return this.isMounted}createElement(e){return new Z(e,this)}getMutableCollection(){return this.nextCollection||(this.nextCollection=this.collection.clone()),this.nextCollection}markDirty(e){this.dirtyNodes.add(e)}addNode(e){if(e.isHidden||e.node==null)return;let t=this.getMutableCollection();if(!t.getItem(e.node.key))for(let l of e)this.addNode(l);t.addNode(e.node)}removeNode(e){if(e.node==null)return;for(let l of e)this.removeNode(l);this.getMutableCollection().removeNode(e.node.key)}getCollection(){return this.inSubscription?this.collection.clone():(this.queuedRender=!1,this.updateCollection(),this.collection)}updateCollection(){for(let s of this.dirtyNodes)s instanceof Z&&(!s.isConnected||s.isHidden)?this.removeNode(s):s.updateChildIndices();for(let s of this.dirtyNodes)s instanceof Z&&(s.isConnected&&!s.isHidden&&(s.updateNode(),this.addNode(s)),s.isMutated=!1);if(this.dirtyNodes.clear(),this.nextCollection){var e,t,l,i,o,r;this.nextCollection.commit((o=(t=this.firstVisibleChild)===null||t===void 0||(e=t.node)===null||e===void 0?void 0:e.key)!==null&&o!==void 0?o:null,(r=(i=this.lastVisibleChild)===null||i===void 0||(l=i.node)===null||l===void 0?void 0:l.key)!==null&&r!==void 0?r:null,this.isSSR),this.isSSR||(this.collection=this.nextCollection,this.nextCollection=null)}}queueUpdate(){if(!(this.dirtyNodes.size===0||this.queuedRender)){this.queuedRender=!0,this.inSubscription=!0;for(let e of this.subscriptions)e();this.inSubscription=!1}}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(e){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.isMounted=!0,this.nextCollection=null,this.subscriptions=new Set,this.queuedRender=!1,this.inSubscription=!1,this.collection=e,this.nextCollection=e}}function Rt(n){let{children:e,items:t,idScope:l,addIdAndValue:i,dependencies:o=[]}=n,r=u.useMemo(()=>new WeakMap,o);return u.useMemo(()=>{if(t&&typeof e=="function"){let c=[];for(let d of t){let h=r.get(d);if(!h){h=e(d);var s,a;let p=(a=(s=h.props.id)!==null&&s!==void 0?s:d.key)!==null&&a!==void 0?a:d.id;if(p==null)throw new Error("Could not determine key for item");l&&(p=l+":"+p),h=u.cloneElement(h,i?{key:p,id:p,value:d}:{key:p}),r.set(d,h)}c.push(h)}return c}else if(typeof e!="function")return e},[e,t,r,l,i])}if(typeof HTMLTemplateElement<"u"){const n=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:n.call(this)}})}const it=u.createContext(!1);function ii(n){if(u.useContext(it))return y.createElement(y.Fragment,null,n.children);let t=y.createElement(it.Provider,{value:!0},n.children);return y.createElement("template",{"data-react-aria-hidden":!0},t)}const Lt=u.createContext(!1),te=u.createContext(null);function ni(n){if(u.useContext(te))return n.content;let{collection:t,document:l}=ai(n.createCollection);return y.createElement(y.Fragment,null,y.createElement(ii,null,y.createElement(te.Provider,{value:l},n.content)),y.createElement(oi,{render:n.children,collection:t}))}function oi({collection:n,render:e}){return e(n)}function ri(n,e,t){let l=vt(),i=u.useRef(l);i.current=l;let o=u.useCallback(()=>i.current?t():e(),[e,t]);return Ul.useSyncExternalStore(n,o)}const si=typeof y.useSyncExternalStore=="function"?y.useSyncExternalStore:ri;function ai(n){let[e]=u.useState(()=>new li(n?.()||new ti)),t=u.useCallback(r=>e.subscribe(r),[e]),l=u.useCallback(()=>{let r=e.getCollection();return e.isSSR&&e.resetAfterSSR(),r},[e]),i=u.useCallback(()=>(e.isSSR=!0,e.getCollection()),[e]),o=si(t,l,i);return ee(()=>(e.isMounted=!0,()=>{e.isMounted=!1}),[e]),{collection:o,document:e}}const Pe=u.createContext(null);function ui(n){var e;return e=class extends ne{},e.type=n,e}function ci(n,e,t,l,i,o){typeof n=="string"&&(n=ui(n));let r=u.useCallback(a=>{a?.setProps(e,t,n,l,o)},[e,t,l,o,n]),s=u.useContext(Pe);if(s){let a=s.ownerDocument.nodesByProps.get(e);return a||(a=s.ownerDocument.createElement(n.type),a.setProps(e,t,n,l,o),s.appendChild(a),s.ownerDocument.updateCollection(),s.ownerDocument.nodesByProps.set(e,a)),i?y.createElement(Pe.Provider,{value:a},i):null}return y.createElement(n.type,{ref:r},i)}function Bt(n,e){let t=({node:i})=>e(i.props,i.props.ref,i),l=u.forwardRef((i,o)=>{let r=u.useContext(Ne);if(!u.useContext(Lt)){if(e.length>=3)throw new Error(e.name+" cannot be rendered outside a collection.");return e(i,o)}return ci(n,i,o,"children"in i?i.children:null,null,a=>y.createElement(Ne.Provider,{value:r},y.createElement(t,{node:a})))});return l.displayName=e.name,l}function di(n){return Rt({...n,addIdAndValue:!0})}const nt=u.createContext(null);function fi(n){let e=u.useContext(nt),t=(e?.dependencies||[]).concat(n.dependencies),l=n.idScope||e?.idScope,i=di({...n,idScope:l,dependencies:t});return u.useContext(te)&&(i=y.createElement(hi,null,i)),e=u.useMemo(()=>({dependencies:t,idScope:l}),[l,...t]),y.createElement(nt.Provider,{value:e},i)}function hi({children:n}){let e=u.useContext(te),t=u.useMemo(()=>y.createElement(te.Provider,{value:null},y.createElement(Lt.Provider,{value:!0},n)),[n]);return vt()?y.createElement(Pe.Provider,{value:e},t):yt.createPortal(t,e)}const pi=u.createContext(null),vi={CollectionRoot({collection:n,renderDropIndicator:e}){return ot(n,null,e)},CollectionBranch({collection:n,parent:e,renderDropIndicator:t}){return ot(n,e,t)}};function ot(n,e,t){return Rt({items:e?n.getChildren(e.key):n,dependencies:[t],children(l){let i=l.render(l);return!t||l.type!=="item"?i:y.createElement(y.Fragment,null,t({type:"item",key:l.key,dropPosition:"before"}),i,yi(n,l,t))}})}function yi(n,e,t){let l=e.key,i=n.getKeyAfter(l),o=i!=null?n.getItem(i):null;for(;o!=null&&o.type!=="item";)i=n.getKeyAfter(o.key),o=i!=null?n.getItem(i):null;let r=e.nextKey!=null?n.getItem(e.nextKey):null;for(;r!=null&&r.type!=="item";)r=r.nextKey!=null?n.getItem(r.nextKey):null;let s=[];if(r==null){let a=e;for(;a&&(!o||a.parentKey!==o.parentKey&&o.level<a.level);){let c=t({type:"item",key:a.key,dropPosition:"after"});u.isValidElement(c)&&s.push(u.cloneElement(c,{key:`${a.key}-after`})),a=a.parentKey!=null?n.getItem(a.parentKey):null}}return s}const Re=u.createContext(vi),Ot=u.createContext({}),rt=u.forwardRef(function(e,t){[e,t]=Ae(e,t,Ot);let{elementType:l="span",...i}=e;return y.createElement(l,{className:"react-aria-Text",...i,ref:t})}),de=u.createContext({}),jt=u.createContext(null),gi=u.forwardRef(function(e,t){let{render:l}=u.useContext(jt);return y.createElement(y.Fragment,null,l(e,t))});function Nt(n,e){var t;let l=n?.renderDropIndicator,i=n==null||(t=n.isVirtualDragging)===null||t===void 0?void 0:t.call(n),o=u.useCallback(r=>{if(i||e?.isDropTarget(r))return l?l(r):y.createElement(gi,{target:r})},[e?.target,i,l]);return n?.useDropIndicator?o:void 0}function mi(n,e,t){var l,i;let o=n.focusedKey,r=null;if(!(e==null||(l=e.isVirtualDragging)===null||l===void 0)&&l.call(e)&&(t==null||(i=t.target)===null||i===void 0?void 0:i.type)==="item"&&(r=t.target.key,t.target.dropPosition==="after")){let h=t.collection.getKeyAfter(r),p=null;if(h!=null){var s,a;let $=(a=(s=t.collection.getItem(r))===null||s===void 0?void 0:s.level)!==null&&a!==void 0?a:0;for(;h;){let g=t.collection.getItem(h);if(!g)break;if(g.type!=="item"){h=t.collection.getKeyAfter(h);continue}var c;if(((c=g.level)!==null&&c!==void 0?c:0)<=$)break;p=h,h=t.collection.getKeyAfter(h)}}var d;r=(d=h??p)!==null&&d!==void 0?d:r}return u.useMemo(()=>new Set([o,r].filter(h=>h!=null)),[o,r])}const bi=u.createContext({}),xi=u.createContext({});class $i extends ne{filter(e,t){let l=t.getItem(this.prevKey);if(l&&l.type!=="separator"){let i=this.clone();return t.addDescendants(i,e),i}return null}}$i.type="separator";const Vt=u.createContext(null),oe=u.createContext(null),Si=u.forwardRef(function(e,t){[e,t]=Ae(e,t,Vt);let l=u.useContext(oe);return l?y.createElement(Ht,{state:l,props:e,listBoxRef:t}):y.createElement(ni,{content:y.createElement(fi,e)},i=>y.createElement(wi,{props:e,listBoxRef:t,collection:i}))});function wi({props:n,listBoxRef:e,collection:t}){n={...n,collection:t,children:null,items:null};let{layoutDelegate:l}=u.useContext(Re),i=Yl({...n,layoutDelegate:l});return y.createElement(Ht,{state:i,props:n,listBoxRef:e})}function Ht({state:n,props:e,listBoxRef:t}){[e,t]=Ae(e,t,Zl);let{dragAndDropHooks:l,layout:i="stack",orientation:o="vertical",filter:r}=e,s=Xl(n,r),{collection:a,selectionManager:c}=s,d=!!l?.useDraggableCollectionState,h=!!l?.useDroppableCollectionState,{direction:p}=xt(),{disabledBehavior:$,disabledKeys:g}=c,b=bt({usage:"search",sensitivity:"base"}),{isVirtualized:m,layoutDelegate:x,dropTargetDelegate:w,CollectionRoot:K}=u.useContext(Re),D=u.useMemo(()=>e.keyboardDelegate||new Ct({collection:a,collator:b,ref:t,disabledKeys:g,disabledBehavior:$,layout:i,orientation:o,direction:p,layoutDelegate:x}),[a,b,t,$,g,o,p,e.keyboardDelegate,i,x]),{listBoxProps:M}=Al({...e,shouldSelectOnPressUp:d||e.shouldSelectOnPressUp,keyboardDelegate:D,isVirtualized:m},s,t);u.useRef(d),u.useRef(h),u.useEffect(()=>{},[d,h]);let k,T,P,O=!1,F=null,A=u.useRef(null);if(d&&l){k=l.useDraggableCollectionState({collection:a,selectionManager:c,preview:l.renderDragPreview?A:void 0}),l.useDraggableCollection({},k,t);let E=l.DragPreview;F=l.renderDragPreview?y.createElement(E,{ref:A},l.renderDragPreview):null}if(h&&l){T=l.useDroppableCollectionState({collection:a,selectionManager:c});let E=l.dropTargetDelegate||w||new l.ListDropTargetDelegate(a,t,{orientation:o,layout:i,direction:p});P=l.useDroppableCollection({keyboardDelegate:D,dropTargetDelegate:E},T,t),O=T.isDropTarget({type:"root"})}let{focusProps:I,isFocused:H,isFocusVisible:z}=rl(),j=s.collection.size===0,U={isDropTarget:O,isEmpty:j,isFocused:H,isFocusVisible:z,layout:e.layout||"stack",state:s},v=ie({className:e.className,style:e.style,defaultClassName:"react-aria-ListBox",values:U}),C=null;j&&e.renderEmptyState&&(C=y.createElement("div",{role:"option",style:{display:"contents"}},e.renderEmptyState(U)));let f=J(e,{global:!0});return y.createElement(ol,null,y.createElement("div",{...B(f,v,M,I,P?.collectionProps),ref:t,slot:e.slot||void 0,onScroll:e.onScroll,"data-drop-target":O||void 0,"data-empty":j||void 0,"data-focused":H||void 0,"data-focus-visible":z||void 0,"data-layout":e.layout||"stack","data-orientation":e.orientation||"vertical"},y.createElement(Pt,{values:[[Vt,e],[oe,s],[de,{dragAndDropHooks:l,dragState:k,dropState:T}],[xi,{elementType:"div"}],[jt,{render:ki}],[pi,{name:"ListBoxSection",render:Ki}]]},y.createElement(K,{collection:a,scrollRef:t,persistedKeys:mi(c,l,T),renderDropIndicator:Nt(l,T)})),C,F))}function Ki(n,e,t,l="react-aria-ListBoxSection"){let i=u.useContext(oe),{dragAndDropHooks:o,dropState:r}=u.useContext(de),{CollectionBranch:s}=u.useContext(Re),[a,c]=Ql();var d;let{headingProps:h,groupProps:p}=Hl({heading:c,"aria-label":(d=n["aria-label"])!==null&&d!==void 0?d:void 0}),$=ie({defaultClassName:l,className:n.className,style:n.style,values:{}}),g=J(n,{global:!0});return delete g.id,y.createElement("section",{...B(g,$,p),ref:e},y.createElement(bi.Provider,{value:{...h,ref:a}},y.createElement(s,{collection:i.collection,parent:t,renderDropIndicator:Nt(o,r)})))}const Ci=Bt(Tt,function(e,t,l){let i=Me(t),o=u.useContext(oe),{dragAndDropHooks:r,dragState:s,dropState:a}=u.useContext(de),{optionProps:c,labelProps:d,descriptionProps:h,...p}=Vl({key:l.key,"aria-label":e?.["aria-label"]},o,i),{hoverProps:$,isHovered:g}=$t({isDisabled:!p.allowsSelection&&!p.hasAction,onHoverStart:l.props.onHoverStart,onHoverChange:l.props.onHoverChange,onHoverEnd:l.props.onHoverEnd}),b=null;s&&r&&(b=r.useDraggableItem({key:l.key},s));let m=null;a&&r&&(m=r.useDroppableItem({target:{type:"item",key:l.key,dropPosition:"on"}},a,i));let x=s&&s.isDragging(l.key),w=ie({...e,id:void 0,children:e.children,defaultClassName:"react-aria-ListBoxItem",values:{...p,isHovered:g,selectionMode:o.selectionManager.selectionMode,selectionBehavior:o.selectionManager.selectionBehavior,allowsDragging:!!s,isDragging:x,isDropTarget:m?.isDropTarget}});u.useEffect(()=>{l.textValue},[l.textValue]);let K=e.href?"a":"div",D=J(e,{global:!0});return delete D.id,delete D.onClick,y.createElement(K,{...B(D,w,c,$,b?.dragProps,m?.dropProps),ref:i,"data-allows-dragging":!!s||void 0,"data-selected":p.isSelected||void 0,"data-disabled":p.isDisabled||void 0,"data-hovered":g||void 0,"data-focused":p.isFocused||void 0,"data-focus-visible":p.isFocusVisible||void 0,"data-pressed":p.isPressed||void 0,"data-dragging":x||void 0,"data-drop-target":m?.isDropTarget||void 0,"data-selection-mode":o.selectionManager.selectionMode==="none"?void 0:o.selectionManager.selectionMode},y.createElement(Pt,{values:[[Ot,{slots:{[Et]:d,label:d,description:h}}]]},w.children))});function ki(n,e){e=Me(e);let{dragAndDropHooks:t,dropState:l}=u.useContext(de),{dropIndicatorProps:i,isHidden:o,isDropTarget:r}=t.useDropIndicator(n,l,e);return o?null:y.createElement(Ei,{...n,dropIndicatorProps:i,isDropTarget:r,ref:e})}function Di(n,e){let{dropIndicatorProps:t,isDropTarget:l,...i}=n,o=ie({...i,defaultClassName:"react-aria-DropIndicator",values:{isDropTarget:l}});return y.createElement("div",{...t,...o,role:"option",ref:e,"data-drop-target":l||void 0})}const Ei=u.forwardRef(Di);Bt(Mt,function(e,t,l){let i=u.useContext(oe),{isLoading:o,onLoadMore:r,scrollOffset:s,...a}=e,c=u.useRef(null),d=u.useMemo(()=>({onLoadMore:r,collection:i?.collection,sentinelRef:c,scrollOffset:s}),[r,s,i?.collection]);pl(d,c);let h=ie({...a,id:void 0,children:l.rendered,defaultClassName:"react-aria-ListBoxLoadingIndicator",values:null}),p={tabIndex:-1};return y.createElement(y.Fragment,null,y.createElement("div",{style:{position:"relative",width:0,height:0},inert:vl(!0)},y.createElement("div",{"data-testid":"loadMoreSentinel",ref:c,style:{position:"absolute",height:1,width:1}})),o&&h.children&&y.createElement("div",{...B(J(e,{global:!0}),p),...h,role:"option",ref:t},h.children))});var st="ktq94p1",at=Ut({defaultClassName:"ktq94p4 ktq94p3 onxwju6p onxwjut1 onxwjuid",variantClassNames:{columns:{1:"ktq94p5",2:"ktq94p6",3:"ktq94p7",4:"ktq94p8 ktq94p2",5:"ktq94p9 ktq94p2"}},defaultVariants:{columns:"2"},compoundVariants:[]}),Pi="ktq94pc ktq94pb onxwju2n onxwju2l onxwju2p onxwju2r onxwjucx onxwjuch onxwjudd onxwjudt onxwjuup onxwjuvt onxwjuwt onxwjuth onxwjumt onxwjubt onxwju6l onxwjui9 onxwju8h onxwju67",Ii="ktq94pd ktq94pc ktq94pb onxwju2n onxwju2l onxwju2p onxwju2r onxwjucx onxwjuch onxwjudd onxwjudt onxwjuup onxwjuvt onxwjuwt onxwjuth onxwjumt onxwjubt onxwju6l onxwjui9 onxwju8h onxwju67 ktq94pa tq83zq0",Mi="ktq94pe",Ti="ktq94pg ktq94pf onxwju19 onxwju1l onxwju1x onxwju29 onxwju2n onxwju2l onxwju2p onxwju2r onxwjucx onxwjuch onxwjudd onxwjudt onxwjugd onxwjuet onxwjumt onxwjubp onxwju6l onxwjuqp onxwjuoh ktq94pa",Fi="ktq94pj ktq94pi onxwju2n onxwju2l onxwju2p onxwju2r onxwjucx onxwjuch onxwjudd onxwjudt onxwjugd onxwjuet onxwjumt onxwjucd onxwju8h ktq94ph ktq94pa",Ai="ktq94pk onxwjua9",Ri="ktq94pl onxwjua1";const le=({className:n,columns:e,indicator:t="checkbox",isLoading:l=!1,label:i,layout:o="grid",selectionMode:r="multiple",testId:s,...a})=>l?y.createElement("div",{className:st},y.createElement("div",{className:at({columns:e})},Array.from({length:Number(e)||1},(c,d)=>y.createElement("div",{key:d,className:Pi},y.createElement(sl,null))))):y.createElement("div",{className:st},y.createElement(Si,{"aria-label":i,layout:o,selectionMode:r,className:Wt([at({columns:e}),n]),...be({testid:s}),...a},({description:c,disabled:d,icon:h,label:p,name:$})=>y.createElement(Ci,{className:Ii,id:$,isDisabled:d,textValue:p,...be({disabled:d})},({isFocusVisible:g,isHovered:b,isSelected:m})=>{const x=t!=="none",w=!g&&!b&&!m,K=()=>{if(h&&w)return y.createElement(qe,{icon:h,size:"100%"});const D=t==="radio"?Fi:Ti;return y.createElement("div",{className:D,...be({disabled:d,"focus-visible":g,hover:b,selected:m})},t==="checkbox"&&y.createElement(qe,{icon:al}))};return y.createElement(y.Fragment,null,x&&y.createElement("div",{className:Mi},y.createElement(K,null)),y.createElement("div",null,y.createElement(rt,{slot:"label",elementType:"div",className:Ai},p),c&&y.createElement(rt,{slot:"description",elementType:"div",className:Ri},c)))})));le.displayName="OptionGrid";try{le.displayName="OptionGrid",le.__docgenInfo={description:`The OptionGrid is primarily used in the booking flow to provide large selectable tiles to the user. It is not a form
control as it is built on the react-aria ListBox ([docs](https://react-spectrum.adobe.com/react-aria/ListBox.html)),
and implements a listbox behaviour without wrapping an input element. It supports controlled and uncontrolled usage.
Following ARIA guidelines, the arrow keys can be used to navigate withing the group of options.

The ListBox implementation provides a Set of selected keys to the \`onSelectionChange\` handler. To preselect options
in uncontrolled usage, simply provide a default selection using the \`defaultSelectedKeys\` prop.
See more details on react-aria [ListBox props](https://react-spectrum.adobe.com/react-aria/ListBox.html#listbox-1).

Accessibility note: The ARIA spec prohibits listbox items from including interactive content such as buttons,
tooltips, etc. For these cases a completely different implementation is required (e.g. react-aria [GridList](
https://react-spectrum.adobe.com/react-aria/GridList.html))`,displayName:"OptionGrid",props:{label:{defaultValue:null,description:"Mandatory descriptive label that indicates the purpose of the group of options, used for assistive technologies",name:"label",required:!0,type:{name:"string"}},items:{defaultValue:null,description:"Pass in the content for the OptionGrid using the items array",name:"items",required:!0,type:{name:"OptionItem[]"}},indicator:{defaultValue:{value:"checkbox"},description:"Toggle the indicator appearance between checkbox and radio button, visual effect only",name:"indicator",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"checkbox"'},{value:'"radio"'}]}},selectionMode:{defaultValue:{value:"multiple"},description:"Toggle between single and multi selection mode",name:"selectionMode",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"multiple"'},{value:'"single"'}]}},columns:{defaultValue:null,description:"Number of columns to display the options in",name:"columns",required:!1,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'},{value:'"5"'}]}},isLoading:{defaultValue:{value:"false"},description:"Loading state",name:"isLoading",required:!1,type:{name:"boolean"}},testId:{defaultValue:null,description:"The test ID will be rendered as a data attribute `data-testid` on the element for use with test assertions",name:"testId",required:!1,type:{name:"string"}}}}}catch{}const{expect:N,fn:Li,getAllByRole:Bi,within:Oi,userEvent:ut}=__STORYBOOK_MODULE_TEST__,ct=[{label:"100,00km / 60 months",name:"100km/60"},{label:"110,000km / 66 months",name:"110km/66"},{label:"120,000km / 72 months",name:"120km/72"},{label:"130,000km / 78 months",name:"130km/78",disabled:!0},{label:"140,000km / 84 months",name:"140km/84"},{label:"150,000km / 90 months",name:"150km/90"},{label:"160,000km / 96 months",name:"160km/96"},{label:"170,000km / 104 months",name:"170km/102",disabled:!0},{label:"180,000km / 110 months",name:"180km/110",disabled:!0},{label:"190,000km / 116 months",name:"190km/116"}],qt=[{label:"Re-gas Air-conditioning",icon:ul,name:"regas-aircon"},{label:"Front Windscreen Replacement",icon:cl,name:"front-windscreen"},{label:"Roadworthy Inspection",icon:dl,name:"roadworthy"},{label:"Wheel Alignment",icon:fl,name:"wheel-alignment"}],ji=[{label:"Option A",name:"a",description:"This is description A"},{label:"Option B",name:"b",description:"This is description B"},{label:"Option C",name:"c",description:"This is description C"}],sn={title:"Forms & Input Fields/Option Grid",tags:[],component:le,args:{label:"Select car servicing options",items:qt,columns:"2",indicator:"checkbox",selectionMode:"multiple",onSelectionChange:Li(),isLoading:!1,testId:"demo-option-grid"}},ae={args:{label:"Select options",items:ji,indicator:"checkbox"},play:async({args:n,canvasElement:e,step:t})=>{const l=n.items,i=Oi(e),o="aria-selected";await new Promise(a=>setTimeout(a,25));const r=i.getAllByRole("listbox")[0],s=Bi(r,"option");await t("Group renders label and attributes",async()=>{await N(r).toHaveAccessibleName(`${n.label}`),await N(r).toHaveAttribute("data-testid",n.testId)}),await t("Options render label and description",async()=>{for(const[a,c]of s.entries()){const d=l[a];await N(c).toHaveTextContent(d.label),await N(c).toHaveTextContent(d.description??""),await N(c).toHaveAttribute("data-key",d.name)}}),await t("Selected states and onChange event",async()=>{for(const a of[0,2]){const c=s[a];await ut.click(c),await N(n.onSelectionChange).toHaveBeenCalled(),await N(c).toHaveAttribute(o,"true")}await N(s[1]).toHaveAttribute(o,"false")}),await t("Keyboard interaction",async()=>{await ut.keyboard("[ArrowLeft][ArrowLeft][Enter][ArrowRight][ArrowRight][Enter]"),await N(n.onSelectionChange).toHaveBeenCalled(),await N(s[0]).toHaveAttribute(o,"false"),await N(s[2]).toHaveAttribute(o,"false")})}},Q={args:{items:qt}},_={args:{label:"Select a scheduled service",items:ct,selectionMode:"single",indicator:"radio"},render:n=>{const[e,t]=u.useState(new Set([ct[0].name])),l=i=>{t(i),console.info("Storybook OptionGrid: Selected item =",...i)};return y.createElement(le,{...n,selectedKeys:e,onSelectionChange:l})}};ae.parameters={...ae.parameters,docs:{...ae.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Select options',
    items: alphaOptions,
    indicator: 'checkbox'
  },
  play: async ({
    args,
    canvasElement,
    step
  }) => {
    const contentOptions = args.items;
    const canvas = within(canvasElement);
    const ARIA_SELECTED = 'aria-selected';

    // add a small pause, because react-aria init :(
    await new Promise(resolve => setTimeout(resolve, 25));
    const listbox = canvas.getAllByRole('listbox')[0];
    const options = getAllByRole(listbox, 'option');
    await step('Group renders label and attributes', async () => {
      await expect(listbox).toHaveAccessibleName(\`\${args.label}\`);
      await expect(listbox).toHaveAttribute('data-testid', args.testId);
    });
    await step('Options render label and description', async () => {
      for (const [idx, option] of options.entries()) {
        const content = contentOptions[idx];
        await expect(option).toHaveTextContent(content.label);
        await expect(option).toHaveTextContent(content.description ?? '');
        await expect(option).toHaveAttribute('data-key', content.name);
      }
    });
    await step('Selected states and onChange event', async () => {
      for (const idx of [0, 2]) {
        const option = options[idx];
        await userEvent.click(option);
        await expect(args.onSelectionChange).toHaveBeenCalled();
        await expect(option).toHaveAttribute(ARIA_SELECTED, 'true');
      }
      await expect(options[1]).toHaveAttribute(ARIA_SELECTED, 'false');
    });
    await step('Keyboard interaction', async () => {
      await userEvent.keyboard('[ArrowLeft][ArrowLeft][Enter][ArrowRight][ArrowRight][Enter]');
      await expect(args.onSelectionChange).toHaveBeenCalled();
      await expect(options[0]).toHaveAttribute(ARIA_SELECTED, 'false');
      await expect(options[2]).toHaveAttribute(ARIA_SELECTED, 'false');
    });
  }
}`,...ae.parameters?.docs?.source}}};Q.parameters={...Q.parameters,docs:{...Q.parameters?.docs,source:{originalSource:`{
  args: {
    items: serviceTasks
  }
}`,...Q.parameters?.docs?.source},description:{story:"Uncontrolled with custom icons",...Q.parameters?.docs?.description}}};_.parameters={..._.parameters,docs:{..._.parameters?.docs,source:{originalSource:`{
  args: {
    label: 'Select a scheduled service',
    items: serviceSchedule,
    selectionMode: 'single',
    indicator: 'radio'
  },
  render: args => {
    const [selectedItems, setSelectedItems] = useState<Selection>(new Set([serviceSchedule[0].name]));
    const handleChange = (items: Selection) => {
      setSelectedItems(items);
      console.info('Storybook OptionGrid: Selected item =', ...items);
    };
    return <OptionGrid {...args} selectedKeys={selectedItems} onSelectionChange={handleChange} />;
  }
}`,..._.parameters?.docs?.source},description:{story:`Example of a controlled instance using an empty Set, logs selection to console. Indicator set to \`radio\`.
This example also demostrates disabling of options.

\`\`\`jsx
import type { Selection } from 'react-aria-components';
...

const [selectedItems, setSelectedItems] = useState<Selection>(new Set());

return (
	<OptionGrid
		...
		selectedKeys={selectedItems}
		onSelectionChange={setSelectedItems}
		...
	/>
);
\`\`\``,..._.parameters?.docs?.description}}};const an=["Simple","UncontrolledWithIcons","SingleSelectionControlled"];export{ae as Simple,_ as SingleSelectionControlled,Q as UncontrolledWithIcons,an as __namedExportsOrder,sn as default};
