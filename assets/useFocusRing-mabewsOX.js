import{R as K,r as c}from"./index-UyvCXs0Z.js";import{r as Ze}from"./index-ijGxv8TO.js";import{c as et}from"./Box-Wo8GEp05.js";function tt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rt(e,t,r){tt(e,t),t.set(e,r)}const _=typeof document<"u"?K.useLayoutEffect:()=>{};function H(e){const t=c.useRef(null);return _(()=>{t.current=e},[e]),c.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}function nt(e){let[t,r]=c.useState(e),n=c.useRef(null),a=H(()=>{if(!n.current)return;let s=n.current.next();if(s.done){n.current=null;return}t===s.value?a():r(s.value)});_(()=>{n.current&&a()});let l=H(s=>{n.current=s(t),a()});return[t,l]}const he={prefix:String(Math.round(Math.random()*1e10)),current:0},Oe=K.createContext(he),ot=K.createContext(!1);let it=!!(typeof window<"u"&&window.document&&window.document.createElement),ce=new WeakMap;function at(e=!1){let t=c.useContext(Oe),r=c.useRef(null);if(r.current===null&&!e){var n,a;let l=(a=K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||a===void 0||(n=a.ReactCurrentOwner)===null||n===void 0?void 0:n.current;if(l){let s=ce.get(l);s==null?ce.set(l,{id:t.current,state:l.memoizedState}):l.memoizedState!==s.state&&(t.current=s.id,ce.delete(l))}r.current=++t.current}return r.current}function st(e){let t=c.useContext(Oe);t===he&&!it&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=at(!!e),n=`react-aria${t.prefix}`;return e||`${n}-${r}`}function lt(e){let t=K.useId(),[r]=c.useState(pt()),n=r?"react-aria":`react-aria${he.prefix}`;return e||`${n}-${t}`}const ut=typeof K.useId=="function"?lt:st;function ct(){return!1}function ft(){return!0}function dt(e){return()=>{}}function pt(){return typeof K.useSyncExternalStore=="function"?K.useSyncExternalStore(dt,ct,ft):c.useContext(ot)}let bt=!!(typeof window<"u"&&window.document&&window.document.createElement),j=new Map,q;typeof FinalizationRegistry<"u"&&(q=new FinalizationRegistry(e=>{j.delete(e)}));function vt(e){let[t,r]=c.useState(e),n=c.useRef(null),a=ut(t),l=c.useRef(null);if(q&&q.register(l,a),bt){const s=j.get(a);s&&!s.includes(n)?s.push(n):j.set(a,[n])}return _(()=>{let s=a;return()=>{q&&q.unregister(l),j.delete(s)}},[a]),c.useEffect(()=>{let s=n.current;return s&&r(s),()=>{s&&(n.current=null)}}),a}function $t(e,t){if(e===t)return e;let r=j.get(e);if(r)return r.forEach(a=>a.current=t),t;let n=j.get(t);return n?(n.forEach(a=>a.current=e),e):t}function ur(e=[]){let t=vt(),[r,n]=nt(t),a=c.useCallback(()=>{n(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,n]);return _(a,[t,a,...e]),r}function De(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const P=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},C=e=>e&&"window"in e&&e.window===e?e:P(e).defaultView||window;function gt(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function yt(e){return gt(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let ht=!1;function me(){return ht}function E(e,t){if(!me())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:yt(r)?r=r.host:r=r.parentNode}return!1}const Q=(e=document)=>{var t;if(!me())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function g(e){return me()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function ie(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let a in n){let l=t[a],s=n[a];typeof l=="function"&&typeof s=="function"&&a[0]==="o"&&a[1]==="n"&&a.charCodeAt(2)>=65&&a.charCodeAt(2)<=90?t[a]=De(l,s):(a==="className"||a==="UNSAFE_className")&&typeof l=="string"&&typeof s=="string"?t[a]=et(l,s):a==="id"&&l&&s?t.id=$t(l,s):t[a]=s!==void 0?s:l}}return t}const mt=new Set(["id"]),Et=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Tt=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Pt=/^(data-.*)$/;function cr(e,t={}){let{labelable:r,isLink:n,propNames:a}=t,l={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(mt.has(s)||r&&Et.has(s)||n&&Tt.has(s)||a!=null&&a.has(s)||Pt.test(s))&&(l[s]=e[s]);return l}function X(e){if(wt())e.focus({preventScroll:!0});else{let t=xt(e);e.focus(),St(t)}}let te=null;function wt(){if(te==null){te=!1;try{document.createElement("div").focus({get preventScroll(){return te=!0,!0}})}catch{}}return te}function xt(e){let t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function St(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}function le(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function Ee(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function O(e){let t=null;return()=>(t==null&&(t=e()),t)}const Y=O(function(){return Ee(/^Mac/i)}),Lt=O(function(){return Ee(/^iPhone/i)}),Ae=O(function(){return Ee(/^iPad/i)||Y()&&navigator.maxTouchPoints>1}),Te=O(function(){return Lt()||Ae()}),fr=O(function(){return Y()||Te()}),kt=O(function(){return le(/AppleWebKit/i)&&!Ft()}),Ft=O(function(){return le(/Chrome/i)}),He=O(function(){return le(/Android/i)}),Ct=O(function(){return le(/Firefox/i)}),Mt=c.createContext({isNative:!0,open:Ot,useHref:e=>e});function Kt(){return c.useContext(Mt)}function z(e,t,r=!0){var n,a;let{metaKey:l,ctrlKey:s,altKey:d,shiftKey:f}=t;Ct()&&(!((a=window.event)===null||a===void 0||(n=a.type)===null||n===void 0)&&n.startsWith("key"))&&e.target==="_blank"&&(Y()?l=!0:s=!0);let $=kt()&&Y()&&!Ae()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:l,ctrlKey:s,altKey:d,shiftKey:f}):new MouseEvent("click",{metaKey:l,ctrlKey:s,altKey:d,shiftKey:f,bubbles:!0,cancelable:!0});z.isOpening=r,X(e),e.dispatchEvent($),z.isOpening=!1}z.isOpening=!1;function It(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let r=document.createElement("a");r.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(r.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(r.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(r.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(r.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(r.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(r),t(r),e.removeChild(r)}}function Ot(e,t){It(e,r=>z(r,t))}function dr(e){let t=Kt();var r;const n=t.useHref((r=e==null?void 0:e.href)!==null&&r!==void 0?r:"");return{href:e!=null&&e.href?n:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let G=new Map,pe=new Set;function xe(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let t=n=>{if(!e(n)||!n.target)return;let a=G.get(n.target);a||(a=new Set,G.set(n.target,a),n.target.addEventListener("transitioncancel",r,{once:!0})),a.add(n.propertyName)},r=n=>{if(!e(n)||!n.target)return;let a=G.get(n.target);if(a&&(a.delete(n.propertyName),a.size===0&&(n.target.removeEventListener("transitioncancel",r),G.delete(n.target)),G.size===0)){for(let l of pe)l();pe.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?xe():document.addEventListener("DOMContentLoaded",xe));function Re(e){requestAnimationFrame(()=>{G.size===0?e():pe.add(e)})}function We(){let e=c.useRef(new Map),t=c.useCallback((a,l,s,d)=>{let f=d!=null&&d.once?(...$)=>{e.current.delete(s),s(...$)}:s;e.current.set(s,{type:l,eventTarget:a,fn:f,options:d}),a.addEventListener(l,f,d)},[]),r=c.useCallback((a,l,s,d)=>{var f;let $=((f=e.current.get(s))===null||f===void 0?void 0:f.fn)||s;a.removeEventListener(l,$,d),e.current.delete(s)},[]),n=c.useCallback(()=>{e.current.forEach((a,l)=>{r(a.eventTarget,a.type,l,a.options)})},[r]);return c.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function Ue(e,t){_(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function be(e){return e.mozInputSource===0&&e.isTrusted?!0:He()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Dt(e){return!He()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}const Pe=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],At=Pe.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Pe.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Ht=Pe.join(':not([hidden]):not([tabindex="-1"]),');function Rt(e){return e.matches(At)}function pr(e){return e.matches(Ht)}function br(e,t,r){let[n,a]=c.useState(e||t),l=c.useRef(e!==void 0),s=e!==void 0;c.useEffect(()=>{let $=l.current;$!==s&&console.warn(`WARN: A component changed from ${$?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}.`),l.current=s},[s]);let d=s?e:n,f=c.useCallback(($,...b)=>{let h=(x,...w)=>{r&&(Object.is(d,x)||r(x,...w)),s||(d=x)};typeof $=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),a((w,...D)=>{let S=$(s?d:w,...D);return h(S,...b),s?w:S})):(s||a($),h($,...b))},[s,d,r]);return[d,f]}let N="default",ve="",oe=new WeakMap;function Se(e){if(Te()){if(N==="default"){const t=P(e);ve=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}N="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";oe.set(e,e.style[t]),e.style[t]="none"}}function fe(e){if(Te()){if(N!=="disabled")return;N="restoring",setTimeout(()=>{Re(()=>{if(N==="restoring"){const t=P(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=ve||""),ve="",N="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&oe.has(e)){let t=oe.get(e),r="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[r]==="none"&&(e.style[r]=t),e.getAttribute("style")===""&&e.removeAttribute("style"),oe.delete(e)}}const Ve=K.createContext({register:()=>{}});Ve.displayName="PressResponderContext";class Be{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=t}}function Ge(e){let t=c.useRef({isFocused:!1,observer:null});_(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=H(n=>{e==null||e(n)});return c.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=n.target,l=s=>{t.current.isFocused=!1,a.disabled&&r(new Be("blur",s)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",l,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let d=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:d})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:d}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let ae=!1;function Le(e){for(;e&&!Rt(e);)e=e.parentElement;let t=C(e),r=t.document.activeElement;if(!r||r===e)return;ae=!0;let n=!1,a=b=>{(b.target===r||n)&&b.stopImmediatePropagation()},l=b=>{(b.target===r||n)&&(b.stopImmediatePropagation(),!e&&!n&&(n=!0,X(r),f()))},s=b=>{(b.target===e||n)&&b.stopImmediatePropagation()},d=b=>{(b.target===e||n)&&(b.stopImmediatePropagation(),n||(n=!0,X(r),f()))};t.addEventListener("blur",a,!0),t.addEventListener("focusout",l,!0),t.addEventListener("focusin",d,!0),t.addEventListener("focus",s,!0);let f=()=>{cancelAnimationFrame($),t.removeEventListener("blur",a,!0),t.removeEventListener("focusout",l,!0),t.removeEventListener("focusin",d,!0),t.removeEventListener("focus",s,!0),ae=!1,n=!1},$=requestAnimationFrame(f);return f}function Wt(e,t){return t.get?t.get.call(e):t.value}function Ne(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function Ut(e,t){var r=Ne(e,t,"get");return Wt(e,r)}function Vt(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function ke(e,t,r){var n=Ne(e,t,"set");return Vt(e,n,r),r}function Bt(e){let t=c.useContext(Ve);if(t){let{register:r,...n}=t;e=ie(n,e),r()}return Ue(t,e.ref),e}var re=new WeakMap;class ne{continuePropagation(){ke(this,re,!1)}get shouldStopPropagation(){return Ut(this,re)}constructor(t,r,n,a){rt(this,re,{writable:!0,value:void 0}),ke(this,re,!0);var l;let s=(l=a==null?void 0:a.target)!==null&&l!==void 0?l:n.currentTarget;const d=s==null?void 0:s.getBoundingClientRect();let f,$=0,b,h=null;n.clientX!=null&&n.clientY!=null&&(b=n.clientX,h=n.clientY),d&&(b!=null&&h!=null?(f=b-d.left,$=h-d.top):(f=d.width/2,$=d.height/2)),this.type=t,this.pointerType=r,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.x=f,this.y=$}}const Fe=Symbol("linkClicked");function vr(e){let{onPress:t,onPressChange:r,onPressStart:n,onPressEnd:a,onPressUp:l,isDisabled:s,isPressed:d,preventFocusOnPress:f,shouldCancelOnPointerExit:$,allowTextSelectionOnPress:b,ref:h,...x}=Bt(e),[w,D]=c.useState(!1),S=c.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:k,removeAllGlobalListeners:Z}=We(),I=H((o,p)=>{let T=S.current;if(s||T.didFirePressStart)return!1;let u=!0;if(T.isTriggeringEvent=!0,n){let m=new ne("pressstart",p,o);n(m),u=m.shouldStopPropagation}return r&&r(!0),T.isTriggeringEvent=!1,T.didFirePressStart=!0,D(!0),u}),M=H((o,p,T=!0)=>{let u=S.current;if(!u.didFirePressStart)return!1;u.didFirePressStart=!1,u.isTriggeringEvent=!0;let m=!0;if(a){let i=new ne("pressend",p,o);a(i),m=i.shouldStopPropagation}if(r&&r(!1),D(!1),t&&T&&!s){let i=new ne("press",p,o);t(i),m&&(m=i.shouldStopPropagation)}return u.isTriggeringEvent=!1,m}),U=H((o,p)=>{let T=S.current;if(s)return!1;if(l){T.isTriggeringEvent=!0;let u=new ne("pressup",p,o);return l(u),T.isTriggeringEvent=!1,u.shouldStopPropagation}return!0}),F=H(o=>{let p=S.current;if(p.isPressed&&p.target){p.didFirePressStart&&p.pointerType!=null&&M(B(p.target,o),p.pointerType,!1),p.isPressed=!1,p.isOverTarget=!1,p.activePointerId=null,p.pointerType=null,Z(),b||fe(p.target);for(let T of p.disposables)T();p.disposables=[]}}),ee=H(o=>{$&&F(o)}),Qe=c.useMemo(()=>{let o=S.current,p={onKeyDown(u){if(de(u.nativeEvent,u.currentTarget)&&E(u.currentTarget,g(u.nativeEvent))){var m;Ke(g(u.nativeEvent),u.key)&&u.preventDefault();let i=!0;if(!o.isPressed&&!u.repeat){o.target=u.currentTarget,o.isPressed=!0,o.pointerType="keyboard",i=I(u,"keyboard");let v=u.currentTarget,y=V=>{de(V,v)&&!V.repeat&&E(v,g(V))&&o.target&&U(B(o.target,V),"keyboard")};k(P(u.currentTarget),"keyup",De(y,T),!0)}i&&u.stopPropagation(),u.metaKey&&Y()&&((m=o.metaKeyEvents)===null||m===void 0||m.set(u.key,u.nativeEvent))}else u.key==="Meta"&&(o.metaKeyEvents=new Map)},onClick(u){if(!(u&&!E(u.currentTarget,g(u.nativeEvent)))&&u&&u.button===0&&!o.isTriggeringEvent&&!z.isOpening){let m=!0;if(s&&u.preventDefault(),!o.ignoreEmulatedMouseEvents&&!o.isPressed&&(o.pointerType==="virtual"||be(u.nativeEvent))){let i=I(u,"virtual"),v=U(u,"virtual"),y=M(u,"virtual");m=i&&v&&y}else if(o.isPressed&&o.pointerType!=="keyboard"){let i=o.pointerType||u.nativeEvent.pointerType||"virtual";m=M(B(u.currentTarget,u),i,!0),o.isOverTarget=!1,F(u)}o.ignoreEmulatedMouseEvents=!1,m&&u.stopPropagation()}}},T=u=>{var m;if(o.isPressed&&o.target&&de(u,o.target)){var i;Ke(g(u),u.key)&&u.preventDefault();let y=g(u);M(B(o.target,u),"keyboard",E(o.target,g(u))),Z(),u.key!=="Enter"&&we(o.target)&&E(o.target,y)&&!u[Fe]&&(u[Fe]=!0,z(o.target,u,!1)),o.isPressed=!1,(i=o.metaKeyEvents)===null||i===void 0||i.delete(u.key)}else if(u.key==="Meta"&&(!((m=o.metaKeyEvents)===null||m===void 0)&&m.size)){var v;let y=o.metaKeyEvents;o.metaKeyEvents=void 0;for(let V of y.values())(v=o.target)===null||v===void 0||v.dispatchEvent(new KeyboardEvent("keyup",V))}};if(typeof PointerEvent<"u"){p.onPointerDown=i=>{if(i.button!==0||!E(i.currentTarget,g(i.nativeEvent)))return;if(Dt(i.nativeEvent)){o.pointerType="virtual";return}o.pointerType=i.pointerType;let v=!0;if(!o.isPressed){o.isPressed=!0,o.isOverTarget=!0,o.activePointerId=i.pointerId,o.target=i.currentTarget,b||Se(o.target),v=I(i,o.pointerType);let y=g(i.nativeEvent);"releasePointerCapture"in y&&y.releasePointerCapture(i.pointerId),k(P(i.currentTarget),"pointerup",u,!1),k(P(i.currentTarget),"pointercancel",m,!1)}v&&i.stopPropagation()},p.onMouseDown=i=>{if(E(i.currentTarget,g(i.nativeEvent))&&i.button===0){if(f){let v=Le(i.target);v&&o.disposables.push(v)}i.stopPropagation()}},p.onPointerUp=i=>{!E(i.currentTarget,g(i.nativeEvent))||o.pointerType==="virtual"||i.button===0&&U(i,o.pointerType||i.pointerType)},p.onPointerEnter=i=>{i.pointerId===o.activePointerId&&o.target&&!o.isOverTarget&&o.pointerType!=null&&(o.isOverTarget=!0,I(B(o.target,i),o.pointerType))},p.onPointerLeave=i=>{i.pointerId===o.activePointerId&&o.target&&o.isOverTarget&&o.pointerType!=null&&(o.isOverTarget=!1,M(B(o.target,i),o.pointerType,!1),ee(i))};let u=i=>{if(i.pointerId===o.activePointerId&&o.isPressed&&i.button===0&&o.target){if(E(o.target,g(i))&&o.pointerType!=null){let v=!1,y=setTimeout(()=>{o.isPressed&&o.target instanceof HTMLElement&&(v?F(i):(X(o.target),o.target.click()))},80);k(i.currentTarget,"click",()=>v=!0,!0),o.disposables.push(()=>clearTimeout(y))}else F(i);o.isOverTarget=!1}},m=i=>{F(i)};p.onDragStart=i=>{E(i.currentTarget,g(i.nativeEvent))&&F(i)}}else{p.onMouseDown=i=>{if(i.button!==0||!E(i.currentTarget,g(i.nativeEvent)))return;if(o.ignoreEmulatedMouseEvents){i.stopPropagation();return}if(o.isPressed=!0,o.isOverTarget=!0,o.target=i.currentTarget,o.pointerType=be(i.nativeEvent)?"virtual":"mouse",Ze.flushSync(()=>I(i,o.pointerType))&&i.stopPropagation(),f){let y=Le(i.target);y&&o.disposables.push(y)}k(P(i.currentTarget),"mouseup",u,!1)},p.onMouseEnter=i=>{if(!E(i.currentTarget,g(i.nativeEvent)))return;let v=!0;o.isPressed&&!o.ignoreEmulatedMouseEvents&&o.pointerType!=null&&(o.isOverTarget=!0,v=I(i,o.pointerType)),v&&i.stopPropagation()},p.onMouseLeave=i=>{if(!E(i.currentTarget,g(i.nativeEvent)))return;let v=!0;o.isPressed&&!o.ignoreEmulatedMouseEvents&&o.pointerType!=null&&(o.isOverTarget=!1,v=M(i,o.pointerType,!1),ee(i)),v&&i.stopPropagation()},p.onMouseUp=i=>{E(i.currentTarget,g(i.nativeEvent))&&!o.ignoreEmulatedMouseEvents&&i.button===0&&U(i,o.pointerType||"mouse")};let u=i=>{if(i.button===0){if(o.ignoreEmulatedMouseEvents){o.ignoreEmulatedMouseEvents=!1;return}o.target&&o.target.contains(i.target)&&o.pointerType!=null||F(i),o.isOverTarget=!1}};p.onTouchStart=i=>{if(!E(i.currentTarget,g(i.nativeEvent)))return;let v=Gt(i.nativeEvent);if(!v)return;o.activePointerId=v.identifier,o.ignoreEmulatedMouseEvents=!0,o.isOverTarget=!0,o.isPressed=!0,o.target=i.currentTarget,o.pointerType="touch",b||Se(o.target),I(A(o.target,i),o.pointerType)&&i.stopPropagation(),k(C(i.currentTarget),"scroll",m,!0)},p.onTouchMove=i=>{if(!E(i.currentTarget,g(i.nativeEvent)))return;if(!o.isPressed){i.stopPropagation();return}let v=Ce(i.nativeEvent,o.activePointerId),y=!0;v&&Me(v,i.currentTarget)?!o.isOverTarget&&o.pointerType!=null&&(o.isOverTarget=!0,y=I(A(o.target,i),o.pointerType)):o.isOverTarget&&o.pointerType!=null&&(o.isOverTarget=!1,y=M(A(o.target,i),o.pointerType,!1),ee(A(o.target,i))),y&&i.stopPropagation()},p.onTouchEnd=i=>{if(!E(i.currentTarget,g(i.nativeEvent)))return;if(!o.isPressed){i.stopPropagation();return}let v=Ce(i.nativeEvent,o.activePointerId),y=!0;v&&Me(v,i.currentTarget)&&o.pointerType!=null?(U(A(o.target,i),o.pointerType),y=M(A(o.target,i),o.pointerType)):o.isOverTarget&&o.pointerType!=null&&(y=M(A(o.target,i),o.pointerType,!1)),y&&i.stopPropagation(),o.isPressed=!1,o.activePointerId=null,o.isOverTarget=!1,o.ignoreEmulatedMouseEvents=!0,o.target&&!b&&fe(o.target),Z()},p.onTouchCancel=i=>{E(i.currentTarget,g(i.nativeEvent))&&(i.stopPropagation(),o.isPressed&&F(A(o.target,i)))};let m=i=>{o.isPressed&&E(g(i),o.target)&&F({currentTarget:o.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};p.onDragStart=i=>{E(i.currentTarget,g(i.nativeEvent))&&F(i)}}return p},[k,s,f,Z,b,F,ee,M,I,U]);return c.useEffect(()=>{let o=S.current;return()=>{var p;b||fe((p=o.target)!==null&&p!==void 0?p:void 0);for(let T of o.disposables)T();o.disposables=[]}},[b]),{isPressed:d||w,pressProps:ie(x,Qe)}}function we(e){return e.tagName==="A"&&e.hasAttribute("href")}function de(e,t){const{key:r,code:n}=e,a=t,l=a.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(a instanceof C(a).HTMLInputElement&&!je(a,r)||a instanceof C(a).HTMLTextAreaElement||a.isContentEditable)&&!((l==="link"||!l&&we(a))&&r!=="Enter")}function Gt(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function Ce(e,t){const r=e.changedTouches;for(let n=0;n<r.length;n++){const a=r[n];if(a.identifier===t)return a}return null}function A(e,t){let r=0,n=0;return t.targetTouches&&t.targetTouches.length===1&&(r=t.targetTouches[0].clientX,n=t.targetTouches[0].clientY),{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:r,clientY:n}}function B(e,t){let r=t.clientX,n=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:r,clientY:n}}function Nt(e){let t=0,r=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?r=e.height/2:e.radiusY!==void 0&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function jt(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function Me(e,t){let r=t.getBoundingClientRect(),n=Nt(e);return jt(r,n)}function Xt(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!we(e)}function Ke(e,t){return e instanceof HTMLInputElement?!je(e,t):Xt(e)}const Yt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function je(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Yt.has(e.type)}let W=null,$e=new Set,J=new Map,R=!1,ge=!1;const zt={Tab:!0,Escape:!0};function ue(e,t){for(let r of $e)r(e,t)}function _t(e){return!(e.metaKey||!Y()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function se(e){R=!0,_t(e)&&(W="keyboard",ue("keyboard",e))}function L(e){W="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(R=!0,ue("pointer",e))}function Xe(e){be(e)&&(R=!0,W="virtual")}function Ye(e){e.target===window||e.target===document||ae||!e.isTrusted||(!R&&!ge&&(W="virtual",ue("virtual",e)),R=!1,ge=!1)}function ze(){ae||(R=!1,ge=!0)}function ye(e){if(typeof window>"u"||J.get(C(e)))return;const t=C(e),r=P(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){R=!0,n.apply(this,arguments)},r.addEventListener("keydown",se,!0),r.addEventListener("keyup",se,!0),r.addEventListener("click",Xe,!0),t.addEventListener("focus",Ye,!0),t.addEventListener("blur",ze,!1),typeof PointerEvent<"u"?(r.addEventListener("pointerdown",L,!0),r.addEventListener("pointermove",L,!0),r.addEventListener("pointerup",L,!0)):(r.addEventListener("mousedown",L,!0),r.addEventListener("mousemove",L,!0),r.addEventListener("mouseup",L,!0)),t.addEventListener("beforeunload",()=>{_e(e)},{once:!0}),J.set(t,{focus:n})}const _e=(e,t)=>{const r=C(e),n=P(e);t&&n.removeEventListener("DOMContentLoaded",t),J.has(r)&&(r.HTMLElement.prototype.focus=J.get(r).focus,n.removeEventListener("keydown",se,!0),n.removeEventListener("keyup",se,!0),n.removeEventListener("click",Xe,!0),r.removeEventListener("focus",Ye,!0),r.removeEventListener("blur",ze,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",L,!0),n.removeEventListener("pointermove",L,!0),n.removeEventListener("pointerup",L,!0)):(n.removeEventListener("mousedown",L,!0),n.removeEventListener("mousemove",L,!0),n.removeEventListener("mouseup",L,!0)),J.delete(r))};function qt(e){const t=P(e);let r;return t.readyState!=="loading"?ye(e):(r=()=>{ye(e)},t.addEventListener("DOMContentLoaded",r)),()=>_e(e,r)}typeof document<"u"&&qt();function qe(){return W!=="pointer"}function Jt(){return W}function $r(e){W=e,ue(e,null)}const Qt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Zt(e,t,r){let n=P(r==null?void 0:r.target);const a=typeof window<"u"?C(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?C(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?C(r==null?void 0:r.target).HTMLElement:HTMLElement,d=typeof window<"u"?C(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof a&&!Qt.has(n.activeElement.type)||n.activeElement instanceof l||n.activeElement instanceof s&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof d&&!zt[r.key])}function er(e,t,r){ye(),c.useEffect(()=>{let n=(a,l)=>{Zt(!!(r!=null&&r.isTextInput),a,l)&&e(qe())};return $e.add(n),()=>{$e.delete(n)}},t)}function tr(e){const t=P(e),r=Q(t);if(Jt()==="virtual"){let n=r;Re(()=>{Q(t)===n&&e.isConnected&&X(e)})}else X(e)}function Je(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:a}=e;const l=c.useCallback(f=>{if(f.target===f.currentTarget)return n&&n(f),a&&a(!1),!0},[n,a]),s=Ge(l),d=c.useCallback(f=>{const $=P(f.target),b=$?Q($):Q();f.target===f.currentTarget&&b===g(f.nativeEvent)&&(r&&r(f),a&&a(!0),s(f))},[a,r,s]);return{focusProps:{onFocus:!t&&(r||a||n)?d:void 0,onBlur:!t&&(n||a)?l:void 0}}}function Ie(e){if(!e)return;let t=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){t?console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior."):t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};e(n),t&&r.stopPropagation()}}function rr(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:Ie(e.onKeyDown),onKeyUp:Ie(e.onKeyUp)}}}let nr=K.createContext(null);function or(e){let t=c.useContext(nr)||{};Ue(t,e);let{ref:r,...n}=t;return n}function gr(e,t){let{focusProps:r}=Je(e),{keyboardProps:n}=rr(e),a=ie(r,n),l=or(t),s=e.isDisabled?{}:l,d=c.useRef(e.autoFocus);c.useEffect(()=>{d.current&&t.current&&tr(t.current),d.current=!1},[t]);let f=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(f=void 0),{focusableProps:ie({...a,tabIndex:f},s)}}function ir(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:a}=e,l=c.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:d}=We(),f=c.useCallback(h=>{h.currentTarget.contains(h.target)&&l.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(l.current.isFocusWithin=!1,d(),r&&r(h),a&&a(!1))},[r,a,l,d]),$=Ge(f),b=c.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const x=P(h.target),w=Q(x);if(!l.current.isFocusWithin&&w===g(h.nativeEvent)){n&&n(h),a&&a(!0),l.current.isFocusWithin=!0,$(h);let D=h.currentTarget;s(x,"focus",S=>{if(l.current.isFocusWithin&&!E(D,S.target)){let k=new Be("blur",new x.defaultView.FocusEvent("blur",{relatedTarget:S.target}));k.target=D,k.currentTarget=D,f(k)}},{capture:!0})}},[n,a,$,s,f]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:b,onBlur:f}}}function yr(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,a=c.useRef({isFocused:!1,isFocusVisible:t||qe()}),[l,s]=c.useState(!1),[d,f]=c.useState(()=>a.current.isFocused&&a.current.isFocusVisible),$=c.useCallback(()=>f(a.current.isFocused&&a.current.isFocusVisible),[]),b=c.useCallback(w=>{a.current.isFocused=w,s(w),$()},[$]);er(w=>{a.current.isFocusVisible=w,$()},[],{isTextInput:r});let{focusProps:h}=Je({isDisabled:n,onFocusChange:b}),{focusWithinProps:x}=ir({isDisabled:!n,onFocusWithinChange:b});return{isFocused:l,isFocusVisible:d,focusProps:n?x:h}}export{H as $,tr as A,Jt as B,fr as C,Kt as D,z as E,kt as F,qe as G,dr as H,nr as I,rt as _,vr as a,gr as b,ie as c,cr as d,br as e,pt as f,_ as g,$r as h,ur as i,vt as j,yr as k,ir as l,C as m,De as n,me as o,E as p,Y as q,We as r,P as s,X as t,Q as u,g as v,He as w,Ft as x,pr as y,Rt as z};
