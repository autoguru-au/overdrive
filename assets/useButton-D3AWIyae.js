import{$ as D}from"./context-SVC3Eak1.js";import{r as k}from"./index-Cr_cdoBq.js";import{b as E,c as $,d as I}from"./useFocusRing-XIIAXUo_.js";import{$ as O}from"./useFocusable-DFbvL2zE.js";const U=Symbol.for("react-aria.i18n.locale"),M=Symbol.for("react-aria.i18n.strings");let i;class l{getStringForLocale(e,t){let a=this.getStringsForLocale(t)[e];if(!a)throw new Error(`Could not find intl message ${e} in ${t} locale`);return a}getStringsForLocale(e){let t=this.strings[e];return t||(t=W(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let t=window[U];if(i===void 0){let a=window[M];if(!a)return null;i={};for(let s in a)i[s]=new l({[t]:a[s]},t)}let r=i==null?void 0:i[e];if(!r)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(e,t="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,r])=>r)),this.defaultLocale=t}}function W(n,e,t="en-US"){if(e[n])return e[n];let r=G(n);if(e[r])return e[r];for(let a in e)if(a.startsWith(r+"-"))return e[a];return e[t]}function G(n){return Intl.Locale?new Intl.Locale(n).language:n.split("-")[0]}const p=new Map,g=new Map;class R{format(e,t){let r=this.strings.getStringForLocale(e,this.locale);return typeof r=="function"?r(t,this):r}plural(e,t,r="cardinal"){let a=t["="+e];if(a)return typeof a=="function"?a():a;let s=this.locale+":"+r,o=p.get(s);o||(o=new Intl.PluralRules(this.locale,{type:r}),p.set(s,o));let d=o.select(e);return a=t[d]||t.other,typeof a=="function"?a():a}number(e){let t=g.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),g.set(this.locale,t)),t.format(e)}select(e,t){let r=e[t]||e.other;return typeof r=="function"?r():r}constructor(e,t){this.locale=e,this.strings=t}}const h=new WeakMap;function j(n){let e=h.get(n);return e||(e=new l(n),h.set(n,e)),e}function z(n,e){return e&&l.getGlobalDictionaryForPackage(e)||j(n)}function H(n,e){let{locale:t}=D(),r=z(n,e);return k.useMemo(()=>new R(t,r),[t,r])}function J(n,e){let{elementType:t="button",isDisabled:r,onPress:a,onPressStart:s,onPressEnd:o,onPressUp:d,onPressChange:P,preventFocusOnPress:m,allowFocusWhenDisabled:y,onClick:u,href:w,target:S,rel:x,type:b="button"}=n,c;t==="button"?c={type:b,disabled:r}:c={role:"button",tabIndex:r?void 0:0,href:t==="a"&&!r?w:void 0,target:t==="a"?S:void 0,type:t==="input"?b:void 0,disabled:t==="input"?r:void 0,"aria-disabled":!r||t==="input"?void 0:r,rel:t==="a"?x:void 0};let{pressProps:v,isPressed:F}=E({onPressStart:s,onPressEnd:o,onPressChange:P,onPress:a,onPressUp:d,isDisabled:r,preventFocusOnPress:m,ref:e}),{focusableProps:f}=O(n,e);y&&(f.tabIndex=r?-1:f.tabIndex);let L=$(f,v,I(n,{labelable:!0}));return{isPressed:F,buttonProps:$(c,L,{"aria-haspopup":n["aria-haspopup"],"aria-expanded":n["aria-expanded"],"aria-controls":n["aria-controls"],"aria-pressed":n["aria-pressed"],onClick:C=>{u&&(u(C),console.warn("onClick is deprecated, please use onPress"))}})}}export{H as $,J as a};
