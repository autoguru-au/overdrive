import{r as l,e as N,A as Tr,B as Ne,h as Cr}from"./iframe-C_bA5shj.js";import{_ as Ar}from"./Portal-7HoW5O0S.js";var ee=function(){return ee=Object.assign||function(r){for(var n,t=1,u=arguments.length;t<u;t++){n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},ee.apply(this,arguments)};function kr(e,r){if(e==null)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.includes(t))continue;n[t]=e[t]}return n}function W(){return W=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},W.apply(null,arguments)}var re="data-focus-lock",Re="data-focus-lock-disabled",Lr="data-no-focus-lock",Dr="data-autofocus-inside",Wr="data-no-autofocus";function Q(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function Rr(e,r){var n=l.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(t){var u=n.value;u!==t&&(n.value=t,n.callback(t,u))}}}})[0];return n.callback=r,n.facade}var Br=typeof window<"u"?l.useLayoutEffect:l.useEffect,Se=new WeakMap;function Gr(e,r){var n=Rr(null,function(t){return e.forEach(function(u){return Q(u,t)})});return Br(function(){var t=Se.get(n);if(t){var u=new Set(t),a=new Set(e),o=n.current;u.forEach(function(i){a.has(i)||Q(i,null)}),a.forEach(function(i){u.has(i)||Q(i,o)})}Se.set(n,e)},[e]),n}var Y={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function Be(e){return e}function Ge(e,r){r===void 0&&(r=Be);var n=[],t=!1,u={read:function(){if(t)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=r(a,t);return n.push(o),function(){n=n.filter(function(i){return i!==o})}},assignSyncMedium:function(a){for(t=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(i){return a(i)},filter:function(){return n}}},assignMedium:function(a){t=!0;var o=[];if(n.length){var i=n;n=[],i.forEach(a),o=n}var d=function(){var v=o;o=[],v.forEach(a)},c=function(){return Promise.resolve().then(d)};c(),n={push:function(v){o.push(v),c()},filter:function(v){return o=o.filter(v),n}}}};return u}function ie(e,r){return r===void 0&&(r=Be),Ge(e,r)}function Ur(e){e===void 0&&(e={});var r=Ge(null);return r.options=ee({async:!0,ssr:!1},e),r}var Ue=ie({},function(e){var r=e.target,n=e.currentTarget;return{target:r,currentTarget:n}}),He=ie(),Hr=ie(),jr=Ur({async:!0,ssr:typeof document<"u"}),Vr=l.createContext(void 0),qr=[],ce=l.forwardRef(function(r,n){var t,u=l.useState(),a=u[0],o=u[1],i=l.useRef(),d=l.useRef(!1),c=l.useRef(null),v=l.useState({}),f=v[1],s=r.children,b=r.disabled,m=b===void 0?!1:b,p=r.noFocusGuards,g=p===void 0?!1:p,O=r.persistentFocus,h=O===void 0?!1:O,y=r.crossFrame,F=y===void 0?!0:y,w=r.autoFocus,M=w===void 0?!0:w;r.allowTextSelection;var H=r.group,q=r.className,vr=r.whiteList,mr=r.hasPositiveIndices,Ee=r.shards,$=Ee===void 0?qr:Ee,Oe=r.as,pr=Oe===void 0?"div":Oe,Fe=r.lockProps,br=Fe===void 0?{}:Fe,hr=r.sideCar,Ie=r.returnFocus,j=Ie===void 0?!1:Ie,yr=r.focusOptions,z=r.onActivation,K=r.onDeactivation,gr=l.useState({}),Er=gr[0],Or=l.useCallback(function(x){var T=x.captureFocusRestore;if(!c.current){var C,S=(C=document)==null?void 0:C.activeElement;c.current=S,S!==document.body&&(c.current=T(S))}i.current&&z&&z(i.current),d.current=!0,f()},[z]),Fr=l.useCallback(function(){d.current=!1,K&&K(i.current),f()},[K]),Ir=l.useCallback(function(x){var T=c.current;if(T){var C=(typeof T=="function"?T():T)||document.body,S=typeof j=="function"?j(C):j;if(S){var xe=typeof S=="object"?S:void 0;c.current=null,x?Promise.resolve().then(function(){return C.focus(xe)}):C.focus(xe)}}},[j]),wr=l.useCallback(function(x){d.current&&Ue.useMedium(x)},[]),xr=He.useMedium,Nr=l.useCallback(function(x){i.current!==x&&(i.current=x,o(x))},[]),Sr=W((t={},t[Re]=m&&"disabled",t[re]=H,t),br),we=g!==!0,Pr=we&&g!=="tail",_r=Gr([n,Nr]),Mr=l.useMemo(function(){return{observed:i,shards:$,enabled:!m,active:d.current}},[m,d.current,$,a]);return N.createElement(l.Fragment,null,we&&[N.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:m?-1:0,style:Y}),mr?N.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:m?-1:1,style:Y}):null],!m&&N.createElement(hr,{id:Er,sideCar:jr,observed:a,disabled:m,persistentFocus:h,crossFrame:F,autoFocus:M,whiteList:vr,shards:$,onActivation:Or,onDeactivation:Fr,returnFocus:Ir,focusOptions:yr,noFocusGuards:g}),N.createElement(pr,W({ref:_r},Sr,{className:q,onBlur:xr,onFocus:wr}),N.createElement(Vr.Provider,{value:Mr},s)),Pr&&N.createElement("div",{"data-focus-guard":!0,tabIndex:m?-1:0,style:Y}))});ce.propTypes={};function ne(e,r){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n},ne(e,r)}function $r(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,ne(e,r)}function R(e){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},R(e)}function zr(e,r){if(R(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,r);if(R(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Kr(e){var r=zr(e,"string");return R(r)=="symbol"?r:r+""}function Qr(e,r,n){return(r=Kr(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Yr(e,r){function n(t){return t.displayName||t.name||"Component"}return function(u){var a=[],o;function i(){o=e(a.map(function(c){return c.props})),r(o)}var d=function(c){$r(v,c);function v(){return c.apply(this,arguments)||this}v.peek=function(){return o};var f=v.prototype;return f.componentDidMount=function(){a.push(this),i()},f.componentDidUpdate=function(){i()},f.componentWillUnmount=function(){var b=a.indexOf(this);a.splice(b,1),i()},f.render=function(){return N.createElement(u,this.props)},v}(l.PureComponent);return Qr(d,"displayName","SideEffect("+n(u)+")"),d}}var I=function(e){for(var r=Array(e.length),n=0;n<e.length;++n)r[n]=e[n];return r},_=function(e){return Array.isArray(e)?e:[e]},je=function(e){return Array.isArray(e)?e[0]:e},Jr=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var r=window.getComputedStyle(e,null);return!r||!r.getPropertyValue?!1:r.getPropertyValue("display")==="none"||r.getPropertyValue("visibility")==="hidden"},Ve=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},qe=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Xr=function(e){return e.hasAttribute("inert")},Zr=function(e,r){return!e||qe(e)||!Jr(e)&&!Xr(e)&&r(Ve(e))},$e=function(e,r){var n=e.get(r);if(n!==void 0)return n;var t=Zr(r,$e.bind(void 0,e));return e.set(r,t),t},en=function(e,r){return e&&!qe(e)?tn(e)?r(Ve(e)):!1:!0},ze=function(e,r){var n=e.get(r);if(n!==void 0)return n;var t=en(r,ze.bind(void 0,e));return e.set(r,t),t},Ke=function(e){return e.dataset},rn=function(e){return e.tagName==="BUTTON"},Qe=function(e){return e.tagName==="INPUT"},Ye=function(e){return Qe(e)&&e.type==="radio"},nn=function(e){return!((Qe(e)||rn(e))&&(e.type==="hidden"||e.disabled))},tn=function(e){var r=e.getAttribute(Wr);return![!0,"true",""].includes(r)},fe=function(e){var r;return!!(e&&(!((r=Ke(e))===null||r===void 0)&&r.focusGuard))},te=function(e){return!fe(e)},un=function(e){return!!e},an=function(e,r){var n=Math.max(0,e.tabIndex),t=Math.max(0,r.tabIndex),u=n-t,a=e.index-r.index;if(u){if(!n)return 1;if(!t)return-1}return u||a},on=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},se=function(e,r,n){return I(e).map(function(t,u){var a=on(t);return{node:t,index:u,tabIndex:n&&a===-1?(t.dataset||{}).focusGuard?0:-1:a}}).filter(function(t){return!r||t.tabIndex>=0}).sort(an)},cn=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],de=cn.join(","),fn="".concat(de,", [data-focus-guard]"),Je=function(e,r){return I((e.shadowRoot||e).children).reduce(function(n,t){return n.concat(t.matches(r?fn:de)?[t]:[],Je(t))},[])},sn=function(e,r){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?L([e.contentDocument.body],r):[e]},L=function(e,r){return e.reduce(function(n,t){var u,a=Je(t,r),o=(u=[]).concat.apply(u,a.map(function(i){return sn(i,r)}));return n.concat(o,t.parentNode?I(t.parentNode.querySelectorAll(de)).filter(function(i){return i===t}):[])},[])},dn=function(e){var r=e.querySelectorAll("[".concat(Dr,"]"));return I(r).map(function(n){return L([n])}).reduce(function(n,t){return n.concat(t)},[])},le=function(e,r){return I(e).filter(function(n){return $e(r,n)}).filter(function(n){return nn(n)})},Pe=function(e,r){return r===void 0&&(r=new Map),I(e).filter(function(n){return ze(r,n)})},ve=function(e,r,n){return se(le(L(e,n),r),!0,n)},B=function(e,r){return se(le(L(e),r),!1)},ln=function(e,r){return le(dn(e),r)},P=function(e,r){return e.shadowRoot?P(e.shadowRoot,r):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,r)?!0:I(e.children).some(function(n){var t;if(n instanceof HTMLIFrameElement){var u=(t=n.contentDocument)===null||t===void 0?void 0:t.body;return u?P(u,r):!1}return P(n,r)})},vn=function(e){for(var r=new Set,n=e.length,t=0;t<n;t+=1)for(var u=t+1;u<n;u+=1){var a=e[t].compareDocumentPosition(e[u]);(a&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&r.add(u),(a&Node.DOCUMENT_POSITION_CONTAINS)>0&&r.add(t)}return e.filter(function(o,i){return!r.has(i)})},Xe=function(e){return e.parentNode?Xe(e.parentNode):e},me=function(e){var r=_(e);return r.filter(Boolean).reduce(function(n,t){var u=t.getAttribute(re);return n.push.apply(n,u?vn(I(Xe(t).querySelectorAll("[".concat(re,'="').concat(u,'"]:not([').concat(Re,'="disabled"])')))):[t]),n},[])},mn=function(e){try{return e()}catch{return}},G=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var r=e.activeElement;return r.shadowRoot?G(r.shadowRoot):r instanceof HTMLIFrameElement&&mn(function(){return r.contentWindow.document})?G(r.contentWindow.document):r}},pn=function(e,r){return e===r},bn=function(e,r){return!!I(e.querySelectorAll("iframe")).some(function(n){return pn(n,r)})},Ze=function(e,r){return r===void 0&&(r=G(je(e).ownerDocument)),!r||r.dataset&&r.dataset.focusGuard?!1:me(e).some(function(n){return P(n,r)||bn(n,r)})},hn=function(e){e===void 0&&(e=document);var r=G(e);return r?I(e.querySelectorAll("[".concat(Lr,"]"))).some(function(n){return P(n,r)}):!1},yn=function(e,r){return r.filter(Ye).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},pe=function(e,r){return Ye(e)&&e.name?yn(e,r):e},gn=function(e){var r=new Set;return e.forEach(function(n){return r.add(pe(n,e))}),e.filter(function(n){return r.has(n)})},_e=function(e){return e[0]&&e.length>1?pe(e[0],e):e[0]},Me=function(e,r){return e.indexOf(pe(r,e))},ue="NEW_FOCUS",En=function(e,r,n,t,u){var a=e.length,o=e[0],i=e[a-1],d=fe(t);if(!(t&&e.indexOf(t)>=0)){var c=t!==void 0?n.indexOf(t):-1,v=u?n.indexOf(u):c,f=u?e.indexOf(u):-1;if(c===-1)return f!==-1?f:ue;if(f===-1)return ue;var s=c-v,b=n.indexOf(o),m=n.indexOf(i),p=gn(n),g=t!==void 0?p.indexOf(t):-1,O=u?p.indexOf(u):g,h=p.filter(function(q){return q.tabIndex>=0}),y=t!==void 0?h.indexOf(t):-1,F=u?h.indexOf(u):y,w=y>=0&&F>=0?F-y:O-g;if(!s&&f>=0||r.length===0)return f;var M=Me(e,r[0]),H=Me(e,r[r.length-1]);if(c<=b&&d&&Math.abs(s)>1)return H;if(c>=m&&d&&Math.abs(s)>1)return M;if(s&&Math.abs(w)>1)return f;if(c<=b)return H;if(c>m)return M;if(s)return Math.abs(s)>1?f:(a+f+s)%a}},On=function(e){return function(r){var n,t=(n=Ke(r))===null||n===void 0?void 0:n.autofocus;return r.autofocus||t!==void 0&&t!=="false"||e.indexOf(r)>=0}},Te=function(e,r,n){var t=e.map(function(a){var o=a.node;return o}),u=Pe(t.filter(On(n)));return u&&u.length?_e(u):_e(Pe(r))},ae=function(e,r){return r===void 0&&(r=[]),r.push(e),e.parentNode&&ae(e.parentNode.host||e.parentNode,r),r},J=function(e,r){for(var n=ae(e),t=ae(r),u=0;u<n.length;u+=1){var a=n[u];if(t.indexOf(a)>=0)return a}return!1},er=function(e,r,n){var t=_(e),u=_(r),a=t[0],o=!1;return u.filter(Boolean).forEach(function(i){o=J(o||i,i)||o,n.filter(Boolean).forEach(function(d){var c=J(a,d);c&&(!o||P(c,o)?o=c:o=J(c,o))})}),o},Ce=function(e,r){return e.reduce(function(n,t){return n.concat(ln(t,r))},[])},Fn=function(e,r){var n=new Map;return r.forEach(function(t){return n.set(t.node,t)}),e.map(function(t){return n.get(t)}).filter(un)},In=function(e,r){var n=G(_(e).length>0?document:je(e).ownerDocument),t=me(e).filter(te),u=er(n||e,e,t),a=new Map,o=B(t,a),i=o.filter(function(m){var p=m.node;return te(p)});if(i[0]){var d=B([u],a).map(function(m){var p=m.node;return p}),c=Fn(d,i),v=c.map(function(m){var p=m.node;return p}),f=c.filter(function(m){var p=m.tabIndex;return p>=0}).map(function(m){var p=m.node;return p}),s=En(v,f,d,n,r);if(s===ue){var b=Te(o,f,Ce(t,a))||Te(o,v,Ce(t,a));if(b)return{node:b};console.warn("focus-lock: cannot find any node to move focus into");return}return s===void 0?s:c[s]}},wn=function(e){var r=me(e).filter(te),n=er(e,e,r),t=se(L([n],!0),!0,!0),u=L(r,!1);return t.map(function(a){var o=a.node,i=a.index;return{node:o,index:i,lockItem:u.indexOf(o)>=0,guard:fe(o)}})},be=function(e,r){e&&("focus"in e&&e.focus(r),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},X=0,Z=!1,rr=function(e,r,n){n===void 0&&(n={});var t=In(e,r);if(!Z&&t){if(X>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Z=!0,setTimeout(function(){Z=!1},1);return}X++,be(t.node,n.focusOptions),X--}};function D(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var r=e?new WeakRef(e):null;return function(){return(r==null?void 0:r.deref())||null}}var xn=function(e){if(!e)return null;for(var r=[],n=e;n&&n!==document.body;)r.push({current:D(n),parent:D(n.parentElement),left:D(n.previousElementSibling),right:D(n.nextElementSibling)}),n=n.parentElement;return{element:D(e),stack:r,ownerDocument:e.ownerDocument}},Nn=function(e){var r,n,t,u,a;if(e)for(var o=e.stack,i=e.ownerDocument,d=new Map,c=0,v=o;c<v.length;c++){var f=v[c],s=(r=f.parent)===null||r===void 0?void 0:r.call(f);if(s&&i.contains(s)){for(var b=(n=f.left)===null||n===void 0?void 0:n.call(f),m=f.current(),p=s.contains(m)?m:void 0,g=(t=f.right)===null||t===void 0?void 0:t.call(f),O=ve([s],d),h=(a=(u=p??(b==null?void 0:b.nextElementSibling))!==null&&u!==void 0?u:g)!==null&&a!==void 0?a:b;h;){for(var y=0,F=O;y<F.length;y++){var w=F[y];if(h!=null&&h.contains(w.node))return w.node}h=h.nextElementSibling}if(O.length)return O[0].node}}},nr=function(e){var r=xn(e);return function(){return Nn(r)}},Sn=function(e,r,n){if(!e||!r)return console.error("no element or scope given"),{};var t=_(r);if(t.every(function(o){return!P(o,e)}))return console.error("Active element is not contained in the scope"),{};var u=n?ve(t,new Map):B(t,new Map),a=u.findIndex(function(o){var i=o.node;return i===e});if(a!==-1)return{prev:u[a-1],next:u[a+1],first:u[0],last:u[u.length-1]}},Pn=function(e,r){var n=r?ve(_(e),new Map):B(_(e),new Map);return{first:n[0],last:n[n.length-1]}},_n=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},tr=function(e,r,n){r===void 0&&(r={});var t=_n(r),u=Sn(e,t.scope,t.onlyTabbable);if(u){var a=n(u,t.cycle);a&&be(a.node,t.focusOptions)}},Mn=function(e,r){r===void 0&&(r={}),tr(e,r,function(n,t){var u=n.next,a=n.first;return u||t&&a})},Tn=function(e,r){r===void 0&&(r={}),tr(e,r,function(n,t){var u=n.prev,a=n.last;return u||t&&a})},ur=function(e,r,n){var t,u=Pn(e,(t=r.onlyTabbable)!==null&&t!==void 0?t:!0),a=u[n];a&&be(a.node,r.focusOptions)},Cn=function(e,r){r===void 0&&(r={}),ur(e,r,"first")},An=function(e,r){r===void 0&&(r={}),ur(e,r,"last")};function he(e){setTimeout(e,1)}var kn=function(r){return r&&"current"in r?r.current:r},ar=function(){return document&&document.activeElement===document.body},Ln=function(){return ar()||hn()},A=null,E=null,Ae=function(){return null},k=null,U=!1,ye=!1,Dn=function(){return!0},Wn=function(r){return(A.whiteList||Dn)(r)},Rn=function(r,n){k={observerNode:r,portaledElement:n}},Bn=function(r){return k&&k.portaledElement===r};function ke(e,r,n,t){var u=null,a=e;do{var o=t[a];if(o.guard)o.node.dataset.focusAutoGuard&&(u=o);else if(o.lockItem){if(a!==e)return;u=null}else break}while((a+=n)!==r);u&&(u.node.tabIndex=0)}var Gn=function(r){return r?!!U:U==="meanwhile"},Un=function e(r,n,t){return n&&(n.host===r&&(!n.activeElement||t.contains(n.activeElement))||n.parentNode&&e(r,n.parentNode,t))},Hn=function(r,n){return n.some(function(t){return Un(r,t,t)})},or=function(r){return B(r,new Map)},jn=function(r){return!or([r.parentNode]).some(function(n){return n.node===r})},V=function(){var r=!1;if(A){var n=A,t=n.observed,u=n.persistentFocus,a=n.autoFocus,o=n.shards,i=n.crossFrame,d=n.focusOptions,c=n.noFocusGuards,v=t||k&&k.portaledElement;if(ar()&&E&&E!==document.body&&(!document.body.contains(E)||jn(E))){var f=Ae();f&&f.focus()}var s=document&&document.activeElement;if(v){var b=[v].concat(o.map(kn).filter(Boolean)),m=function(){if(!Gn(i)||!c||!E||ye)return!1;var y=or(b),F=y.findIndex(function(w){var M=w.node;return M===E});return F===0||F===y.length-1};if((!s||Wn(s))&&(u||m()||!Ln()||!E&&a)&&(v&&!(Ze(b)||s&&Hn(s,b)||Bn(s))&&(document&&!E&&s&&!a?(s.blur&&s.blur(),document.body.focus()):(r=rr(b,E,{focusOptions:d}),k={})),E=document&&document.activeElement,E!==document.body&&(Ae=nr(E)),U=!1),document&&s!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var p=document&&document.activeElement,g=wn(b),O=g.map(function(h){var y=h.node;return y}).indexOf(p);O>-1&&(g.filter(function(h){var y=h.guard,F=h.node;return y&&F.dataset.focusAutoGuard}).forEach(function(h){var y=h.node;return y.removeAttribute("tabIndex")}),ke(O,g.length,1,g),ke(O,-1,-1,g))}}}return r},ir=function(r){V()&&r&&(r.stopPropagation(),r.preventDefault())},ge=function(){return he(V)},Vn=function(r){var n=r.target,t=r.currentTarget;t.contains(n)||Rn(t,n)},qn=function(){return null},cr=function(){ye=!0},fr=function(){ye=!1,U="just",he(function(){U="meanwhile"})},$n=function(){document.addEventListener("focusin",ir),document.addEventListener("focusout",ge),window.addEventListener("focus",cr),window.addEventListener("blur",fr)},zn=function(){document.removeEventListener("focusin",ir),document.removeEventListener("focusout",ge),window.removeEventListener("focus",cr),window.removeEventListener("blur",fr)};function Kn(e){return e.filter(function(r){var n=r.disabled;return!n})}var sr={moveFocusInside:rr,focusInside:Ze,focusNextElement:Mn,focusPrevElement:Tn,focusFirstElement:Cn,focusLastElement:An,captureFocusRestore:nr};function Qn(e){var r=e.slice(-1)[0];r&&!A&&$n();var n=A,t=n&&r&&r.id===n.id;A=r,n&&!t&&(n.onDeactivation(),e.filter(function(u){var a=u.id;return a===n.id}).length||n.returnFocus(!r)),r?(E=null,(!t||n.observed!==r.observed)&&r.onActivation(sr),V(),he(V)):(zn(),E=null)}Ue.assignSyncMedium(Vn);He.assignMedium(ge);Hr.assignMedium(function(e){return e(sr)});const Yn=Yr(Kn,Qn)(qn);var dr=l.forwardRef(function(r,n){return N.createElement(ce,W({sideCar:Yn,ref:n},r))}),lr=ce.propTypes||{};lr.sideCar;kr(lr,["sideCar"]);dr.propTypes={};var Jn="_1psykzh0",Le="_1psykzh1",Xn="_1psykzh2",De={root:"_1psykzh3",invisible:"_1psykzh4"};const Zn=(e,r)=>{switch(r){case"OPEN_MODAL":switch(e){case"INITIAL":case"CLOSING":case"CLOSED":return"OPENING";default:return e}case"CLOSE_MODAL":switch(e){case"OPEN":case"OPENING":return"CLOSING";default:return e}case"ANIMATION_COMPLETE":switch(e){case"CLOSING":return"CLOSED";case"OPENING":return"OPEN";default:return e}default:return e}},oe=({isOpen:e,hideBackdrop:r=!1,disableBackdropClick:n=!1,ref:t,noThemedWrapper:u,container:a,onRequestClose:o,children:i})=>{const[d,c]=l.useReducer(Zn,"INITIAL"),v=Tr(f=>{f.target===f.currentTarget&&typeof o=="function"&&o("backdrop")});return l.useEffect(()=>{c(e?"OPEN_MODAL":"CLOSE_MODAL")},[e]),l.useEffect(()=>{if(d==="CLOSING"){const f=setTimeout(()=>{c("ANIMATION_COMPLETE")},300);return()=>clearTimeout(f)}return()=>{}},[d]),l.createElement(Ar,{ref:t,noThemedWrapper:u,container:a},d==="OPENING"||d==="OPEN"||d==="CLOSING"?l.createElement(dr,{returnFocus:!0,autoFocus:!1,onActivation:()=>{c("ANIMATION_COMPLETE")}},l.createElement(Ne,{"aria-hidden":"true",position:"fixed",pointerEvents:n||d==="CLOSING"?"none":void 0,opacity:d==="OPEN"?void 0:"0",backgroundColour:r?"transparent":"neutral",className:[De.root,Le,r&&De.invisible],onClick:v}),l.createElement(Ne,{role:"presentation",position:"fixed",overflow:"hidden",opacity:d==="OPEN"?void 0:"0",className:[Jn,Le,d==="OPENING"&&Xn]},i)):null)},We=e=>({onRequestClose:r,isOpen:n,...t})=>(Cr.warning(!1,"Using withModal is now an anti-pattern. Use <Modal /> instead"),l.createElement(oe,{isOpen:n,onRequestClose:r},l.createElement(e,{isOpen:n,onRequestClose:r,...t})));try{oe.displayName="Modal",oe.__docgenInfo={description:"",displayName:"Modal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},hideBackdrop:{defaultValue:{value:"false"},description:"",name:"hideBackdrop",required:!1,type:{name:"boolean"}},disableBackdropClick:{defaultValue:{value:"false"},description:"",name:"disableBackdropClick",required:!1,type:{name:"boolean"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!1,type:{name:"((e: string) => void)"}},container:{defaultValue:null,description:"",name:"container",required:!1,type:{name:"HTMLElement"}},noThemedWrapper:{defaultValue:null,description:"",name:"noThemedWrapper",required:!1,type:{name:"boolean"}}}}}catch{}try{We.displayName="withModal",We.__docgenInfo={description:"",displayName:"withModal",props:{}}}catch{}export{oe as M};
