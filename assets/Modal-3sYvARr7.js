import{r as d,R as ur}from"./index-DhrokLn_.js";import{b as or}from"./index-DuV4LTKI.js";import{B as ce}from"./Box-BNrxSn68.js";import{_ as ir}from"./Portal-1X1W0C_c.js";function cr(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,u;for(u=0;u<n.length;u++)a=n[u],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function P(){return P=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},P.apply(this,arguments)}var V="data-focus-lock",he="data-focus-lock-disabled",fr="data-no-focus-lock",sr="data-autofocus-inside",dr="data-no-autofocus";function lr(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function vr(e,r){var t=d.useState(function(){return{value:e,callback:r,facade:{get current(){return t.value},set current(n){var a=t.value;a!==n&&(t.value=n,t.callback(n,a))}}}})[0];return t.callback=r,t.facade}function mr(e,r){return vr(null,function(t){return e.forEach(function(n){return lr(n,t)})})}var U={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},j=function(){return j=Object.assign||function(r){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(r[u]=t[u])}return r},j.apply(this,arguments)};function ye(e){return e}function ge(e,r){r===void 0&&(r=ye);var t=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(u){var o=r(u,n);return t.push(o),function(){t=t.filter(function(i){return i!==o})}},assignSyncMedium:function(u){for(n=!0;t.length;){var o=t;t=[],o.forEach(u)}t={push:function(i){return u(i)},filter:function(){return t}}},assignMedium:function(u){n=!0;var o=[];if(t.length){var i=t;t=[],i.forEach(u),o=t}var c=function(){var s=o;o=[],s.forEach(u)},l=function(){return Promise.resolve().then(c)};l(),t={push:function(s){o.push(s),l()},filter:function(s){return o=o.filter(s),t}}}};return a}function Y(e,r){return r===void 0&&(r=ye),ge(e,r)}function pr(e){e===void 0&&(e={});var r=ge(null);return r.options=j({async:!0,ssr:!1},e),r}var Oe=Y({},function(e){var r=e.target,t=e.currentTarget;return{target:r,currentTarget:t}}),Ee=Y(),br=Y(),hr=pr({async:!0}),yr=[],k=d.forwardRef(function(r,t){var n,a=d.useState(),u=a[0],o=a[1],i=d.useRef(),c=d.useRef(!1),l=d.useRef(null),s=r.children,f=r.disabled,m=r.noFocusGuards,v=r.persistentFocus,p=r.crossFrame,b=r.autoFocus;r.allowTextSelection;var y=r.group,O=r.className,S=r.whiteList,He=r.hasPositiveIndices,ne=r.shards,qe=ne===void 0?yr:ne,ae=r.as,Ve=ae===void 0?"div":ae,ue=r.lockProps,je=ue===void 0?{}:ue,ze=r.sideCar,A=r.returnFocus,$e=r.focusOptions,G=r.onActivation,B=r.onDeactivation,Ke=d.useState({}),Qe=Ke[0],Ye=d.useCallback(function(){l.current=l.current||document&&document.activeElement,i.current&&G&&G(i.current),c.current=!0},[G]),Je=d.useCallback(function(){c.current=!1,B&&B(i.current)},[B]);d.useEffect(function(){f||(l.current=null)},[]);var Xe=d.useCallback(function(g){var _=l.current;if(_&&_.focus){var W=typeof A=="function"?A(_):A;if(W){var ie=typeof W=="object"?W:void 0;l.current=null,g?Promise.resolve().then(function(){return _.focus(ie)}):_.focus(ie)}}},[A]),Ze=d.useCallback(function(g){c.current&&Oe.useMedium(g)},[]),er=Ee.useMedium,rr=d.useCallback(function(g){i.current!==g&&(i.current=g,o(g))},[]),tr=P((n={},n[he]=f&&"disabled",n[V]=y,n),je),oe=m!==!0,nr=oe&&m!=="tail",ar=mr([t,rr]);return d.createElement(d.Fragment,null,oe&&[d.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:U}),He?d.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:U}):null],!f&&d.createElement(ze,{id:Qe,sideCar:hr,observed:u,disabled:f,persistentFocus:v,crossFrame:p,autoFocus:b,whiteList:S,shards:qe,onActivation:Ye,onDeactivation:Je,returnFocus:Xe,focusOptions:$e}),d.createElement(Ve,P({ref:ar},tr,{className:O,onBlur:er,onFocus:Ze}),s),nr&&d.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:U}))});k.propTypes={};k.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};function z(e,r){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z(e,r)}function gr(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,z(e,r)}function T(e){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},T(e)}function Or(e,r){if(T(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(T(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Er(e){var r=Or(e,"string");return T(r)==="symbol"?r:String(r)}function Ir(e,r,t){return r=Er(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Fr(e,r){function t(n){return n.displayName||n.name||"Component"}return function(a){var u=[],o;function i(){o=e(u.map(function(l){return l.props})),r(o)}var c=function(l){gr(s,l);function s(){return l.apply(this,arguments)||this}s.peek=function(){return o};var f=s.prototype;return f.componentDidMount=function(){u.push(this),i()},f.componentDidUpdate=function(){i()},f.componentWillUnmount=function(){var v=u.indexOf(this);u.splice(v,1),i()},f.render=function(){return ur.createElement(a,this.props)},s}(d.PureComponent);return Ir(c,"displayName","SideEffect("+t(a)+")"),c}}var h=function(e){for(var r=Array(e.length),t=0;t<e.length;++t)r[t]=e[t];return r},C=function(e){return Array.isArray(e)?e:[e]},Ie=function(e){return Array.isArray(e)?e[0]:e},Nr=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var r=window.getComputedStyle(e,null);return!r||!r.getPropertyValue?!1:r.getPropertyValue("display")==="none"||r.getPropertyValue("visibility")==="hidden"},Fe=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},Ne=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},_r=function(e,r){return!e||Ne(e)||!Nr(e)&&r(Fe(e))},_e=function(e,r){var t=e.get(r);if(t!==void 0)return t;var n=_r(r,_e.bind(void 0,e));return e.set(r,n),n},Pr=function(e,r){return e&&!Ne(e)?wr(e)?r(Fe(e)):!1:!0},Pe=function(e,r){var t=e.get(r);if(t!==void 0)return t;var n=Pr(r,Pe.bind(void 0,e));return e.set(r,n),n},Te=function(e){return e.dataset},Tr=function(e){return e.tagName==="BUTTON"},xe=function(e){return e.tagName==="INPUT"},we=function(e){return xe(e)&&e.type==="radio"},xr=function(e){return!((xe(e)||Tr(e))&&(e.type==="hidden"||e.disabled))},wr=function(e){var r=e.getAttribute(dr);return![!0,"true",""].includes(r)},J=function(e){var r;return!!(e&&(!((r=Te(e))===null||r===void 0)&&r.focusGuard))},M=function(e){return!J(e)},Sr=function(e){return!!e},Ar=function(e,r){var t=e.tabIndex-r.tabIndex,n=e.index-r.index;if(t){if(!e.tabIndex)return 1;if(!r.tabIndex)return-1}return t||n},Se=function(e,r,t){return h(e).map(function(n,a){return{node:n,index:a,tabIndex:t&&n.tabIndex===-1?(n.dataset||{}).focusGuard?0:-1:n.tabIndex}}).filter(function(n){return!r||n.tabIndex>=0}).sort(Ar)},Cr=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],X=Cr.join(","),Mr="".concat(X,", [data-focus-guard]"),Ae=function(e,r){return h((e.shadowRoot||e).children).reduce(function(t,n){return t.concat(n.matches(r?Mr:X)?[n]:[],Ae(n))},[])},Lr=function(e,r){var t;return e instanceof HTMLIFrameElement&&(!((t=e.contentDocument)===null||t===void 0)&&t.body)?D([e.contentDocument.body],r):[e]},D=function(e,r){return e.reduce(function(t,n){var a,u=Ae(n,r),o=(a=[]).concat.apply(a,u.map(function(i){return Lr(i,r)}));return t.concat(o,n.parentNode?h(n.parentNode.querySelectorAll(X)).filter(function(i){return i===n}):[])},[])},kr=function(e){var r=e.querySelectorAll("[".concat(sr,"]"));return h(r).map(function(t){return D([t])}).reduce(function(t,n){return t.concat(n)},[])},Z=function(e,r){return h(e).filter(function(t){return _e(r,t)}).filter(function(t){return xr(t)})},fe=function(e,r){return r===void 0&&(r=new Map),h(e).filter(function(t){return Pe(r,t)})},$=function(e,r,t){return Se(Z(D(e,t),r),!0,t)},se=function(e,r){return Se(Z(D(e),r),!1)},Dr=function(e,r){return Z(kr(e),r)},I=function(e,r){return e.shadowRoot?I(e.shadowRoot,r):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,r)?!0:h(e.children).some(function(t){var n;if(t instanceof HTMLIFrameElement){var a=(n=t.contentDocument)===null||n===void 0?void 0:n.body;return a?I(a,r):!1}return I(t,r)})},Gr=function(e){for(var r=new Set,t=e.length,n=0;n<t;n+=1)for(var a=n+1;a<t;a+=1){var u=e[n].compareDocumentPosition(e[a]);(u&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&r.add(a),(u&Node.DOCUMENT_POSITION_CONTAINS)>0&&r.add(n)}return e.filter(function(o,i){return!r.has(i)})},Ce=function(e){return e.parentNode?Ce(e.parentNode):e},ee=function(e){var r=C(e);return r.filter(Boolean).reduce(function(t,n){var a=n.getAttribute(V);return t.push.apply(t,a?Gr(h(Ce(n).querySelectorAll("[".concat(V,'="').concat(a,'"]:not([').concat(he,'="disabled"])')))):[n]),t},[])},Br=function(e){try{return e()}catch{return}},x=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var r=e.activeElement;return r.shadowRoot?x(r.shadowRoot):r instanceof HTMLIFrameElement&&Br(function(){return r.contentWindow.document})?x(r.contentWindow.document):r}},Wr=function(e,r){return e===r},Ur=function(e,r){return!!h(e.querySelectorAll("iframe")).some(function(t){return Wr(t,r)})},Me=function(e,r){return r===void 0&&(r=x(Ie(e).ownerDocument)),!r||r.dataset&&r.dataset.focusGuard?!1:ee(e).some(function(t){return I(t,r)||Ur(t,r)})},Rr=function(e){e===void 0&&(e=document);var r=x(e);return r?h(e.querySelectorAll("[".concat(fr,"]"))).some(function(t){return I(t,r)}):!1},Hr=function(e,r){return r.filter(we).filter(function(t){return t.name===e.name}).filter(function(t){return t.checked})[0]||e},re=function(e,r){return we(e)&&e.name?Hr(e,r):e},qr=function(e){var r=new Set;return e.forEach(function(t){return r.add(re(t,e))}),e.filter(function(t){return r.has(t)})},de=function(e){return e[0]&&e.length>1?re(e[0],e):e[0]},le=function(e,r){return e.length>1?e.indexOf(re(e[r],e)):r},Le="NEW_FOCUS",Vr=function(e,r,t,n){var a=e.length,u=e[0],o=e[a-1],i=J(t);if(!(t&&e.indexOf(t)>=0)){var c=t!==void 0?r.indexOf(t):-1,l=n?r.indexOf(n):c,s=n?e.indexOf(n):-1,f=c-l,m=r.indexOf(u),v=r.indexOf(o),p=qr(r),b=t!==void 0?p.indexOf(t):-1,y=b-(n?p.indexOf(n):c),O=le(e,0),S=le(e,a-1);if(c===-1||s===-1)return Le;if(!f&&s>=0)return s;if(c<=m&&i&&Math.abs(f)>1)return S;if(c>=v&&i&&Math.abs(f)>1)return O;if(f&&Math.abs(y)>1)return s;if(c<=m)return S;if(c>v)return O;if(f)return Math.abs(f)>1?s:(a+s+f)%a}},jr=function(e){return function(r){var t,n=(t=Te(r))===null||t===void 0?void 0:t.autofocus;return r.autofocus||n!==void 0&&n!=="false"||e.indexOf(r)>=0}},zr=function(e,r,t){var n=e.map(function(u){var o=u.node;return o}),a=fe(n.filter(jr(t)));return a&&a.length?de(a):de(fe(r))},K=function(e,r){return r===void 0&&(r=[]),r.push(e),e.parentNode&&K(e.parentNode.host||e.parentNode,r),r},R=function(e,r){for(var t=K(e),n=K(r),a=0;a<t.length;a+=1){var u=t[a];if(n.indexOf(u)>=0)return u}return!1},ke=function(e,r,t){var n=C(e),a=C(r),u=n[0],o=!1;return a.filter(Boolean).forEach(function(i){o=R(o||i,i)||o,t.filter(Boolean).forEach(function(c){var l=R(u,c);l&&(!o||I(l,o)?o=l:o=R(l,o))})}),o},$r=function(e,r){return e.reduce(function(t,n){return t.concat(Dr(n,r))},[])},Kr=function(e,r){var t=new Map;return r.forEach(function(n){return t.set(n.node,n)}),e.map(function(n){return t.get(n)}).filter(Sr)},Qr=function(e,r){var t=x(C(e).length>0?document:Ie(e).ownerDocument),n=ee(e).filter(M),a=ke(t||e,e,n),u=new Map,o=se(n,u),i=$(n,u).filter(function(v){var p=v.node;return M(p)});if(!(!i[0]&&(i=o,!i[0]))){var c=se([a],u).map(function(v){var p=v.node;return p}),l=Kr(c,i),s=l.map(function(v){var p=v.node;return p}),f=Vr(s,c,t,r);if(f===Le){var m=zr(o,s,$r(n,u));if(m)return{node:m};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:l[f]}},Yr=function(e){var r=ee(e).filter(M),t=ke(e,e,r),n=new Map,a=$([t],n,!0),u=$(r,n).filter(function(o){var i=o.node;return M(i)}).map(function(o){var i=o.node;return i});return a.map(function(o){var i=o.node,c=o.index;return{node:i,index:c,lockItem:u.indexOf(i)>=0,guard:J(i)}})},Jr=function(e,r){"focus"in e&&e.focus(r),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},H=0,q=!1,De=function(e,r,t){t===void 0&&(t={});var n=Qr(e,r);if(!q&&n){if(H>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),q=!0,setTimeout(function(){q=!1},1);return}H++,Jr(n.node,t.focusOptions),H--}};function Ge(e){var r=window,t=r.setImmediate;typeof t<"u"?t(e):setTimeout(e,1)}var Xr=function(){return document&&document.activeElement===document.body},Zr=function(){return Xr()||Rr()},F=null,E=null,N=null,w=!1,et=function(){return!0},rt=function(r){return(F.whiteList||et)(r)},tt=function(r,t){N={observerNode:r,portaledElement:t}},nt=function(r){return N&&N.portaledElement===r};function ve(e,r,t,n){var a=null,u=e;do{var o=n[u];if(o.guard)o.node.dataset.focusAutoGuard&&(a=o);else if(o.lockItem){if(u!==e)return;a=null}else break}while((u+=t)!==r);a&&(a.node.tabIndex=0)}var at=function(r){return r&&"current"in r?r.current:r},ut=function(r){return r?!!w:w==="meanwhile"},ot=function e(r,t,n){return t&&(t.host===r&&(!t.activeElement||n.contains(t.activeElement))||t.parentNode&&e(r,t.parentNode,n))},it=function(r,t){return t.some(function(n){return ot(r,n,n)})},L=function(){var r=!1;if(F){var t=F,n=t.observed,a=t.persistentFocus,u=t.autoFocus,o=t.shards,i=t.crossFrame,c=t.focusOptions,l=n||N&&N.portaledElement,s=document&&document.activeElement;if(l){var f=[l].concat(o.map(at).filter(Boolean));if((!s||rt(s))&&(a||ut(i)||!Zr()||!E&&u)&&(l&&!(Me(f)||s&&it(s,f)||nt(s))&&(document&&!E&&s&&!u?(s.blur&&s.blur(),document.body.focus()):(r=De(f,E,{focusOptions:c}),N={})),w=!1,E=document&&document.activeElement),document){var m=document&&document.activeElement,v=Yr(f),p=v.map(function(b){var y=b.node;return y}).indexOf(m);p>-1&&(v.filter(function(b){var y=b.guard,O=b.node;return y&&O.dataset.focusAutoGuard}).forEach(function(b){var y=b.node;return y.removeAttribute("tabIndex")}),ve(p,v.length,1,v),ve(p,-1,-1,v))}}}return r},Be=function(r){L()&&r&&(r.stopPropagation(),r.preventDefault())},te=function(){return Ge(L)},ct=function(r){var t=r.target,n=r.currentTarget;n.contains(t)||tt(n,t)},ft=function(){return null},We=function(){w="just",setTimeout(function(){w="meanwhile"},0)},st=function(){document.addEventListener("focusin",Be),document.addEventListener("focusout",te),window.addEventListener("blur",We)},dt=function(){document.removeEventListener("focusin",Be),document.removeEventListener("focusout",te),window.removeEventListener("blur",We)};function lt(e){return e.filter(function(r){var t=r.disabled;return!t})}function vt(e){var r=e.slice(-1)[0];r&&!F&&st();var t=F,n=t&&r&&r.id===t.id;F=r,t&&!n&&(t.onDeactivation(),e.filter(function(a){var u=a.id;return u===t.id}).length||t.returnFocus(!r)),r?(E=null,(!n||t.observed!==r.observed)&&r.onActivation(),L(),Ge(L)):(dt(),E=null)}Oe.assignSyncMedium(ct);Ee.assignMedium(te);br.assignMedium(function(e){return e({moveFocusInside:De,focusInside:Me})});const mt=Fr(lt,vt)(ft);var Ue=d.forwardRef(function(r,t){return d.createElement(k,P({sideCar:mt,ref:t},r))}),Re=k.propTypes||{};Re.sideCar;cr(Re,["sideCar"]);Ue.propTypes={};var pt="_1psykzh0",me="_1psykzh1",bt="_1psykzh2",pe={root:"_1psykzh3",invisible:"_1psykzh4"};const ht=(e,r)=>{switch(r){case"OPEN_MODAL":switch(e){case"INITIAL":case"CLOSING":case"CLOSED":return"OPENING";default:return e}case"CLOSE_MODAL":switch(e){case"OPEN":case"OPENING":return"CLOSING";default:return e}case"ANIMATION_COMPLETE":switch(e){case"CLOSING":return"CLOSED";case"OPENING":return"OPEN";default:return e}default:return e}},Q=({isOpen:e,hideBackdrop:r=!1,disableBackdropClick:t=!1,ref:n,noThemedWrapper:a,container:u,onRequestClose:o,children:i})=>{const[c,l]=d.useReducer(ht,"INITIAL"),s=or(f=>{f.target===f.currentTarget&&typeof o=="function"&&o("backdrop")});return d.useEffect(()=>{l(e?"OPEN_MODAL":"CLOSE_MODAL")},[e]),d.useEffect(()=>{if(c==="CLOSING"){const f=setTimeout(()=>{l("ANIMATION_COMPLETE")},300);return()=>clearTimeout(f)}},[c]),d.createElement(ir,{ref:n,noThemedWrapper:a,container:u},c==="OPENING"||c==="OPEN"||c==="CLOSING"?d.createElement(Ue,{returnFocus:!0,autoFocus:!1,onActivation:()=>{l("ANIMATION_COMPLETE")}},d.createElement(ce,{"aria-hidden":"true",position:"fixed",pointerEvents:t||c==="CLOSING"?"none":void 0,opacity:c==="OPEN"?void 0:0,backgroundColour:r?"transparent":"neutral",className:[pe.root,me,r&&pe.invisible],onClick:s}),d.createElement(ce,{role:"presentation",position:"fixed",overflow:"hidden",opacity:c==="OPEN"?void 0:0,className:[pt,me,c==="OPENING"&&bt]},i)):null)},be=e=>({onRequestClose:r,isOpen:t,...n})=>d.createElement(Q,{isOpen:t,onRequestClose:r},d.createElement(e,{isOpen:t,onRequestClose:r,...n}));try{Q.displayName="Modal",Q.__docgenInfo={description:"",displayName:"Modal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},hideBackdrop:{defaultValue:{value:"false"},description:"",name:"hideBackdrop",required:!1,type:{name:"boolean"}},disableBackdropClick:{defaultValue:{value:"false"},description:"",name:"disableBackdropClick",required:!1,type:{name:"boolean"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!1,type:{name:"((e: string) => void)"}},container:{defaultValue:null,description:"",name:"container",required:!1,type:{name:"HTMLElement"}},noThemedWrapper:{defaultValue:null,description:"",name:"noThemedWrapper",required:!1,type:{name:"boolean"}}}}}catch{}try{be.displayName="withModal",be.__docgenInfo={description:"",displayName:"withModal",props:{}}}catch{}export{Q as M};
