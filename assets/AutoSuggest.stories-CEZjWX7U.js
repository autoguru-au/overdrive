import{r as o,i as Z,l as F,e as a,I as ee,B as b,c as Y,j as W}from"./iframe-C5x-mm7q.js";import{a as G}from"./argTypes-BJ6MF0mA.js";import{u as te}from"./useMedia-D9eXmWIi.js";import{B as ae}from"./Button--_eamnxu.js";import{I as C}from"./Icon-BmkmqnM-.js";import{_ as le}from"./Portal-DT5hvnae.js";import{E as ne,P as re}from"./Positioner-C6qAfAU0.js";import{T as oe}from"./Text-B_TnC6LV.js";import{I as U}from"./CloseIcon-BWG5UlwO.js";import{w as ue}from"./withEnhancedInput-BX-gIhVg.js";import{I as ie}from"./ChevronDownIcon-pnXF0Ql6.js";import{a as se}from"./PhoneIcon-DeLHAJ9_.js";import"./preload-helper-D9Z9MdNV.js";import"./CheckIcon-BIAlVPN_.js";import"./StarIcon-CkwbI9fm.js";import"./PlusIcon-DU0uriCB.js";import"./CurrencyUsdIcon-Bpr8djH5.js";import"./AlertCircleIcon-CfZtY4EX.js";import"./MagnifyIcon-CS7s1O1B.js";import"./ProgressSpinner-CBrwSGmV.js";import"./resolveResponsiveProps-BvoLHqG9.js";import"./index-7ZWYOw53.js";import"./index-BzuOdlP7.js";import"./withEnhancedInput.css-CiC-OnHs.js";const ce=()=>o.useEffect(()=>{const e=window.scrollY;return document.documentElement.style.position="fixed",document.documentElement.style.overflow="hidden",document.documentElement.style.maxHeight="100%",document.documentElement.style.width="100%",()=>{document.documentElement.style.position="",document.documentElement.style.overflow="",document.documentElement.style.maxHeight="",document.documentElement.style.width="",window.scrollTo(0,e)}},[]);var de="xqmg0q0",H={defaults:"xqmg0q1",blockOptions:"xqmg0q2",inlineOptions:"xqmg0q3",inlineOptionsNoScroll:"xqmg0q4"},pe="xqmg0q5",me="xqmg0q6",fe="xqmg0q7",ge="xqmg0q8",$="xqmg0q9",ve="xqmg0qa",j={default:"xqmg0qb",skipped:"xqmg0qc"},he="xqmg0qd";const ye=(e,t,u)=>{Z&&o.useLayoutEffect(()=>{if(t.current&&u.current&&e>-1){const l=t.current,n=u.current,i=l.offsetParent===n?l.offsetTop:l.offsetTop-n.offsetTop;let{scrollTop:r}=n;const{offsetHeight:s}=n;i<r?r=i:i+l.offsetHeight>r+s&&(r=i+l.offsetHeight-s),r!==r&&(n.scrollTop=r)}},[e,t,u])},xe=e=>(t,u)=>{switch(u.type){default:case 0:return{isFlyoutOpen:!0,highlightIndex:-1,previewText:null};case 7:case 9:case 1:case 4:return{isFlyoutOpen:!1,highlightIndex:-1,previewText:null};case 3:return{...t,isFlyoutOpen:e.length>-1};case 5:{const l=P(1,t.highlightIndex,e);return{isFlyoutOpen:!0,highlightIndex:l,previewText:l>-1?e[l].text:null}}case 6:{const l=P(1,-1,e);if(t.highlightIndex===l)return{isFlyoutOpen:!0,highlightIndex:-1,previewText:null};const n=P(-1,t.highlightIndex,e);return{isFlyoutOpen:!0,highlightIndex:n,previewText:n>-1?e[n].text:null}}case 8:return{...t,highlightIndex:u.index};case 2:return t.highlightIndex>-1?{highlightIndex:-1,previewText:null,isFlyoutOpen:!1}:t}},D=o.forwardRef(function({autoFocus:t=!1,autoWidth:u=!1,inlineOptions:l=!1,fieldIcon:n,suggestions:i,value:r,onChange:s,onEnter:v,itemRenderer:m=X,onBlur:c,onFocus:p,onKeyDown:f,onClick:y,...k},T){const q=o.useRef(null),w=o.useRef(r);o.useImperativeHandle(T,()=>q.current);const[h]=te(["desktop"],!1),[O,g]=o.useState(!1),[R,x]=o.useState(!1),E=o.useCallback(()=>{x(!1),g(!1)},[x]);r&&r!==w.current&&(w.current=r,r.payload&&E());const L={suggestions:i,value:w.current,onChange:d=>{d.payload!==void 0&&d.payload!==null&&(x(!1),h||g(!1)),typeof s=="function"&&s(d)},onKeyUp:d=>{d.key==="Enter"&&typeof v=="function"&&(x(!1),g(!1),q.current?.blur(),v(w.current))},itemRenderer:m,onKeyDown:f,onClick:y,onFocus:F.wrapEvent(()=>{g(!0),x(!0)},p),onBlur:F.wrapEvent(()=>g(!1),c),...k};return!l&&!h&&R?a.createElement(Ee,{...L,attach:"NONE",borderMerged:"NONE",isFocused:O,inlineOptions:!0,fieldIcon:n,autoFocus:t,closeModal:E}):a.createElement(J,{ref:q,...L,isFocused:O,inlineOptions:l,fieldIcon:n,autoFocus:t,autoWidth:u})}),Ee=o.forwardRef(function({closeModal:t,...u},l){const[n,i]=o.useState(!1);return ce(),o.useEffect(()=>{const r=requestAnimationFrame(()=>i(!0));return()=>{cancelAnimationFrame(r)}},[i]),n?a.createElement(le,null,a.createElement("div",{className:de},a.createElement(J,{ref:l,...u,className:fe,inlineOptions:!0,noScroll:!0}),a.createElement(ae,{minimal:!0,rounded:!0,className:ge,size:"medium",onClick:t},a.createElement(C,{icon:U})))):null}),J=o.forwardRef(function({inlineOptions:t=!1,noScroll:u=!1,isFocused:l=!1,size:n,fieldIcon:i,isLoading:r,autoFocus:s,autoWidth:v,suggestions:m,value:c,onChange:p,itemRenderer:f=X,onBlur:y,onFocus:k,onKeyDown:T,onClick:q,className:w,...h},O){const g=o.useRef(null),R=o.useRef(null),x=o.useRef(null),E=ee(),L=o.useMemo(()=>xe(m),[m]),[d,I]=o.useReducer(L,{highlightIndex:-1,previewText:null,isFlyoutOpen:!1}),z=m.length>0&&d.isFlyoutOpen;return ye(d.highlightIndex,R,x),a.createElement(b,{role:"combobox","aria-label":h.placeholder,"aria-expanded":z,"aria-owns":E,"aria-haspopup":"listbox",width:"full"},a.createElement(b,{backgroundColour:"white",borderRadius:"sm",className:me},a.createElement(Ie,{className:w,size:n,isFocused:l,isLoading:r,autoFocus:s,fieldIcon:i,wrapperRef:g,...h,ref:O,"aria-autocomplete":"list","aria-controls":E,"aria-activedescendant":d.highlightIndex>-1?Q(E,d.highlightIndex):void 0,value:d.previewText??c?.text,onReset:()=>{I({type:0}),typeof p=="function"&&p({text:"",payload:void 0})},onChange:S=>{I({type:0}),typeof p=="function"&&p({text:S.target.value,payload:void 0})},onFocus:F.wrapEvent(()=>I({type:3}),k),onBlur:F.wrapEvent(()=>{d.highlightIndex>-1&&d.highlightIndex&&d.previewText===m[d.highlightIndex]?.text&&typeof p=="function"&&p(m[d.highlightIndex]),I({type:4})},y),onKeyDown:F.wrapEvent(S=>{switch(S.key){case"ArrowUp":case"ArrowDown":{S.preventDefault(),I({type:S.key==="ArrowDown"?5:6});return}case"Enter":{d.highlightIndex>-1&&(S.preventDefault(),typeof p=="function"&&p(m[d.highlightIndex])),I({type:2});return}case"Escape":I({type:1})}},T)})),t?a.createElement(K,{suggestionListRef:x,suggestionListId:E,placeholder:h.placeholder,highlightIndex:d.highlightIndex,suggestions:m,highlightRef:R,itemRenderer:f,className:u?H.inlineOptionsNoScroll:H.inlineOptions,dispatch:I,onChange:p}):a.createElement(be,{id:E,autoWidth:v,triggerRef:g,alignment:ne.BOTTOM_LEFT,isOpen:z,triggerOffset:1},a.createElement(K,{className:H.blockOptions,suggestionListRef:x,suggestionListId:E,placeholder:h.placeholder,highlightIndex:d.highlightIndex,suggestions:m,highlightRef:R,itemRenderer:f,dispatch:I,onChange:p})))}),K=({className:e="",suggestionListId:t,placeholder:u,highlightIndex:l,suggestions:n,highlightRef:i,itemRenderer:r,onChange:s,dispatch:v,suggestionListRef:m})=>a.createElement(b,{as:"ul",ref:m,backgroundColour:"white",className:[H.defaults,e],id:t,"aria-label":u,role:"listbox"},a.createElement("div",{className:$}),n.map((c,p)=>{const f=l===p;return a.createElement(b,{as:"li",key:c.text.concat(String(p)),ref:f?i:void 0,id:Q(t,p),role:"option","aria-selected":f,"aria-label":c.text,className:Y(j.default,{[j.skipped]:c.skip}),onMouseDown:y=>y.preventDefault(),onMouseMove:()=>{c.skip||v({type:8,index:p})},onClick:()=>{c.skip||(typeof s=="function"&&s(c),v({type:9}))}},typeof r=="function"&&r({suggestions:n,highlight:f,value:c}))}),a.createElement("div",{className:$})),Ie=ue(({field:{className:e,...t},eventHandlers:u,validation:l,suffixed:n,prefixed:i,isLoading:r,fieldIcon:s=ie,isFocused:v,className:m,size:c,...p})=>{let f;const y=o.useRef(null),k=o.useCallback(()=>{y.current?.focus()},[]),{onReset:T,...q}=u,w=o.useCallback(g=>{t.ref&&W(t.ref,g),W(y,g)},[t]),h=o.useCallback(()=>{typeof T=="function"&&T(),f=setTimeout(()=>y.current?.focus(),100)},[T,f]),O=o.useMemo(()=>r?null:t.value&&v?a.createElement(b,{as:"button",paddingY:c==="small"?"1":"3",paddingRight:c==="small"?"2":"3",flexShrink:0,onMouseDown:h},a.createElement(C,{size:c==="large"?c:"medium",icon:U})):s?a.createElement(b,{flexShrink:0,paddingY:c==="medium"?"3":"2",paddingRight:c==="medium"?"3":"2",onClick:k},a.createElement(C,{size:c==="large"?c:"medium",icon:s})):null,[t.value,r,s,v,h]);return o.useEffect(()=>()=>f?clearTimeout(f):void 0,[]),a.createElement(b,{display:"flex",flexWrap:"nowrap",alignItems:"center",justifyContent:"center",className:m},a.createElement(b,{as:"input",flexGrow:1,...q,...t,ref:w,autoCapitalize:"none",spellCheck:"false",autoComplete:"off",className:[e,pe],...p,type:"search"}),O)},{primitiveType:"text",withPrefixIcon:!0,withSuffixIcon:!1}),Q=(e,t)=>`${e}-option-${t}`,be=({id:e,alignment:t,isOpen:u,triggerOffset:l,triggerRef:n,autoWidth:i,children:r})=>a.createElement(re,{id:e,triggerRef:n,alignment:t,isOpen:u,triggerOffset:l,role:"listbox"},a.createElement(b,{borderWidth:"1",borderColour:"gray",borderRadius:"md",backgroundColour:"white",boxShadow:"4",style:{width:n.current&&!i?n.current.clientWidth:void 0},onMouseDown:s=>s.preventDefault()},r)),X=({value:e,highlight:t})=>a.createElement(we,{highlight:t,text:e.text}),we=({text:e,highlight:t})=>a.createElement("div",{className:Y(ve,{[he]:t})},a.createElement(oe,{as:"span"},e)),P=(e,t,u)=>{if(!Array.isArray(u)||u.length===0)return-1;const l=u.length-1;let n=-1,i=-1,r;do{++n;const s=Math.trunc((i===-1?t:i)+e);s<0?i=s>l?0:l:i=s>l?0:s,r=u[i]?.skip??!1}while(r&&n<=l);return n>l?-1:i};try{D.displayName="AutoSuggest",D.__docgenInfo={description:"",displayName:"AutoSuggest",props:{autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},autoWidth:{defaultValue:null,description:"",name:"autoWidth",required:!1,type:{name:"boolean"}},inlineOptions:{defaultValue:null,description:"",name:"inlineOptions",required:!1,type:{name:"boolean"}},fieldIcon:{defaultValue:null,description:"",name:"fieldIcon",required:!1,type:{name:"IconType"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"AutoSuggestValue<PayloadType> | null"}},suggestions:{defaultValue:null,description:"",name:"suggestions",required:!0,type:{name:"Suggestions<PayloadType>"}},itemRenderer:{defaultValue:null,description:"",name:"itemRenderer",required:!1,type:{name:"AutoSuggestItemRenderer<PayloadType>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: AutoSuggestValue<PayloadType>) => void)"}},onEnter:{defaultValue:null,description:"",name:"onEnter",required:!1,type:{name:"((value: AutoSuggestValue<PayloadType>) => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}},backgroundColour:{defaultValue:null,description:"",name:"backgroundColour",required:!1,type:{name:"enum",value:[{value:'"transparent"'},{value:'"white"'},{value:'"black900"'},{value:'"black800"'},{value:'"black700"'},{value:'"black600"'},{value:'"black500"'},{value:'"black400"'},{value:'"black300"'},{value:'"black200"'},{value:'"black100"'},{value:'"blue900"'},{value:'"blue800"'},{value:'"blue700"'},{value:'"blue600"'},{value:'"blue500"'},{value:'"blue400"'},{value:'"blue300"'},{value:'"blue200"'},{value:'"blue100"'},{value:'"gray900"'},{value:'"gray800"'},{value:'"gray700"'},{value:'"gray600"'},{value:'"gray500"'},{value:'"gray400"'},{value:'"gray300"'},{value:'"gray200"'},{value:'"gray100"'},{value:'"green900"'},{value:'"green800"'},{value:'"green700"'},{value:'"green600"'},{value:'"green500"'},{value:'"green400"'},{value:'"green300"'},{value:'"green200"'},{value:'"green100"'},{value:'"red900"'},{value:'"red800"'},{value:'"red700"'},{value:'"red600"'},{value:'"red500"'},{value:'"red400"'},{value:'"red300"'},{value:'"red200"'},{value:'"red100"'},{value:'"yellow900"'},{value:'"yellow800"'},{value:'"yellow700"'},{value:'"yellow600"'},{value:'"yellow500"'},{value:'"yellow400"'},{value:'"yellow300"'},{value:'"yellow200"'},{value:'"yellow100"'},{value:'"success"'},{value:'"danger"'},{value:'"warning"'},{value:'"neutral"'},{value:'"primary"'},{value:'"brand"'},{value:'"secondary"'},{value:'"shine"'},{value:'"information"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},attach:{defaultValue:null,description:"",name:"attach",required:!1,type:{name:"enum",value:[{value:'"ALL"'},{value:'"BOTTOM"'},{value:'"LEFT"'},{value:'"NONE"'},{value:'"RIGHT"'},{value:'"TOP"'}]}},borderMerged:{defaultValue:null,description:"",name:"borderMerged",required:!1,type:{name:"enum",value:[{value:'"ALL"'},{value:'"BOTTOM"'},{value:'"LEFT"'},{value:'"NONE"'},{value:'"RIGHT"'},{value:'"TOP"'}]}},isFocused:{defaultValue:null,description:"",name:"isFocused",required:!1,type:{name:"boolean"}},hintText:{defaultValue:null,description:"",name:"hintText",required:!1,type:{name:"ReactNode"}},notch:{defaultValue:null,description:"",name:"notch",required:!1,type:{name:"boolean"}},reserveHintSpace:{defaultValue:null,description:"",name:"reserveHintSpace",required:!1,type:{name:"boolean"}},prefixIcon:{defaultValue:null,description:"",name:"prefixIcon",required:!1,type:{name:"IconType"}},wrapperRef:{defaultValue:null,description:"",name:"wrapperRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},isTouched:{defaultValue:null,description:"",name:"isTouched",required:!1,type:{name:"boolean"}},isValid:{defaultValue:null,description:"",name:"isValid",required:!1,type:{name:"boolean"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLInputElement>"}}}}}catch{}const{action:N}=__STORYBOOK_MODULE_ACTIONS__,_=["Alfa Romeo","Aston Martin","Bentley","BMW","Bugatti","Ferrari","Jaguar","Koenigsegg","Lamborghini","Lotus","Maserati","McLaren","Pontiac","Porsche"].map(e=>({text:e,payload:e})),Te={NONE:"NONE",TOP:"TOP",RIGHT:"RIGHT",LEFT:"LEFT",BOTTOM:"BOTTOM",ALL:"ALL"},Ue={title:"Forms & Input Fields/Auto Suggest",component:D,decorators:[e=>a.createElement("div",{style:{minHeight:"420px"}},a.createElement(e,null))],args:{value:_[3],suggestions:_,disabled:void 0,name:"text",placeholder:"Pick an exotic car brand",isValid:void 0,isTouched:void 0,isLoading:void 0,isFocused:void 0,reserveHintSpace:void 0,hintText:"",notch:!0,prefixIcon:se,onReset:()=>N("onReset")(),onChange:e=>N("onChange")(e),onEnter:e=>N("onEnter")(e),onFocus:e=>N("onFocus")(e),onBlur:e=>N("onBlur")(e)},argTypes:{value:{options:{unselected:null,...Object.fromEntries(_.map(e=>[e.text,e]))},defaultValue:null,control:{type:"select"}},attach:{defaultValue:"NONE",description:"Input attach",options:Object.values(Te),control:{type:"select"}},fieldIcon:{defaultValue:null,description:"Input field Icon",...G},prefixIcon:{defaultValue:null,description:"Input prefix Icon",...G},wrapperRef:{control:{disable:!0}},ref:{control:{disable:!0}}}},V={},A={args:{size:"large"}},M={args:{size:"small"}},B={args:{isLoading:!0}};V.parameters={...V.parameters,docs:{...V.parameters?.docs,source:{originalSource:"{}",...V.parameters?.docs?.source},description:{story:`Additional examples of shared input field states and variants can be seen in
[Text Input](/docs/forms-input-fields-text-input--docs)`,...V.parameters?.docs?.description}}};A.parameters={...A.parameters,docs:{...A.parameters?.docs,source:{originalSource:`{
  args: {
    size: 'large'
  }
}`,...A.parameters?.docs?.source}}};M.parameters={...M.parameters,docs:{...M.parameters?.docs,source:{originalSource:`{
  args: {
    size: 'small'
  }
}`,...M.parameters?.docs?.source}}};B.parameters={...B.parameters,docs:{...B.parameters?.docs,source:{originalSource:`{
  args: {
    isLoading: true
  }
}`,...B.parameters?.docs?.source}}};const Je=["Standard","LargeSize","SmallSize","Loading"];export{A as LargeSize,B as Loading,M as SmallSize,V as Standard,Je as __namedExportsOrder,Ue as default};
