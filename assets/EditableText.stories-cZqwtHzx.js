import{i as se}from"./isChromatic-AKtkhq4f.js";import{r as t}from"./index-sWIihdb-.js";import{B as C,c as w}from"./Box-D0fGWDzz.js";import{i as ne}from"./withEnhancedInput.css-BTc3Xi2m.js";import{u as ue}from"./useTextStyles-v_jGj5tR.js";import{T as le}from"./Text-Bv9QBZQf.js";import"./_commonjsHelpers-C932wzq6.js";var ce="_1iskjcs0",ie="_1iskjcs1",pe="_1iskjcs2";const de=/^\d*\.?\d*$/,b=t.forwardRef(({is:a,colour:r="muted",size:o,display:n="inlineBlock",value:s,onFocus:u,onBlur:h,onKeyDown:S,onModeChange:P,tabIndex:Q=0,onChange:x,type:v="text",...Z},O)=>{var V;const y=t.useRef(null),E=t.useRef(null),[l,ee]=t.useState("TEXT"),[_,k]=t.useState(s),g=e=>{ee(e),typeof P=="function"&&P(e)},te=t.useCallback(e=>{const T=e.currentTarget.value,oe=T.charAt(T.length-1);v==="number"&&!de.test(oe)||(l==="INPUT"&&k(T),typeof x=="function"&&x(e))},[x,v,l]),N=ue({is:a,colour:r,size:o}),[ae,re]=t.useState();return t.useEffect(()=>{y.current&&re(y.current.clientWidth)},[y.current,_]),t.createElement(C,{ref:O,display:n,tabIndex:Q,position:"relative",className:ce,onClick:()=>g("INPUT"),onFocus:e=>{typeof u=="function"&&u(e),k(s),g("INPUT")},onBlur:e=>{typeof h=="function"&&h(e),g("TEXT")},onKeyDown:e=>{typeof S=="function"&&S(e),(e.key==="Enter"||e.key==="Escape")&&g("TEXT")}},l==="INPUT"&&t.createElement(C,{is:"input",...Z,autoFocus:!0,ref:E,type:v==="number"?"text":v,value:_,className:w(N,ne.itself.root),onChange:te,style:{width:ae}}),t.createElement(le,{noWrap:!0,ref:y,is:a,colour:r,size:o,className:w(N,ie,{[pe]:l==="INPUT"})},l==="INPUT"&&((V=E.current)==null?void 0:V.value)||s))});try{b.displayName="EditableText",b.__docgenInfo={description:"",displayName:"EditableText",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onModeChange:{defaultValue:null,description:"",name:"onModeChange",required:!1,type:{name:"((mode: InputMode) => void)"}},is:{defaultValue:null,description:"",name:"is",required:!1,type:{name:"enum",value:[{value:'"span"'},{value:'"p"'}]}},colour:{defaultValue:{value:"muted"},description:"",name:"colour",required:!1,type:{name:"enum",value:[{value:'"muted"'},{value:'"link"'},{value:'"unset"'},{value:'"white"'},{value:'"dark"'},{value:'"light"'},{value:'"primary"'},{value:'"brand"'},{value:'"secondary"'},{value:'"shine"'},{value:'"neutral"'},{value:'"danger"'},{value:'"warning"'},{value:'"success"'},{value:'"information"'}]}},noWrap:{defaultValue:null,description:"",name:"noWrap",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'},{value:'"5"'},{value:'"6"'},{value:'"7"'},{value:'"8"'},{value:'"9"'}]}},display:{defaultValue:{value:"inlineBlock"},description:"",name:"display",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"flex"'},{value:'"grid"'},{value:'"contents"'},{value:'"block"'},{value:'"inlineFlex"'},{value:'"inline"'},{value:'"inlineBlock"'}]}}}}}catch{}const Se={title:"Components/Inputs/EditableText",component:b,argTypes:{colour:{options:["muted","primary","secondary"],defaultValue:"primary",control:{type:"select"}}}},f=({onChange:a,value:r,...o})=>{const[n,s]=t.useState(r);return t.createElement(b,{onChange:u=>{s(u.currentTarget.value),typeof a=="function"&&a(u.currentTarget.value)},value:n,...o})},Y={colour:"muted",value:"Hello World",type:"text"},G={colour:"muted",value:"20",type:"number"},me=(a=new Date)=>{const r=a.getFullYear(),o=(a.getMonth()+1).toString().padStart(2,"0"),n=a.getDate().toString().padStart(2,"0");return`${r}-${o}-${n}`},fe=me(se()?new Date(2019,5,1):new Date),J={colour:"muted",value:fe,type:"date"},K={colour:"muted",value:"Price is $111.01",type:"text"},L={colour:"warning",value:"$999.99",type:"text",size:"6"},c=f.bind(Y),i=f.bind(G),p=f.bind(J),d=f.bind(K),m=f.bind(L);c.args=Y;i.args=G;p.args=J;d.args=K;m.args=L;var I,q,$;c.parameters={...c.parameters,docs:{...(I=c.parameters)==null?void 0:I.docs,source:{originalSource:"template.bind(textProps)",...($=(q=c.parameters)==null?void 0:q.docs)==null?void 0:$.source}}};var z,R,U;i.parameters={...i.parameters,docs:{...(z=i.parameters)==null?void 0:z.docs,source:{originalSource:"template.bind(numberProps)",...(U=(R=i.parameters)==null?void 0:R.docs)==null?void 0:U.source}}};var W,B,D;p.parameters={...p.parameters,docs:{...(W=p.parameters)==null?void 0:W.docs,source:{originalSource:"template.bind(dateProps)",...(D=(B=p.parameters)==null?void 0:B.docs)==null?void 0:D.source}}};var M,j,F;d.parameters={...d.parameters,docs:{...(M=d.parameters)==null?void 0:M.docs,source:{originalSource:"template.bind(narrowCharactersProps)",...(F=(j=d.parameters)==null?void 0:j.docs)==null?void 0:F.source}}};var X,H,A;m.parameters={...m.parameters,docs:{...(X=m.parameters)==null?void 0:X.docs,source:{originalSource:"template.bind(customSizeProps)",...(A=(H=m.parameters)==null?void 0:H.docs)==null?void 0:A.source}}};const Pe=["text","number","date","narrowCharacters","customSize"];export{Pe as __namedExportsOrder,m as customSize,p as date,Se as default,d as narrowCharacters,i as number,c as text};
