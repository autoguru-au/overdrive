import{f as d,b as f,g as b,h as l}from"./useFocusRing-aF7_X6cQ.js";import{r as a,R as $}from"./index-Cr_cdoBq.js";function u(e){if(!e)return;let t=!0;return o=>{let r={...o,preventDefault(){o.preventDefault()},isDefaultPrevented(){return o.isDefaultPrevented()},stopPropagation(){t?console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior."):t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};e(r),t&&o.stopPropagation()}}function p(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:u(e.onKeyDown),onKeyUp:u(e.onKeyUp)}}}let P=$.createContext(null);function x(e){let t=a.useContext(P)||{};l(t,e);let{ref:o,...r}=t;return r}function g(e,t){let{focusProps:o}=d(e),{keyboardProps:r}=p(e),s=f(o,r),c=x(t),i=e.isDisabled?{}:c,n=a.useRef(e.autoFocus);return a.useEffect(()=>{n.current&&t.current&&b(t.current),n.current=!1},[t]),{focusableProps:f({...s,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},i)}}export{g as $};
