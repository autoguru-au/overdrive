import{i as se}from"./isChromatic-AKtkhq4f.js";import{r as t}from"./index-Cr_cdoBq.js";import{B as V,c as w}from"./Box-C6EWUaDo.js";import{i as ne}from"./withEnhancedInput.css-DrhWlsFD.js";import{u as ue}from"./useTextStyles-0HJxnMk7.js";import{T as le}from"./Text-Bbaxqxf5.js";import"./_commonjsHelpers-C932wzq6.js";import"./dataAttrs-BPvLuXwN.js";var ce="_1iskjcs0",ie="_1iskjcs1",pe="_1iskjcs2";const de=/^\d*\.?\d*$/,b=t.forwardRef(({is:a,colour:r="muted",size:o,display:n="inlineBlock",value:s,onFocus:u,onBlur:h,onKeyDown:P,onModeChange:S,tabIndex:Q=0,onChange:x,type:v="text",...Z},O)=>{var C;const y=t.useRef(null),E=t.useRef(null),[l,ee]=t.useState("TEXT"),[N,k]=t.useState(s),g=e=>{ee(e),typeof S=="function"&&S(e)},te=t.useCallback(e=>{const T=e.currentTarget.value,oe=T.charAt(T.length-1);v==="number"&&!de.test(oe)||(l==="INPUT"&&k(T),typeof x=="function"&&x(e))},[x,v,l]),_=ue({is:a,colour:r,size:o}),[ae,re]=t.useState();return t.useEffect(()=>{y.current&&re(y.current.clientWidth)},[y.current,N]),t.createElement(V,{ref:O,display:n,tabIndex:Q,position:"relative",className:ce,onClick:()=>g("INPUT"),onFocus:e=>{typeof u=="function"&&u(e),k(s),g("INPUT")},onBlur:e=>{typeof h=="function"&&h(e),g("TEXT")},onKeyDown:e=>{typeof P=="function"&&P(e),(e.key==="Enter"||e.key==="Escape")&&g("TEXT")}},l==="INPUT"&&t.createElement(V,{is:"input",...Z,autoFocus:!0,ref:E,type:v==="number"?"text":v,value:N,className:w(_,ne.itself.root),onChange:te,style:{width:ae}}),t.createElement(le,{noWrap:!0,ref:y,is:a,colour:r,size:o,className:w(_,ie,{[pe]:l==="INPUT"})},l==="INPUT"&&((C=E.current)==null?void 0:C.value)||s))});try{b.displayName="EditableText",b.__docgenInfo={description:"",displayName:"EditableText",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onModeChange:{defaultValue:null,description:"",name:"onModeChange",required:!1,type:{name:"((mode: InputMode) => void)"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'},{value:'"5"'},{value:'"6"'},{value:'"7"'},{value:'"8"'},{value:'"9"'}]}},is:{defaultValue:null,description:"",name:"is",required:!1,type:{name:"enum",value:[{value:'"span"'},{value:'"p"'}]}},colour:{defaultValue:{value:"muted"},description:"",name:"colour",required:!1,type:{name:"enum",value:[{value:'"unset"'},{value:'"white"'},{value:'"dark"'},{value:'"light"'},{value:'"link"'},{value:'"muted"'},{value:'"primary"'},{value:'"brand"'},{value:'"secondary"'},{value:'"shine"'},{value:'"neutral"'},{value:'"danger"'},{value:'"warning"'},{value:'"success"'},{value:'"information"'}]}},noWrap:{defaultValue:null,description:"",name:"noWrap",required:!1,type:{name:"boolean"}},display:{defaultValue:{value:"inlineBlock"},description:"",name:"display",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"flex"'},{value:'"grid"'},{value:'"block"'},{value:'"contents"'},{value:'"inline"'},{value:'"inlineFlex"'},{value:'"inlineBlock"'}]}}}}}catch{}const Se={title:"Forms & Input Fields/Editable Text",component:b,argTypes:{colour:{options:["muted","primary","secondary"],defaultValue:"primary",control:{type:"select"}}}},f=({onChange:a,value:r,...o})=>{const[n,s]=t.useState(r);return t.createElement(b,{onChange:u=>{s(u.currentTarget.value),typeof a=="function"&&a(u.currentTarget.value)},value:n,...o})},Y={colour:"muted",value:"Hello World",type:"text"},G={colour:"muted",value:"20",type:"number"},me=(a=new Date)=>{const r=a.getFullYear(),o=(a.getMonth()+1).toString().padStart(2,"0"),n=a.getDate().toString().padStart(2,"0");return`${r}-${o}-${n}`},fe=me(se()?new Date(2019,5,1):new Date),J={colour:"muted",value:fe,type:"date"},K={colour:"muted",value:"Price is $111.01",type:"text"},L={colour:"warning",value:"$999.99",type:"text",size:"6"},c=f.bind(Y),i=f.bind(G),p=f.bind(J),d=f.bind(K),m=f.bind(L);c.args=Y;i.args=G;p.args=J;d.args=K;m.args=L;var I,q,W;c.parameters={...c.parameters,docs:{...(I=c.parameters)==null?void 0:I.docs,source:{originalSource:"template.bind(textProps)",...(W=(q=c.parameters)==null?void 0:q.docs)==null?void 0:W.source}}};var D,$,z;i.parameters={...i.parameters,docs:{...(D=i.parameters)==null?void 0:D.docs,source:{originalSource:"template.bind(numberProps)",...(z=($=i.parameters)==null?void 0:$.docs)==null?void 0:z.source}}};var R,U,B;p.parameters={...p.parameters,docs:{...(R=p.parameters)==null?void 0:R.docs,source:{originalSource:"template.bind(dateProps)",...(B=(U=p.parameters)==null?void 0:U.docs)==null?void 0:B.source}}};var F,M,j;d.parameters={...d.parameters,docs:{...(F=d.parameters)==null?void 0:F.docs,source:{originalSource:"template.bind(narrowCharactersProps)",...(j=(M=d.parameters)==null?void 0:M.docs)==null?void 0:j.source}}};var X,H,A;m.parameters={...m.parameters,docs:{...(X=m.parameters)==null?void 0:X.docs,source:{originalSource:"template.bind(customSizeProps)",...(A=(H=m.parameters)==null?void 0:H.docs)==null?void 0:A.source}}};const Ee=["Text","Number","DateWithPicker","NarrowCharacters","CustomSize"];export{m as CustomSize,p as DateWithPicker,d as NarrowCharacters,i as Number,c as Text,Ee as __namedExportsOrder,Se as default};
