import{$ as v,b as f,c as V,C as A}from"./Calendar-CnCTtkcV.js";import{r,e as a,c as Y,E as U,s as B}from"./iframe-C9jllvPJ.js";import{I as H}from"./Icon-BV8fzRUr.js";import{P as W}from"./ProgressSpinner-CjFPPX3k.js";import{T as G}from"./Text-DggnGx7l.js";import{V as J}from"./VisuallyHidden-DYpFOKMy.js";import{P as K}from"./PopoverTrigger-WryGiTw9.js";import{I as Q}from"./CurrencyUsdIcon-C_azmv9T.js";function ce(e){if(!e)return!1;if(typeof e=="string")try{e=v(e)}catch{return!1}return e.compare(V(f()))===0}function me(e){if(!e)return null;try{return v(e)}catch{return null}}function pe(e){return e?.toString()??""}function fe(e,u="medium",g="en-AU"){if(!e)return"";let n;if(typeof e=="string")try{n=v(e)}catch{return e}else n=e;return new Intl.DateTimeFormat(g,{dateStyle:u}).format(n.toDate(f()))}var X="_1j3uugj0",Z="_1j3uugj1",ee="_1j3uugj2",_={default:"_1j3uugj3",withLabel:"_1j3uugj4"},j={cursor:"_1j3uugj5",native:"_1j3uugj6"};const ae={openCalendar:"open calendar"},te={small:"2",medium:"3",large:"5"},M=e=>e?e.toString():"",s=e=>{try{return v(e)}catch{return null}},P=r.forwardRef(({calendarOptions:e,className:u,defaultValue:g,disabled:n=!1,icon:C=Q,isLoading:N=!1,lang:x,max:d,min:c,onChange:l,placement:T="bottom left",size:h="medium",testId:O,useNativePicker:z=!1,value:i,valueLabel:y,...I},S)=>{const o=i!==void 0,[m,p]=r.useState(()=>{const t=o?i:g;return t?s(t):null}),[b,$]=r.useState(null);r.useEffect(()=>{if(o){const t=i?s(i):null;p(t)}},[i,o]);const F=t=>{const D=t.currentTarget.value;if(D){const R=s(D);p(R)}else p(null);typeof l=="function"&&l(D)},k=N?a.createElement(W,{size:h}):a.createElement(H,{icon:C,size:h}),E=y?a.createElement(G,{size:te[h]},y):null,q=r.useCallback(t=>{p(t),typeof l=="function"&&l(M(t)),b&&b.close()},[l,b]),w=r.useMemo(()=>({calendarOptions:{...o?{value:m||V(f())}:{defaultValue:m||V(f())},...c&&{minValue:s(c)},...d&&{maxValue:s(d)}},...e,onChange:q}),[m,e,q,o,c,d]),L=r.useMemo(()=>a.createElement(A,{...w}),[w]);return z?a.createElement("div",{className:Y(u,X,n&&j.native)},a.createElement("input",{...I,ref:S,className:U({className:[Z,{[j.cursor]:n}]}),type:"date",disabled:n,min:c,max:d,onChange:F}),a.createElement("div",{className:ee},a.createElement("div",{className:Y(_.default,{[_.withLabel]:!!y})},k,E))):a.createElement("div",{className:u},a.createElement(K,{content:L,placement:T,testId:O,isDisabled:n,onStateReady:$},a.createElement("div",{className:B({display:"flex",alignItems:"center",gap:"1"})},k,E),a.createElement(J,null,x?.openCalendar??ae.openCalendar)),a.createElement("input",{...I,ref:S,value:M(m),type:"hidden"}))});P.displayName="DatePicker";try{P.displayName="DatePicker",P.__docgenInfo={description:"The DatePicker has been updated to render the Calendar component with a Popover while\nmaintaining backwards compatability.\n\n## Props\n- Visual size controlled by `size` (small | medium | large)\n- Icon can be customized via the `icon` prop\n\n## Event handling\n- `onChange` is always invoked with the raw ISO date string (or empty string when cleared)\n\n## Compatibility mode\n- Setting `useNativePicker={true}` preserves the original browser-specific experience.\n\n## Internationalization\n- Override text values via `lang={{ openCalendar: 'open calendar' }}`\n- Calendar options including `lang` can be passed via `calendarOptions` prop\n- Date formatting helper available in `...utils/dateFormat.ts` or use `@internationalized/date` utils\n- Advanced i18n and localization handled by [React Aria I18Provider](https://react-spectrum.adobe.com/react-aria/I18nProvider.html)\n- Read more about [International calendars](https://react-spectrum.adobe.com/react-aria/useDatePicker.html#international-calendars)",displayName:"DatePicker",props:{calendarOptions:{defaultValue:null,description:"Options to customise the calendar: `allowPastDate`, `lang`, etc.",name:"calendarOptions",required:!1,type:{name:'Omit<CalendarProps, "onChange">'}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"Default selected date as an ISO string YYYY-MM-DD (uncontrolled)",name:"defaultValue",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Whether the picker is disabled and non-interactive",name:"disabled",required:!1,type:{name:"boolean"}},icon:{defaultValue:null,description:"Icon to render inside the picker (defaults to calendar icon)",name:"icon",required:!1,type:{name:"IconType"}},id:{defaultValue:null,description:"Form field id",name:"id",required:!1,type:{name:"string"}},isLoading:{defaultValue:{value:"false"},description:"Show a loading state spinner instead of the icon",name:"isLoading",required:!1,type:{name:"boolean"}},max:{defaultValue:null,description:"Maximum selectable date YYYY-MM-DD",name:"max",required:!1,type:{name:"string"}},min:{defaultValue:null,description:"Minimum selectable date YYYY-MM-DD",name:"min",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"Input field name recommended for form usage",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(date: string) => void"}},placement:{defaultValue:{value:"bottom left"},description:"Calendar popover placement relative to the trigger ('bottom left', 'top', etc.)",name:"placement",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"end"'},{value:'"start"'},{value:'"bottom left"'},{value:'"bottom right"'},{value:'"bottom start"'},{value:'"bottom end"'},{value:'"top left"'},{value:'"top right"'},{value:'"top start"'},{value:'"top end"'},{value:'"left top"'},{value:'"left bottom"'},{value:'"start top"'},{value:'"start bottom"'},{value:'"right top"'},{value:'"right bottom"'},{value:'"end top"'},{value:'"end bottom"'}]}},size:{defaultValue:{value:"medium"},description:"Visual size of the picker control (small, medium, large)",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}},value:{defaultValue:null,description:"The selected date as an ISO string (YYYY-MM-DD). Use `undefined` for an empty value\n(controlled)",name:"value",required:!1,type:{name:"string"}},valueLabel:{defaultValue:null,description:"Fallback label to display when no date value is selected.",name:"valueLabel",required:!1,type:{name:"string"}},useNativePicker:{defaultValue:{value:"false"},description:"Use native browser date picker instead of Calendar popover",name:"useNativePicker",required:!1,type:{name:"boolean"}},lang:{defaultValue:null,description:"Language content override for DatePicker",name:"lang",required:!1,type:{name:'Partial<Record<"openCalendar", string>>'}},testId:{defaultValue:null,description:"The test ID will be rendered as a data attribute `data-testid` on the element for use with test assertions",name:"testId",required:!1,type:{name:"string"}}}}}catch{}export{P as D,fe as d,pe as f,ce as i,me as s};
