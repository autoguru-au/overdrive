import{r as s}from"./index-DVCUSwsV.js";import{o as b}from"./theme.css-CgnscP65.js";import{u as y}from"./useResponsiveValue-DXWdNCjj.js";import{a as H}from"./OverdriveProvider-0GejZ--N.js";import{S as w}from"./ScrollPane-R5_cvJRM.js";const V=/var\(([^)]+)\)/,x=t=>{const n=V.exec(t);return n?n[1]:t},_=(t,n)=>{var e;if(!t||!n)return"";const a=x(n),r=document.querySelector(`.${t}`);return!r||!a?"":((e=getComputedStyle(r).getPropertyValue(a))==null?void 0:e.trim())||""},F=({bottomGap:t="none",includeMobile:n=!1,serverVhFallback:a=100,containerRef:r,observedElementRef:e,maxHeight:u})=>{const c=y([n,,!0]),{themeClass:o}=H(),[l,v]=s.useState(`${a}vh`),m=s.useRef(l);return s.useLayoutEffect(()=>{if(!(r!=null&&r.current)||!(window!=null&&window.innerHeight)||!(document!=null&&document.body))return;const i=()=>{const f=_(o,b.space[t])||"0px",d=`calc(${Math.min(u??Number.POSITIVE_INFINITY,window.innerHeight-r.current.getBoundingClientRect().top)}px - ${f})`;m.current!==d&&(v(d),m.current=d)},p=new MutationObserver(i);p.observe((e==null?void 0:e.current)||document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1});const h=new ResizeObserver(i);return h.observe((e==null?void 0:e.current)||document.body),window.removeEventListener("resize",i),window.addEventListener("resize",i,{passive:!0}),i(),()=>{window.removeEventListener("resize",i),p.disconnect(),h.disconnect()}},[o,t,u,r,e]),c?l:"auto"},g=({includeMobile:t,bottomGap:n,serverVhFallback:a,observedElementRef:r,style:e,maxHeight:u,...c})=>{const o=s.useRef(null),l=F({containerRef:o,includeMobile:t,observedElementRef:r,bottomGap:n,serverVhFallback:a,maxHeight:u});return s.createElement(w,{...c,ref:o,style:{...e,maxHeight:l}})};try{g.displayName="FillHeightBox",g.__docgenInfo={description:"",displayName:"FillHeightBox",props:{maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},bottomGap:{defaultValue:null,description:"",name:"bottomGap",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'},{value:'"5"'},{value:'"6"'},{value:'"7"'},{value:'"8"'},{value:'"9"'}]}},serverVhFallback:{defaultValue:null,description:"",name:"serverVhFallback",required:!1,type:{name:"number"}},includeMobile:{defaultValue:null,description:"",name:"includeMobile",required:!1,type:{name:"boolean"}},observeDomChanges:{defaultValue:null,description:"",name:"observeDomChanges",required:!1,type:{name:"boolean"}},observedElementRef:{defaultValue:null,description:"",name:"observedElementRef",required:!1,type:{name:"RefObject<HTMLDivElement>"}}}}}catch{}export{g as F};
